"use strict";(self.webpackChunkvendure_admin=self.webpackChunkvendure_admin||[]).push([[644],{644:(Wo,ye,u)=>{u.r(ye),u.d(ye,{AddCountryToZoneDialogComponent:()=>j,AdminDetailComponent:()=>x,AdministratorListComponent:()=>Y,CREATE_STOCK_LOCATION:()=>Oo,ChannelDetailComponent:()=>B,ChannelListComponent:()=>w,CountryDetailComponent:()=>O,CountryListComponent:()=>V,GET_ADMINISTRATOR_DETAIL:()=>Do,GET_ADMINISTRATOR_LIST:()=>Po,GET_CHANNEL_DETAIL:()=>$o,GET_CHANNEL_LIST:()=>Ro,GET_COUNTRY_DETAIL:()=>Go,GET_COUNTRY_LIST:()=>Mo,GET_GLOBAL_SETTINGS_DETAIL:()=>So,GET_PAYMENT_METHOD_DETAIL:()=>Lo,GET_PAYMENT_METHOD_LIST:()=>No,GET_PROFILE_DETAIL:()=>Eo,GET_ROLE_DETAIL:()=>Ao,GET_ROLE_LIST:()=>jo,GET_SELLER_DETAIL:()=>xo,GET_SHIPPING_METHOD_DETAIL:()=>Yo,GET_SHIPPING_METHOD_LIST:()=>Bo,GET_STOCK_LOCATION_DETAIL:()=>wo,GET_STOCK_LOCATION_LIST:()=>Uo,GET_TAX_CATEGORY_DETAIL:()=>Xo,GET_TAX_CATEGORY_LIST:()=>qo,GET_TAX_RATE_DETAIL:()=>Zo,GET_TAX_RATE_LIST:()=>Jo,GET_ZONE_DETAIL:()=>Ho,GET_ZONE_LIST:()=>zo,GET_ZONE_MEMBERS:()=>ko,GlobalSettingsComponent:()=>U,PaymentMethodDetailComponent:()=>X,PaymentMethodListComponent:()=>q,PermissionGridComponent:()=>R,ProfileComponent:()=>Z,ProfileResolver:()=>me,RoleDetailComponent:()=>J,RoleListComponent:()=>H,SellerDetailComponent:()=>z,SellerListComponent:()=>W,SettingsModule:()=>S,ShippingEligibilityTestResultComponent:()=>Q,ShippingMethodDetailComponent:()=>ee,ShippingMethodListComponent:()=>te,ShippingMethodTestResultComponent:()=>K,StockLocationDetailComponent:()=>ne,StockLocationListComponent:()=>re,TaxCategoryDetailComponent:()=>ae,TaxCategoryListComponent:()=>oe,TaxRateDetailComponent:()=>ie,TaxRateListComponent:()=>se,TestAddressFormComponent:()=>M,TestOrderBuilderComponent:()=>G,TestShippingMethodsComponent:()=>le,UPDATE_STOCK_LOCATION:()=>Vo,ZoneDetailComponent:()=>de,ZoneListComponent:()=>ce,ZoneMemberControlsDirective:()=>E,ZoneMemberListComponent:()=>D,ZoneMemberListHeaderDirective:()=>A,assignPaymentMethodsToChannelBulkAction:()=>Ge,assignShippingMethodsToChannelBulkAction:()=>Ee,assignStockLocationsToChannelBulkAction:()=>xe,createRoutes:()=>Ue,deleteAdministratorsBulkAction:()=>De,deleteChannelsBulkAction:()=>Pe,deleteCountriesBulkAction:()=>$e,deletePaymentMethodsBulkAction:()=>Re,deleteRolesBulkAction:()=>Se,deleteSellersBulkAction:()=>Le,deleteShippingMethodsBulkAction:()=>Ne,deleteStockLocationsBulkAction:()=>je,deleteTaxCategoriesBulkAction:()=>Be,deleteTaxRatesBulkAction:()=>we,deleteZonesBulkAction:()=>Oe,removePaymentMethodsFromChannelBulkAction:()=>Me,removeShippingMethodsFromChannelBulkAction:()=>Ae,removeStockLocationsFromChannelBulkAction:()=>Ye,removeZoneMembersBulkAction:()=>Ve});var e=u(5703),o=u(1644),p=u(1614),y=u(8636),ue=u(3082),Xe=u(4383),b=u(7589),qe=u(5761),Te=u(6301),Ze=u(5099),Je=u(390),He=u(1556),ze=u(3657);function Ie(...r){const n=(0,ze.ms)(r);return(0,qe.N)((t,a)=>{const i=r.length,s=new Array(i);let m=r.map(()=>!1),v=!1;for(let f=0;f<i;f++)(0,Ze.Tg)(r[f]).subscribe((0,Te._)(a,F=>{s[f]=F,!v&&!m[f]&&(m[f]=!0,(v=m.every(Je.D))&&(m=null))},He.l));t.subscribe((0,Te._)(a,f=>{if(v){const F=[f,...s];a.next(n?n(...F):F)}}))})}var _=u(7603),Fe=u(2874),L=u(2201),We=u(2727),Qe=u(8564),l=u(6944),N=u(3995),Ke=u(5259),fe=u(7023),pe=u(4982),$=u(3737),et=u(1750),g=u(1533),c=u(6884),C=u(6088),h=u(7244),d=u(405),k=u(611),tt=u(2067),nt=u(9015),be=u(3969),rt=u(6457),at=u(5976);const ot=r=>["/settings/countries",r];function it(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.id," ")}}function st(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.createdAt,"short")," ")}}function lt(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.createdAt,"short")," ")}}function dt(r,n){if(1&r&&(e.j41(0,"a",9)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"clr-icon",10),e.k0s()),2&r){const t=n.item;e.Y8G("routerLink",e.eq3(2,ot,t.id)),e.R7$(2),e.SpI(" ",t.name,"")}}function ct(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.code," ")}}function mt(r,n){1&r&&(e.j41(0,"vdr-chip",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"common.enabled")))}function ut(r,n){1&r&&(e.j41(0,"vdr-chip",14),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"common.disabled")))}function pt(r,n){if(1&r&&e.DNE(0,mt,3,3,"vdr-chip",11)(1,ut,3,3,"vdr-chip",12),2&r){const t=n.item;e.Y8G("ngIf",t.enabled),e.R7$(),e.Y8G("ngIf",!t.enabled)}}const ve=r=>({zoneName:r});function gt(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"translate")),2&r){const t=e.XpG();e.JRh(e.i5U(1,1,"settings.add-countries-to-zone",e.eq3(4,ve,t.zoneName)))}}function ht(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",3),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.cancel())}),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"button",4),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.add())}),e.EFF(4),e.nI1(5,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.R7$(),e.JRh(e.bMT(2,3,"common.cancel")),e.R7$(2),e.Y8G("disabled",!t.selectedMemberIds.length),e.R7$(),e.SpI(" ",e.i5U(5,5,"settings.add-countries-to-zone",e.eq3(8,ve,t.zoneName))," ")}}function ft(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",4),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,s=e.XpG();return e.Njj(s.toggleAll(i.permissions))}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&r&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"common.toggle-all")," "))}function bt(r,n){if(1&r){const t=e.RV6();e.j41(0,"td")(1,"vdr-select-toggle",5),e.bIt("selectedChange",function(i){const s=e.eBV(t).$implicit,m=e.XpG(2);return e.Njj(m.setPermission(s.name,i))}),e.k0s()()}if(2&r){const t=n.$implicit,a=e.XpG().$implicit,i=e.XpG();e.BMQ("colspan",1===a.permissions.length?4:1),e.R7$(),e.Y8G("title",t.description)("label",t.name)("disabled",i.readonly)("selected",null==i.activePermissions?null:i.activePermissions.includes(t.name))}}function vt(r,n){if(1&r&&(e.j41(0,"tr")(1,"td",2)(2,"div")(3,"strong"),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"small"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.nrm(9,"br"),e.DNE(10,ft,3,3,"button",3),e.k0s(),e.DNE(11,bt,2,5,"td",1),e.k0s()),2&r){const t=n.$implicit,a=e.XpG();e.R7$(4),e.JRh(e.bMT(5,4,t.label)),e.R7$(3),e.JRh(e.bMT(8,6,t.description)),e.R7$(3),e.Y8G("ngIf",1<t.permissions.length&&!a.readonly),e.R7$(),e.Y8G("ngForOf",t.permissions)}}const ge=()=>["CreateAdministrator","UpdateAdministrator"];function _t(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.create())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("disabled",t.detailForm.invalid||t.detailForm.pristine),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.create")," ")}}function Ct(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.save())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("disabled",t.detailForm.invalid||t.detailForm.pristine),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.update")," ")}}function yt(r,n){1&r&&e.DNE(0,Ct,3,4,"button",22),2&r&&e.Y8G("vdrIfPermissions","UpdateAdministrator")}function Tt(r,n){if(1&r&&(e.j41(0,"vdr-card"),e.nrm(1,"vdr-page-entity-info",23),e.k0s()),2&r){const t=n.ngIf;e.R7$(),e.Y8G("entity",t)}}function It(r,n){1&r&&(e.j41(0,"vdr-form-field",24),e.nI1(1,"translate"),e.nrm(2,"input",25),e.k0s()),2&r&&e.Y8G("label",e.bMT(1,1,"settings.password"))}function Ft(r,n){1&r&&(e.j41(0,"vdr-form-field",26),e.nI1(1,"translate"),e.nrm(2,"input",25),e.k0s()),2&r&&e.Y8G("label",e.bMT(1,2,"settings.password"))("readOnlyToggle",!0)}function kt(r,n){if(1&r&&(e.j41(0,"vdr-card",27),e.nI1(1,"translate"),e.nrm(2,"vdr-tabbed-custom-fields",28),e.k0s()),2&r){const t=e.XpG();e.Y8G("title",e.bMT(1,3,"common.custom-fields")),e.R7$(2),e.Y8G("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}function Dt(r,n){if(1&r){const t=e.RV6();e.j41(0,"li",29)(1,"button",30),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.selectedChannelId=i.channelId)}),e.EFF(2),e.nI1(3,"channelCodeToLabel"),e.nI1(4,"translate"),e.k0s()()}if(2&r){const t=n.$implicit,a=e.XpG();e.R7$(),e.AVh("active",a.selectedChannelId===t.channelId),e.Y8G("id",t.channelId),e.BMQ("aria-selected",a.selectedChannelId===t.channelId),e.R7$(),e.SpI(" ",e.bMT(4,7,e.bMT(3,5,t.channelCode))," ")}}const ke=()=>["CreateAdministrator"],I=()=>["./","create"],T=r=>["./",r];function Pt(r,n){1&r&&(e.j41(0,"a",12),e.nrm(1,"clr-icon",13),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r&&(e.Y8G("routerLink",e.lJ4(4,I)),e.R7$(2),e.SpI(" ",e.bMT(3,2,"admin.create-new-administrator")," "))}function $t(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.id," ")}}function Rt(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.createdAt,"short")," ")}}function Gt(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.updatedAt,"short")," ")}}function Mt(r,n){if(1&r&&(e.j41(0,"a",14)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"clr-icon",15),e.k0s()),2&r){const t=n.item;e.Y8G("routerLink",e.eq3(3,T,t.id)),e.R7$(2),e.Lme("",t.firstName," ",t.lastName,"")}}function St(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.emailAddress," ")}}function Lt(r,n){if(1&r&&(e.j41(0,"vdr-chip"),e.EFF(1),e.k0s()),2&r){const t=n.$implicit;e.R7$(),e.JRh(t.description)}}function Nt(r,n){if(1&r&&e.DNE(0,Lt,2,1,"vdr-chip",16),2&r){const t=n.item;e.Y8G("ngForOf",t.user.roles)}}function Et(r,n){if(1&r&&e.nrm(0,"vdr-dt2-custom-field-column",17),2&r){const t=n.$implicit,a=e.XpG();e.Y8G("customField",t)("sorts",a.sorts)}}const At=()=>["SuperAdmin","UpdateChannel"];function jt(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.create())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("disabled",!t.saveButtonEnabled()),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.create")," ")}}function xt(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.save())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("disabled",!t.saveButtonEnabled()),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.update")," ")}}function Yt(r,n){1&r&&e.DNE(0,xt,3,4,"button",33),2&r&&e.Y8G("vdrIfPermissions",e.lJ4(1,At))}function Bt(r,n){if(1&r&&(e.j41(0,"vdr-card"),e.nrm(1,"vdr-page-entity-info",34),e.k0s()),2&r){const t=n.ngIf;e.R7$(),e.Y8G("entity",t)}}function wt(r,n){if(1&r&&(e.j41(0,"vdr-form-field",35),e.nI1(1,"translate"),e.nrm(2,"input",36),e.nI1(3,"hasPermission"),e.k0s()),2&r){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"common.code")),e.R7$(2),e.Y8G("readonly",!e.bMT(3,4,t.updatePermission))}}function Ot(r,n){if(1&r&&(e.j41(0,"vdr-form-item",37),e.nI1(1,"translate"),e.EFF(2),e.nI1(3,"channelCodeToLabel"),e.nI1(4,"translate"),e.k0s()),2&r){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"common.code")),e.R7$(2),e.SpI(" ",e.bMT(4,6,e.bMT(3,4,null==t.entity?null:t.entity.code))," ")}}function Vt(r,n){if(1&r&&(e.j41(0,"option",38),e.EFF(1),e.k0s()),2&r){const t=n.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function Ut(r,n){if(1&r&&(e.j41(0,"option",38),e.EFF(1),e.nI1(2,"localeLanguageName"),e.nI1(3,"uppercase"),e.k0s()),2&r){const t=n.$implicit;e.Y8G("value",t),e.R7$(),e.Lme(" ",e.bMT(2,3,t)," (",e.bMT(3,5,t),") ")}}function Xt(r,n){if(1&r&&(e.j41(0,"option",38),e.EFF(1),e.nI1(2,"localeCurrencyName"),e.k0s()),2&r){const t=n.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",e.bMT(2,2,t)," ")}}function qt(r,n){1&r&&(e.j41(0,"clr-alert",39)(1,"clr-alert-item")(2,"span",40),e.EFF(3),e.nI1(4,"translate"),e.k0s()()()),2&r&&(e.Y8G("clrAlertClosable",!1),e.R7$(3),e.SpI(" ",e.bMT(4,2,"error.no-default-tax-zone-set")," "))}function Zt(r,n){1&r&&(e.j41(0,"clr-alert",39)(1,"clr-alert-item")(2,"span",40),e.EFF(3),e.nI1(4,"translate"),e.k0s()()()),2&r&&(e.Y8G("clrAlertClosable",!1),e.R7$(3),e.SpI(" ",e.bMT(4,2,"error.no-default-shipping-zone-set")," "))}function Jt(r,n){if(1&r&&(e.j41(0,"vdr-card",41),e.nI1(1,"translate"),e.nrm(2,"vdr-tabbed-custom-fields",42),e.k0s()),2&r){const t=e.XpG();e.Y8G("title",e.bMT(1,3,"common.custom-fields")),e.R7$(2),e.Y8G("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}const Ht=()=>["SuperAdmin","CreateChannel"];function zt(r,n){1&r&&(e.j41(0,"a",11),e.nrm(1,"clr-icon",12),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r&&(e.Y8G("routerLink",e.lJ4(4,I)),e.R7$(2),e.SpI(" ",e.bMT(3,2,"settings.create-new-channel")," "))}function Wt(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.id," ")}}function Qt(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.createdAt,"short")," ")}}function Kt(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.updatedAt,"short")," ")}}function en(r,n){if(1&r&&(e.j41(0,"a",13)(1,"span"),e.EFF(2),e.nI1(3,"channelCodeToLabel"),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"clr-icon",14),e.k0s()),2&r){const t=n.item;e.Y8G("routerLink",e.eq3(6,T,t.id)),e.R7$(2),e.JRh(e.bMT(4,4,e.bMT(3,2,t.code)))}}function tn(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.token," ")}}function nn(r,n){if(1&r&&e.nrm(0,"vdr-dt2-custom-field-column",15),2&r){const t=n.$implicit,a=e.XpG();e.Y8G("customField",t)("sorts",a.sorts)}}function rn(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.create())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("disabled",t.detailForm.invalid||t.detailForm.pristine),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.create")," ")}}function an(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.save())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("disabled",t.detailForm.invalid||t.detailForm.pristine),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.update")," ")}}function on(r,n){if(1&r&&e.DNE(0,an,3,4,"button",16),2&r){const t=e.XpG();e.Y8G("vdrIfPermissions",t.updatePermission)}}function sn(r,n){if(1&r&&(e.j41(0,"vdr-card"),e.nrm(1,"vdr-page-entity-info",17),e.k0s()),2&r){const t=n.ngIf;e.R7$(),e.Y8G("entity",t)}}function ln(r,n){if(1&r&&(e.j41(0,"vdr-card",18),e.nI1(1,"translate"),e.nrm(2,"vdr-tabbed-custom-fields",19),e.k0s()),2&r){const t=e.XpG();e.Y8G("title",e.bMT(1,3,"common.custom-fields")),e.R7$(2),e.Y8G("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}const dn=()=>["CreateSettings","CreateCountry"];function cn(r,n){1&r&&(e.j41(0,"a",13),e.nrm(1,"clr-icon",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r&&(e.Y8G("routerLink",e.lJ4(4,I)),e.R7$(2),e.SpI(" ",e.bMT(3,2,"settings.create-new-country")," "))}function mn(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.id," ")}}function un(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.createdAt,"short")," ")}}function pn(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.updatedAt,"short")," ")}}function gn(r,n){if(1&r&&(e.j41(0,"a",15)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"clr-icon",16),e.k0s()),2&r){const t=n.item;e.Y8G("routerLink",e.eq3(2,T,t.id)),e.R7$(2),e.JRh(t.name)}}function hn(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.code," ")}}function fn(r,n){1&r&&(e.j41(0,"vdr-chip",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"common.enabled")))}function bn(r,n){1&r&&(e.j41(0,"vdr-chip",20),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"common.disabled")))}function vn(r,n){if(1&r&&e.DNE(0,fn,3,3,"vdr-chip",17)(1,bn,3,3,"vdr-chip",18),2&r){const t=n.item;e.Y8G("ngIf",t.enabled),e.R7$(),e.Y8G("ngIf",!t.enabled)}}function _n(r,n){if(1&r&&e.nrm(0,"vdr-dt2-custom-field-column",21),2&r){const t=n.$implicit,a=e.XpG();e.Y8G("customField",t)("sorts",a.sorts)}}function Cn(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.save())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("disabled",t.detailForm.invalid||t.detailForm.pristine),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.update")," ")}}function yn(r,n){if(1&r&&(e.j41(0,"vdr-card",13),e.nI1(1,"translate"),e.nrm(2,"vdr-tabbed-custom-fields",14),e.nI1(3,"hasPermission"),e.k0s()),2&r){const t=e.XpG();e.Y8G("title",e.bMT(1,4,"common.custom-fields")),e.R7$(2),e.Y8G("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))("readonly",!e.bMT(3,6,t.updatePermission))}}function Tn(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.create())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("disabled",t.detailForm.pristine||t.detailForm.invalid||!t.selectedHandler),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.create")," ")}}function In(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.save())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("disabled",t.detailForm.pristine||t.detailForm.invalid||!t.selectedHandler),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.update")," ")}}function Fn(r,n){if(1&r&&e.DNE(0,In,3,4,"button",20),2&r){const t=e.XpG();e.Y8G("vdrIfPermissions",t.updatePermission)}}function kn(r,n){if(1&r&&(e.j41(0,"vdr-card"),e.nrm(1,"vdr-page-entity-info",21),e.k0s()),2&r){const t=n.ngIf;e.R7$(),e.Y8G("entity",t)}}function Dn(r,n){if(1&r&&(e.j41(0,"vdr-card",22),e.nI1(1,"translate"),e.nrm(2,"vdr-tabbed-custom-fields",23),e.k0s()),2&r){const t=e.XpG();e.Y8G("title",e.bMT(1,3,"common.custom-fields")),e.R7$(2),e.Y8G("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}function Pn(r,n){if(1&r){const t=e.RV6();e.j41(0,"vdr-configurable-input",24),e.nI1(1,"hasPermission"),e.bIt("remove",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.removeChecker())}),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("operation",t.selectedChecker)("operationDefinition",t.selectedCheckerDefinition)("readonly",!e.bMT(1,3,t.updatePermission))}}function $n(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.selectChecker(i))}),e.EFF(1),e.k0s()}if(2&r){const t=n.$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function Rn(r,n){if(1&r&&(e.j41(0,"div")(1,"vdr-dropdown")(2,"button",25),e.nrm(3,"clr-icon",26),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"vdr-dropdown-menu",27),e.DNE(7,$n,2,1,"button",28),e.k0s()()()),2&r){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,2,"common.select")," "),e.R7$(3),e.Y8G("ngForOf",t.checkers)}}function Gn(r,n){if(1&r){const t=e.RV6();e.j41(0,"vdr-configurable-input",30),e.nI1(1,"hasPermission"),e.bIt("remove",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.removeHandler())}),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("operation",t.selectedHandler)("operationDefinition",t.selectedHandlerDefinition)("readonly",!e.bMT(1,3,t.updatePermission))}}function Mn(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.selectHandler(i))}),e.EFF(1),e.k0s()}if(2&r){const t=n.$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function Sn(r,n){if(1&r&&(e.j41(0,"div")(1,"vdr-dropdown")(2,"button",25),e.nrm(3,"clr-icon",26),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"vdr-dropdown-menu",27),e.DNE(7,Mn,2,1,"button",28),e.k0s()()()),2&r){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,2,"common.select")," "),e.R7$(3),e.Y8G("ngForOf",t.handlers)}}const Ln=()=>["CreateSettings","CreatePaymentMethod"];function Nn(r,n){1&r&&(e.j41(0,"a",13),e.nrm(1,"clr-icon",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r&&(e.Y8G("routerLink",e.lJ4(4,I)),e.R7$(2),e.SpI(" ",e.bMT(3,2,"settings.create-new-payment-method")," "))}function En(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.id," ")}}function An(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.createdAt,"short")," ")}}function jn(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.updatedAt,"short")," ")}}function xn(r,n){if(1&r&&(e.j41(0,"a",15)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"clr-icon",16),e.k0s()),2&r){const t=n.item;e.Y8G("routerLink",e.eq3(2,T,t.id)),e.R7$(2),e.JRh(t.name)}}function Yn(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.code," ")}}function Bn(r,n){1&r&&(e.j41(0,"vdr-chip",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"common.enabled")))}function wn(r,n){1&r&&(e.j41(0,"vdr-chip",20),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"common.disabled")))}function On(r,n){if(1&r&&e.DNE(0,Bn,3,3,"vdr-chip",17)(1,wn,3,3,"vdr-chip",18),2&r){const t=n.item;e.Y8G("ngIf",t.enabled),e.R7$(),e.Y8G("ngIf",!t.enabled)}}function Vn(r,n){if(1&r&&e.nrm(0,"vdr-dt2-custom-field-column",21),2&r){const t=n.$implicit,a=e.XpG();e.Y8G("customField",t)("sorts",a.sorts)}}function Un(r,n){if(1&r&&(e.j41(0,"vdr-card"),e.nrm(1,"vdr-page-entity-info",16),e.k0s()),2&r){const t=n.ngIf;e.R7$(),e.Y8G("entity",t)}}function Xn(r,n){1&r&&(e.j41(0,"vdr-form-field",17),e.nI1(1,"translate"),e.nrm(2,"input",13),e.k0s()),2&r&&e.Y8G("label",e.bMT(1,1,"settings.password"))}function qn(r,n){if(1&r&&(e.j41(0,"vdr-card",18),e.nI1(1,"translate"),e.nrm(2,"vdr-tabbed-custom-fields",19),e.k0s()),2&r){const t=e.XpG();e.Y8G("title",e.bMT(1,3,"common.custom-fields")),e.R7$(2),e.Y8G("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}function Zn(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.create())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("disabled",t.detailForm.invalid||t.detailForm.pristine),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.create")," ")}}function Jn(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.save())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("disabled",t.detailForm.invalid||t.detailForm.pristine),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.update")," ")}}function Hn(r,n){1&r&&e.DNE(0,Jn,3,4,"button",16),2&r&&e.Y8G("vdrIfPermissions","UpdateAdministrator")}function zn(r,n){if(1&r&&(e.j41(0,"vdr-card"),e.nrm(1,"vdr-page-entity-info",17),e.k0s()),2&r){const t=n.ngIf;e.R7$(),e.Y8G("entity",t)}}function Wn(r,n){1&r&&(e.j41(0,"a",14),e.nrm(1,"clr-icon",15),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r&&(e.Y8G("routerLink",e.lJ4(4,I)),e.R7$(2),e.SpI(" ",e.bMT(3,2,"settings.create-new-role")," "))}function Qn(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.id," ")}}function Kn(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.createdAt,"short")," ")}}function er(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.updatedAt,"short")," ")}}function tr(r,n){if(1&r&&(e.j41(0,"a",17)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"clr-icon",18),e.k0s()),2&r){const t=e.XpG().item;e.Y8G("routerLink",e.eq3(2,T,t.id)),e.R7$(2),e.JRh(t.description)}}function nr(r,n){if(1&r&&e.EFF(0),2&r){const t=e.XpG().item;e.SpI(" ",t.description," ")}}function rr(r,n){if(1&r&&e.DNE(0,tr,4,4,"a",16)(1,nr,1,1,"ng-template",null,0,e.C5r),2&r){const t=n.item,a=e.sdS(2),i=e.XpG();e.Y8G("ngIf",!i.isDefaultRole(t))("ngIfElse",a)}}function ar(r,n){if(1&r&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&r){const t=e.XpG().item;e.R7$(),e.JRh(t.code)}}function or(r,n){if(1&r&&e.DNE(0,ar,2,1,"span",19),2&r){const t=n.item,a=e.XpG();e.Y8G("ngIf",!a.isDefaultRole(t))}}function ir(r,n){if(1&r&&(e.j41(0,"vdr-chip"),e.nrm(1,"vdr-channel-badge",21),e.j41(2,"div",22),e.EFF(3),e.nI1(4,"channelCodeToLabel"),e.nI1(5,"translate"),e.k0s()()),2&r){const t=n.$implicit;e.R7$(),e.Y8G("channelCode",t.code),e.R7$(2),e.JRh(e.bMT(5,4,e.bMT(4,2,t.code)))}}function sr(r,n){if(1&r&&(e.qex(0),e.DNE(1,ir,6,6,"vdr-chip",20),e.bVm()),2&r){const t=e.XpG().item;e.R7$(),e.Y8G("ngForOf",t.channels)}}function lr(r,n){if(1&r&&e.DNE(0,sr,2,1,"ng-container",19),2&r){const t=n.item,a=e.XpG();e.Y8G("ngIf",!a.isDefaultRole(t))}}function dr(r,n){if(1&r&&(e.j41(0,"vdr-chip"),e.EFF(1),e.k0s()),2&r){const t=n.$implicit;e.R7$(),e.JRh(t)}}function cr(r,n){if(1&r&&(e.qex(0),e.nrm(1,"clr-icon",15),e.EFF(2),e.bVm()),2&r){const t=e.XpG(3).item,a=e.XpG();e.R7$(2),e.SpI(" ",t.permissions.length-a.initialLimit," ")}}function mr(r,n){1&r&&e.nrm(0,"clr-icon",27)}function ur(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2).item,s=e.XpG();return e.Njj(s.toggleDisplayLimit(i))}),e.DNE(1,cr,3,1,"ng-container",23)(2,mr,1,0,"ng-template",null,1,e.C5r),e.k0s()}if(2&r){const t=e.sdS(3),a=e.XpG(2).item,i=e.XpG();e.R7$(),e.Y8G("ngIf",(i.displayLimit[a.id]||0)<a.permissions.length)("ngIfElse",t)}}function pr(r,n){if(1&r&&(e.qex(0),e.j41(1,"div",24),e.DNE(2,dr,2,1,"vdr-chip",20),e.nI1(3,"slice"),e.DNE(4,ur,4,2,"button",25),e.k0s(),e.bVm()),2&r){const t=e.XpG().item,a=e.XpG();e.R7$(2),e.Y8G("ngForOf",e.brH(3,2,t.permissions,0,a.displayLimit[t.id]||3)),e.R7$(2),e.Y8G("ngIf",t.permissions.length>a.initialLimit)}}function gr(r,n){1&r&&(e.j41(0,"span",28),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"settings.default-role-label")))}function hr(r,n){if(1&r&&e.DNE(0,pr,5,6,"ng-container",23)(1,gr,3,3,"ng-template",null,0,e.C5r),2&r){const t=n.item,a=e.sdS(2),i=e.XpG();e.Y8G("ngIf",!i.isDefaultRole(t))("ngIfElse",a)}}const fr=()=>["SuperAdmin","UpdateSeller"];function br(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.create())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("disabled",!t.saveButtonEnabled()),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.create")," ")}}function vr(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.save())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("disabled",!t.saveButtonEnabled()),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.update")," ")}}function _r(r,n){1&r&&e.DNE(0,vr,3,4,"button",11),2&r&&e.Y8G("vdrIfPermissions",e.lJ4(1,fr))}function Cr(r,n){if(1&r&&(e.j41(0,"vdr-card"),e.nrm(1,"vdr-page-entity-info",12),e.k0s()),2&r){const t=n.ngIf;e.R7$(),e.Y8G("entity",t)}}function yr(r,n){if(1&r&&(e.j41(0,"vdr-card",13),e.nI1(1,"translate"),e.nrm(2,"vdr-tabbed-custom-fields",14),e.k0s()),2&r){const t=e.XpG();e.Y8G("title",e.bMT(1,3,"common.custom-fields")),e.R7$(2),e.Y8G("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}const Ir=()=>["SuperAdmin","CreateSeller"];function Fr(r,n){1&r&&(e.j41(0,"a",10),e.nrm(1,"clr-icon",11),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r&&(e.Y8G("routerLink",e.lJ4(4,I)),e.R7$(2),e.SpI(" ",e.bMT(3,2,"settings.create-new-seller")," "))}function kr(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.JRh(t.id)}}function Dr(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.createdAt,"short")," ")}}function Pr(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.updatedAt,"short")," ")}}function $r(r,n){if(1&r&&(e.j41(0,"a",12)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"clr-icon",13),e.k0s()),2&r){const t=n.item;e.Y8G("routerLink",e.eq3(2,T,t.id)),e.R7$(2),e.JRh(t.name)}}function Rr(r,n){if(1&r&&e.nrm(0,"vdr-dt2-custom-field-column",14),2&r){const t=n.$implicit,a=e.XpG();e.Y8G("customField",t)("sorts",a.sorts)}}function Gr(r,n){if(1&r&&e.nrm(0,"vdr-object-tree",10),2&r){const t=e.XpG().$implicit;e.Y8G("value",t.metadata)}}function Mr(r,n){if(1&r&&(e.j41(0,"div",5)(1,"div",6)(2,"vdr-labeled-data",7),e.nI1(3,"translate"),e.EFF(4),e.k0s(),e.j41(5,"div",8)(6,"vdr-labeled-data",7),e.nI1(7,"translate"),e.EFF(8),e.nI1(9,"localeCurrency"),e.k0s(),e.j41(10,"vdr-labeled-data",7),e.nI1(11,"translate"),e.EFF(12),e.nI1(13,"localeCurrency"),e.k0s()(),e.DNE(14,Gr,1,1,"vdr-object-tree",9),e.k0s()()),2&r){const t=n.$implicit,a=e.XpG();e.R7$(),e.AVh("stale",a.testDataUpdated),e.R7$(),e.Y8G("label",e.bMT(3,9,"settings.shipping-method")),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(2),e.Y8G("label",e.bMT(7,11,"common.price")),e.R7$(2),e.SpI(" ",e.i5U(9,13,t.price,a.currencyCode)," "),e.R7$(2),e.Y8G("label",e.bMT(11,16,"common.price-with-tax")),e.R7$(2),e.SpI(" ",e.i5U(13,18,t.priceWithTax,a.currencyCode)," "),e.R7$(2),e.Y8G("ngIf",t.metadata)}}function Sr(r,n){1&r&&(e.j41(0,"div",5),e.nrm(1,"clr-icon",11),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"settings.no-eligible-shipping-methods")," "))}function Lr(r,n){if(1&r){const t=e.RV6();e.j41(0,"tr",8)(1,"td",9),e.nrm(2,"img",10),e.k0s(),e.j41(3,"td",11),e.EFF(4),e.k0s(),e.j41(5,"td",12),e.EFF(6),e.k0s(),e.j41(7,"td",13),e.EFF(8),e.nI1(9,"localeCurrency"),e.k0s(),e.j41(10,"td",14)(11,"input",15),e.mxI("ngModelChange",function(i){const s=e.eBV(t).$implicit;return e.DH7(s.quantity,i)||(s.quantity=i),e.Njj(i)}),e.bIt("change",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.updateQuantity())}),e.k0s(),e.j41(12,"button",16),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.removeLine(i))}),e.nrm(13,"clr-icon",17),e.k0s()(),e.j41(14,"td",18),e.EFF(15),e.nI1(16,"localeCurrency"),e.k0s()()}if(2&r){const t=n.$implicit,a=e.XpG(2);e.R7$(2),e.Y8G("src",t.preview+"?preset=tiny",e.B4B),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.sku),e.R7$(2),e.SpI(" ",e.i5U(9,6,t.unitPriceWithTax,a.currencyCode)," "),e.R7$(3),e.R50("ngModel",t.quantity),e.R7$(4),e.SpI(" ",e.i5U(16,9,t.unitPriceWithTax*t.quantity,a.currencyCode)," ")}}function Nr(r,n){if(1&r&&(e.j41(0,"table",4)(1,"thead")(2,"tr"),e.nrm(3,"th"),e.j41(4,"th"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th"),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"th"),e.EFF(17),e.nI1(18,"translate"),e.k0s()()(),e.DNE(19,Lr,17,12,"tr",5),e.j41(20,"tr",6)(21,"td",7),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.nrm(24,"td")(25,"td")(26,"td")(27,"td"),e.j41(28,"td"),e.EFF(29),e.nI1(30,"localeCurrency"),e.k0s()()()),2&r){const t=e.XpG();e.R7$(5),e.JRh(e.bMT(6,8,"order.product-name")),e.R7$(3),e.JRh(e.bMT(9,10,"order.product-sku")),e.R7$(3),e.JRh(e.bMT(12,12,"order.unit-price")),e.R7$(3),e.JRh(e.bMT(15,14,"order.quantity")),e.R7$(3),e.JRh(e.bMT(18,16,"order.total")),e.R7$(2),e.Y8G("ngForOf",t.lines),e.R7$(3),e.JRh(e.bMT(23,18,"order.sub-total")),e.R7$(7),e.JRh(e.i5U(30,20,t.subTotal,t.currencyCode))}}function Er(r,n){1&r&&(e.j41(0,"div",19)(1,"div",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"clr-icon",21),e.k0s()),2&r&&(e.R7$(2),e.JRh(e.bMT(3,1,"settings.add-products-to-test-order")))}function Ar(r,n){if(1&r&&(e.j41(0,"option",10),e.EFF(1),e.k0s()),2&r){const t=n.$implicit;e.Y8G("value",t.code),e.R7$(),e.SpI(" ",t.name," ")}}const jr=(r,n,t)=>({success:r,error:n,unknown:t});function xr(r,n){1&r&&e.nrm(0,"clr-icon",14)}function Yr(r,n){1&r&&e.nrm(0,"clr-icon",15)}function Br(r,n){1&r&&e.nrm(0,"clr-icon",16)}function wr(r,n){if(1&r&&(e.j41(0,"vdr-labeled-data",4),e.nI1(1,"translate"),e.EFF(2),e.nI1(3,"localeCurrency"),e.k0s()),2&r){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"common.price")),e.R7$(2),e.SpI(" ",e.i5U(3,4,null==t.testResult.quote?null:t.testResult.quote.price,t.currencyCode)," ")}}function Or(r,n){if(1&r&&(e.j41(0,"vdr-labeled-data",4),e.nI1(1,"translate"),e.EFF(2),e.nI1(3,"localeCurrency"),e.k0s()),2&r){const t=e.XpG();e.Y8G("label",e.bMT(1,2,"common.price-with-tax")),e.R7$(2),e.SpI(" ",e.i5U(3,4,null==t.testResult.quote?null:t.testResult.quote.priceWithTax,t.currencyCode)," ")}}function Vr(r,n){if(1&r&&e.nrm(0,"vdr-object-tree",17),2&r){const t=e.XpG();e.Y8G("value",null==t.testResult||null==t.testResult.quote?null:t.testResult.quote.metadata)}}function Ur(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.create())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("disabled",t.detailForm.pristine||t.detailForm.invalid||!t.selectedChecker||!t.selectedCalculator),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.create")," ")}}function Xr(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.save())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("disabled",t.detailForm.pristine||t.detailForm.invalid||!t.selectedChecker||!t.selectedCalculator),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.update")," ")}}function qr(r,n){if(1&r&&e.DNE(0,Xr,3,4,"button",25),2&r){const t=e.XpG();e.Y8G("vdrIfPermissions",t.updatePermission)}}function Zr(r,n){if(1&r&&(e.j41(0,"vdr-card"),e.nrm(1,"vdr-page-entity-info",26),e.k0s()),2&r){const t=n.ngIf;e.R7$(),e.Y8G("entity",t)}}function Jr(r,n){if(1&r&&(e.j41(0,"option",27),e.EFF(1),e.k0s()),2&r){const t=n.$implicit;e.Y8G("value",t.code),e.R7$(),e.Lme(" ",t.code,": ",t.description," ")}}function Hr(r,n){if(1&r&&(e.j41(0,"vdr-card",28),e.nI1(1,"translate"),e.nrm(2,"vdr-tabbed-custom-fields",29),e.k0s()),2&r){const t=e.XpG();e.Y8G("title",e.bMT(1,3,"common.custom-fields")),e.R7$(2),e.Y8G("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}function zr(r,n){if(1&r){const t=e.RV6();e.j41(0,"vdr-configurable-input",30),e.nI1(1,"hasPermission"),e.bIt("remove",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedChecker=null)}),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("operation",t.selectedChecker)("operationDefinition",t.selectedCheckerDefinition)("readonly",!e.bMT(1,3,t.updatePermission))}}function Wr(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",36),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.selectChecker(i))}),e.EFF(1),e.k0s()}if(2&r){const t=n.$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function Qr(r,n){if(1&r&&(e.j41(0,"div",31)(1,"vdr-dropdown")(2,"button",32),e.nrm(3,"clr-icon",33),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"vdr-dropdown-menu",34),e.DNE(7,Wr,2,1,"button",35),e.k0s()()()),2&r){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,2,"common.select")," "),e.R7$(3),e.Y8G("ngForOf",t.checkers)}}function Kr(r,n){if(1&r){const t=e.RV6();e.j41(0,"vdr-configurable-input",37),e.nI1(1,"hasPermission"),e.bIt("remove",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.selectedCalculator=null)}),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("operation",t.selectedCalculator)("operationDefinition",t.selectedCalculatorDefinition)("readonly",!e.bMT(1,3,t.updatePermission))}}function ea(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",36),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.selectCalculator(i))}),e.EFF(1),e.k0s()}if(2&r){const t=n.$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function ta(r,n){if(1&r&&(e.j41(0,"div",31)(1,"vdr-dropdown")(2,"button",32),e.nrm(3,"clr-icon",33),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"vdr-dropdown-menu",34),e.DNE(7,ea,2,1,"button",35),e.k0s()()()),2&r){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,2,"common.select")," "),e.R7$(3),e.Y8G("ngForOf",t.calculators)}}const na=()=>["CreateSettings","CreateShippingMethod"];function ra(r,n){1&r&&(e.j41(0,"a",14),e.nrm(1,"clr-icon",15),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r&&(e.Y8G("routerLink",e.lJ4(4,I)),e.R7$(2),e.SpI(" ",e.bMT(3,2,"settings.create-new-shipping-method")," "))}function aa(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.id," ")}}function oa(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.createdAt,"short")," ")}}function ia(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.updatedAt,"short")," ")}}function sa(r,n){if(1&r&&(e.j41(0,"a",16)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"clr-icon",17),e.k0s()),2&r){const t=n.item;e.Y8G("routerLink",e.eq3(2,T,t.id)),e.R7$(2),e.JRh(t.name)}}function la(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.code," ")}}function da(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.description," ")}}function ca(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.fulfillmentHandlerCode," ")}}function ma(r,n){if(1&r&&e.nrm(0,"vdr-dt2-custom-field-column",18),2&r){const t=n.$implicit,a=e.XpG();e.Y8G("customField",t)("sorts",a.sorts)}}const ua=r=>({pattern:r});function pa(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.create())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("disabled",t.detailForm.invalid||t.detailForm.pristine),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.create")," ")}}function ga(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.save())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("disabled",t.detailForm.invalid||t.detailForm.pristine),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.update")," ")}}function ha(r,n){1&r&&e.DNE(0,ga,3,4,"button",13),2&r&&e.Y8G("vdrIfPermissions","UpdateStockLocation")}function fa(r,n){if(1&r&&(e.j41(0,"vdr-card"),e.nrm(1,"vdr-page-entity-info",14),e.k0s()),2&r){const t=n.ngIf;e.R7$(),e.Y8G("entity",t)}}function ba(r,n){if(1&r&&(e.j41(0,"vdr-card",15),e.nI1(1,"translate"),e.nrm(2,"vdr-tabbed-custom-fields",16),e.k0s()),2&r){const t=e.XpG();e.Y8G("title",e.bMT(1,3,"common.custom-fields")),e.R7$(2),e.Y8G("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}const va=()=>["CreateStockLocation"];function _a(r,n){1&r&&(e.j41(0,"a",11),e.nrm(1,"clr-icon",12),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r&&(e.Y8G("routerLink",e.lJ4(4,I)),e.R7$(2),e.SpI(" ",e.bMT(3,2,"catalog.create-new-stock-location")," "))}function Ca(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.id," ")}}function ya(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.createdAt,"short")," ")}}function Ta(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.updatedAt,"short")," ")}}function Ia(r,n){if(1&r&&(e.j41(0,"a",13)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"clr-icon",14),e.k0s()),2&r){const t=n.item;e.Y8G("routerLink",e.eq3(2,T,t.id)),e.R7$(2),e.JRh(t.name)}}function Fa(r,n){if(1&r&&e.nrm(0,"div",15),2&r){const t=n.item;e.Y8G("innerHTML",t.description,e.npT)}}function ka(r,n){if(1&r&&e.nrm(0,"vdr-dt2-custom-field-column",16),2&r){const t=n.$implicit,a=e.XpG();e.Y8G("customField",t)("sorts",a.sorts)}}function Da(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.create())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("disabled",!t.saveButtonEnabled()),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.create")," ")}}function Pa(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.save())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("disabled",!t.saveButtonEnabled()),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.update")," ")}}function $a(r,n){if(1&r&&e.DNE(0,Pa,3,4,"button",13),2&r){const t=e.XpG();e.Y8G("vdrIfPermissions",t.updatePermission)}}function Ra(r,n){if(1&r&&(e.j41(0,"vdr-card"),e.nrm(1,"vdr-page-entity-info",14),e.k0s()),2&r){const t=n.ngIf;e.R7$(),e.Y8G("entity",t)}}function Ga(r,n){if(1&r&&(e.j41(0,"vdr-card",15),e.nI1(1,"translate"),e.nrm(2,"vdr-tabbed-custom-fields",16),e.k0s()),2&r){const t=e.XpG();e.Y8G("title",e.bMT(1,3,"common.custom-fields")),e.R7$(2),e.Y8G("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}const Ma=()=>["CreateSettings","CreateTaxCategory"];function Sa(r,n){1&r&&(e.j41(0,"a",11),e.nrm(1,"clr-icon",12),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r&&(e.Y8G("routerLink",e.lJ4(4,I)),e.R7$(2),e.SpI(" ",e.bMT(3,2,"settings.create-new-tax-category")," "))}function La(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.id," ")}}function Na(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.createdAt,"short")," ")}}function Ea(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.updatedAt,"short")," ")}}function Aa(r,n){if(1&r&&(e.j41(0,"a",13)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"clr-icon",14),e.k0s()),2&r){const t=n.item;e.Y8G("routerLink",e.eq3(2,T,t.id)),e.R7$(2),e.JRh(t.name)}}function ja(r,n){1&r&&(e.j41(0,"vdr-chip"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"common.default-tax-category")))}function xa(r,n){if(1&r&&e.DNE(0,ja,3,3,"vdr-chip",15),2&r){const t=n.item;e.Y8G("ngIf",t.isDefault)}}function Ya(r,n){if(1&r&&e.nrm(0,"vdr-dt2-custom-field-column",16),2&r){const t=n.$implicit,a=e.XpG();e.Y8G("customField",t)("sorts",a.sorts)}}function Ba(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.create())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("disabled",!t.saveButtonEnabled()),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.create")," ")}}function wa(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.save())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("disabled",!t.saveButtonEnabled()),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.update")," ")}}function Oa(r,n){if(1&r&&e.DNE(0,wa,3,4,"button",21),2&r){const t=e.XpG();e.Y8G("vdrIfPermissions",t.updatePermission)}}function Va(r,n){if(1&r&&(e.j41(0,"vdr-card"),e.nrm(1,"vdr-page-entity-info",22),e.k0s()),2&r){const t=n.ngIf;e.R7$(),e.Y8G("entity",t)}}function Ua(r,n){if(1&r&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&r){const t=n.$implicit;e.Y8G("value",t.id),e.R7$(),e.SpI(" ",t.name," ")}}function Xa(r,n){if(1&r&&(e.j41(0,"vdr-card",24),e.nI1(1,"translate"),e.nrm(2,"vdr-tabbed-custom-fields",25),e.k0s()),2&r){const t=e.XpG();e.Y8G("title",e.bMT(1,3,"common.custom-fields")),e.R7$(2),e.Y8G("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}const qa=()=>["CreateSettings","CreateTaxRate"];function Za(r,n){1&r&&(e.j41(0,"a",15),e.nrm(1,"clr-icon",16),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r&&(e.Y8G("routerLink",e.lJ4(4,I)),e.R7$(2),e.SpI(" ",e.bMT(3,2,"settings.create-new-tax-rate")," "))}function Ja(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.id," ")}}function Ha(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.createdAt,"short")," ")}}function za(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.updatedAt,"short")," ")}}function Wa(r,n){if(1&r&&(e.j41(0,"a",17)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"clr-icon",18),e.k0s()),2&r){const t=n.item;e.Y8G("routerLink",e.eq3(2,T,t.id)),e.R7$(2),e.JRh(t.name)}}function Qa(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.category.name," ")}}function Ka(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.zone.name," ")}}function eo(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",null==t.customerGroup?null:t.customerGroup.name," ")}}function to(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.value,"% ")}}function no(r,n){1&r&&(e.j41(0,"vdr-chip",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"common.enabled")))}function ro(r,n){1&r&&(e.j41(0,"vdr-chip",22),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&r&&(e.R7$(),e.JRh(e.bMT(2,1,"common.disabled")))}function ao(r,n){if(1&r&&e.DNE(0,no,3,3,"vdr-chip",19)(1,ro,3,3,"vdr-chip",20),2&r){const t=n.item;e.Y8G("ngIf",t.enabled),e.R7$(),e.Y8G("ngIf",!t.enabled)}}function oo(r,n){if(1&r&&e.nrm(0,"vdr-dt2-custom-field-column",23),2&r){const t=n.$implicit,a=e.XpG();e.Y8G("customField",t)("sorts",a.sorts)}}function io(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.create())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("disabled",!t.saveButtonEnabled()),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.create")," ")}}function so(r,n){if(1&r){const t=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.save())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&r){const t=e.XpG(2);e.Y8G("disabled",!t.saveButtonEnabled()),e.R7$(),e.SpI(" ",e.bMT(2,2,"common.update")," ")}}function lo(r,n){if(1&r&&e.DNE(0,so,3,4,"button",11),2&r){const t=e.XpG();e.Y8G("vdrIfPermissions",t.updatePermission)}}function co(r,n){if(1&r&&(e.j41(0,"vdr-card"),e.nrm(1,"vdr-page-entity-info",12),e.k0s()),2&r){const t=n.ngIf;e.R7$(),e.Y8G("entity",t)}}function mo(r,n){if(1&r&&(e.j41(0,"vdr-card",13),e.nI1(1,"translate"),e.nrm(2,"vdr-tabbed-custom-fields",14),e.k0s()),2&r){const t=e.XpG();e.Y8G("title",e.bMT(1,3,"common.custom-fields")),e.R7$(2),e.Y8G("customFields",t.customFields)("customFieldsFormGroup",t.detailForm.get("customFields"))}}const uo=()=>["CreateSettings","CreateZone"],po=r=>({contents:r});function go(r,n){1&r&&(e.j41(0,"a",6),e.nrm(1,"clr-icon",7),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&r&&(e.Y8G("routerLink",e.lJ4(4,I)),e.R7$(2),e.SpI(" ",e.bMT(3,2,"settings.create-new-zone")," "))}function ho(r,n){if(1&r&&e.EFF(0),2&r){const t=n.item;e.SpI(" ",t.id," ")}}function fo(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.createdAt,"short")," ")}}function bo(r,n){if(1&r&&(e.EFF(0),e.nI1(1,"localeDate")),2&r){const t=n.item;e.SpI(" ",e.i5U(1,1,t.updatedAt,"short")," ")}}function vo(r,n){if(1&r&&(e.j41(0,"a",17)(1,"span"),e.EFF(2),e.k0s(),e.nrm(3,"clr-icon",18),e.k0s()),2&r){const t=n.item;e.Y8G("routerLink",e.eq3(2,T,t.id)),e.R7$(2),e.JRh(t.name)}}function _o(r,n){if(1&r&&(e.j41(0,"a",19)(1,"span"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"clr-icon",20),e.k0s()),2&r){const t=n.item;e.Y8G("routerLink",e.eq3(6,T,e.eq3(4,po,t.id))),e.R7$(2),e.JRh(e.bMT(3,2,"settings.view-zone-members"))}}function Co(r,n){if(1&r&&e.nrm(0,"vdr-dt2-custom-field-column",21),2&r){const t=n.$implicit,a=e.XpG(2);e.Y8G("customField",t)("sort",a.sorts)}}function yo(r,n){if(1&r){const t=e.RV6();e.j41(0,"vdr-data-table-2",8),e.nI1(1,"async"),e.nI1(2,"async"),e.nI1(3,"async"),e.nI1(4,"async"),e.nI1(5,"async"),e.bIt("pageChange",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.setPageNumber(i))})("itemsPerPageChange",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.setItemsPerPage(i))})("visibleColumnsChange",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.setVisibleColumns(i))}),e.nrm(6,"vdr-bulk-action-menu",9)(7,"vdr-dt2-search",10),e.nI1(8,"translate"),e.j41(9,"vdr-dt2-column",11),e.nI1(10,"translate"),e.DNE(11,ho,1,1,"ng-template"),e.k0s(),e.j41(12,"vdr-dt2-column",12),e.nI1(13,"translate"),e.DNE(14,fo,2,4,"ng-template"),e.k0s(),e.j41(15,"vdr-dt2-column",13),e.nI1(16,"translate"),e.DNE(17,bo,2,4,"ng-template"),e.k0s(),e.j41(18,"vdr-dt2-column",14),e.nI1(19,"translate"),e.DNE(20,vo,4,4,"ng-template"),e.k0s(),e.j41(21,"vdr-dt2-column",15),e.nI1(22,"translate"),e.DNE(23,_o,5,8,"ng-template"),e.k0s(),e.DNE(24,Co,1,2,"vdr-dt2-custom-field-column",16),e.k0s()}if(2&r){const t=e.XpG();e.Y8G("id",t.dataTableListId)("items",e.bMT(1,25,t.items$))("itemsPerPage",e.bMT(2,27,t.itemsPerPage$))("totalItems",e.bMT(3,29,t.totalItems$))("currentPage",e.bMT(4,31,t.currentPage$))("filters",t.filters)("activeIndex",e.bMT(5,33,t.activeIndex$)),e.R7$(6),e.Y8G("hostComponent",t)("selectionManager",t.selectionManager),e.R7$(),e.Y8G("searchTermControl",t.searchTermControl)("searchTermPlaceholder",e.bMT(8,35,"common.search-by-name")),e.R7$(2),e.Y8G("heading",e.bMT(10,37,"common.id"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("heading",e.bMT(13,39,"common.created-at"))("hiddenByDefault",!0)("sort",t.sorts.get("createdAt")),e.R7$(3),e.Y8G("heading",e.bMT(16,41,"common.updated-at"))("hiddenByDefault",!0)("sort",t.sorts.get("updatedAt")),e.R7$(3),e.Y8G("heading",e.bMT(19,43,"common.name"))("optional",!1)("sort",t.sorts.get("name")),e.R7$(3),e.Y8G("heading",e.bMT(22,45,"common.view-contents"))("optional",!1),e.R7$(3),e.Y8G("ngForOf",t.customFields)}}function To(r,n){if(1&r){const t=e.RV6();e.j41(0,"vdr-zone-member-list",25),e.bIt("selectionChange",function(i){e.eBV(t);const s=e.XpG(3);return e.Njj(s.selectedMemberIds=i)}),e.k0s()}if(2&r){const t=n.ngIf,a=e.XpG(3);e.Y8G("selectedMemberIds",a.selectedMemberIds)("activeZone",t)}}function Io(r,n){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"button",23),e.bIt("click",function(){const i=e.eBV(t).ngIf,s=e.XpG(2);return e.Njj(s.addToZone(i))}),e.nrm(2,"clr-icon",7),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.DNE(6,To,1,2,"vdr-zone-member-list",24),e.nI1(7,"async"),e.bVm()}if(2&r){const t=n.ngIf,a=e.XpG(2);e.R7$(4),e.JRh(e.i5U(5,2,"settings.add-countries-to-zone",e.eq3(7,ve,t.name))),e.R7$(2),e.Y8G("ngIf",e.bMT(7,5,a.activeZone$))}}function Fo(r,n){if(1&r&&(e.DNE(0,Io,8,9,"ng-container",22),e.nI1(1,"async")),2&r){const t=e.XpG();e.Y8G("ngIf",e.bMT(1,1,t.activeZone$))}}class E{constructor(n){this.templateRef=n}static{this.\u0275fac=function(t){return new(t||E)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:E,selectors:[["","vdrZoneMemberControls",""]]})}}class A{constructor(n){this.templateRef=n}static{this.\u0275fac=function(t){return new(t||A)(e.rXU(e.C4Q))}}static{this.\u0275dir=e.FsC({type:A,selectors:[["","vdrZoneMemberListHeader",""]]})}}class D{constructor(n){this.dataService=n,this.selectedMemberIds=[],this.selectionChange=new e.bkB,this.filterTermControl=new l.MJ(""),this.currentPage=1,this.itemsPerPage=10,this.selectionManager=new o.YlH({multiSelect:!0,itemsAreEqual:(t,a)=>t.id===a.id,additiveMode:!0}),this.membersInput$=new N.B,this.activeZoneInput$=new Ke.t(void 0),this.destroy$=new N.B,this.refresh$=new N.B}ngOnInit(){const n=(0,fe.h)(this.activeZoneInput$,this.refresh$).pipe((0,L.n)(t=>this.activeZone?this.dataService.query(o.TLA,{zoneId:this.activeZone.id}).mapSingle(({zone:a})=>a?.members??[]):(0,pe.of)([])));this.members$=(0,fe.h)(n,this.membersInput$),this.members$.pipe((0,y.s)(1)).subscribe(t=>{this.selectionManager.setCurrentItems(t?.filter(a=>this.selectedMemberIds.includes(a.id))??[])}),this.selectionManager.selectionChanges$.pipe((0,ue.Q)(this.destroy$)).subscribe(t=>{this.selectionChange.emit(t.map(a=>a.id))}),this.filteredMembers$=(0,$.z)(this.members$,this.filterTermControl.valueChanges.pipe((0,Xe.Z)(""))).pipe((0,b.T)(([t,a])=>{if(a){const i=a?.toLocaleLowerCase()??"";return t.filter(s=>s.name.toLocaleLowerCase().includes(i)||s.code.toLocaleLowerCase().includes(i))}return t})),this.totalItems$=this.filteredMembers$.pipe((0,b.T)(t=>t.length))}ngOnChanges(n){"members"in n&&this.membersInput$.next(this.members??[]),"activeZone"in n&&this.activeZoneInput$.next(this.activeZone)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.refresh$.next()}static{this.\u0275fac=function(t){return new(t||D)(e.rXU(o.uSP))}}static{this.\u0275cmp=e.VBU({type:D,selectors:[["vdr-zone-member-list"]],contentQueries:function(t,a,i){if(1&t&&(e.wni(i,A,5),e.wni(i,E,5)),2&t){let s;e.mGM(s=e.lsd())&&(a.headerTemplate=s.first),e.mGM(s=e.lsd())&&(a.controlsTemplate=s.first)}},inputs:{locationId:"locationId",members:"members",selectedMemberIds:"selectedMemberIds",activeZone:"activeZone"},outputs:{selectionChange:"selectionChange"},features:[e.OA$],decls:24,vars:38,consts:[[3,"itemsPerPageChange","pageChange","id","items","totalItems","itemsPerPage","currentPage"],[3,"locationId","hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault"],["id","updated-at",3,"heading","hiddenByDefault"],["id","name",3,"heading","optional"],["id","code",3,"heading"],["id","enabled",3,"heading"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["colorType","success",4,"ngIf"],["colorType","warning",4,"ngIf"],["colorType","success"],["colorType","warning"]],template:function(t,a){1&t&&(e.j41(0,"vdr-data-table-2",0),e.nI1(1,"async"),e.nI1(2,"async"),e.bIt("itemsPerPageChange",function(s){return a.itemsPerPage=s})("pageChange",function(s){return a.currentPage=s}),e.nrm(3,"vdr-bulk-action-menu",1)(4,"vdr-dt2-search",2),e.nI1(5,"translate"),e.j41(6,"vdr-dt2-column",3),e.nI1(7,"translate"),e.DNE(8,it,1,1,"ng-template"),e.k0s(),e.j41(9,"vdr-dt2-column",4),e.nI1(10,"translate"),e.DNE(11,st,2,4,"ng-template"),e.k0s(),e.j41(12,"vdr-dt2-column",5),e.nI1(13,"translate"),e.DNE(14,lt,2,4,"ng-template"),e.k0s(),e.j41(15,"vdr-dt2-column",6),e.nI1(16,"translate"),e.DNE(17,dt,4,4,"ng-template"),e.k0s(),e.j41(18,"vdr-dt2-column",7),e.nI1(19,"translate"),e.DNE(20,ct,1,1,"ng-template"),e.k0s(),e.j41(21,"vdr-dt2-column",8),e.nI1(22,"translate"),e.DNE(23,pt,2,2,"ng-template"),e.k0s()()),2&t&&(e.Y8G("id",a.locationId)("items",e.bMT(1,20,a.filteredMembers$))("totalItems",e.bMT(2,22,a.totalItems$))("itemsPerPage",a.itemsPerPage)("currentPage",a.currentPage),e.R7$(3),e.Y8G("locationId",a.locationId)("hostComponent",a)("selectionManager",a.selectionManager),e.R7$(),e.Y8G("searchTermControl",a.filterTermControl)("searchTermPlaceholder",e.bMT(5,24,"common.search-by-name")),e.R7$(2),e.Y8G("heading",e.bMT(7,26,"common.id"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("heading",e.bMT(10,28,"common.created-at"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("heading",e.bMT(13,30,"common.updated-at"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("heading",e.bMT(16,32,"common.name"))("optional",!1),e.R7$(3),e.Y8G("heading",e.bMT(19,34,"common.code")),e.R7$(3),e.Y8G("heading",e.bMT(22,36,"common.enabled")))},dependencies:[g.U4n,c.bT,C.Wk,o.wux,o.T0b,o.IMU,o.Y9G,o.E8Q,c.Jj,h.D9,o.PU$],styles:[".members-header[_ngcontent-%COMP%]{background-color:var(--color-component-bg-100);position:sticky;top:0;padding:6px;z-index:5;border-bottom:1px solid var(--color-component-border-200)}.members-header[_ngcontent-%COMP%]   .header-title-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.members-header[_ngcontent-%COMP%]   .clr-input[_ngcontent-%COMP%]{width:100%}"],changeDetection:0})}}const ko=p.J1`
    query GetZoneMembers($zoneId: ID!) {
        zone(id: $zoneId) {
            id
            createdAt
            updatedAt
            name
            members {
                createdAt
                updatedAt
                id
                name
                code
                enabled
            }
        }
    }
`;class j{constructor(n){this.dataService=n,this.selectedMemberIds=[]}ngOnInit(){this.currentMembers$=this.dataService.query(o.TLA,{zoneId:this.zoneId}).mapSingle(({zone:n})=>n?.members??[]),this.availableCountries$=this.dataService.query(o.Is3,{options:{take:999}}).mapStream(n=>n.countries.items).pipe(Ie(this.currentMembers$),(0,b.T)(([n,t])=>n.filter(a=>!t.find(i=>i.id===a.id))))}cancel(){this.resolveWith()}add(){this.resolveWith(this.selectedMemberIds)}static{this.\u0275fac=function(t){return new(t||j)(e.rXU(o.uSP))}}static{this.\u0275cmp=e.VBU({type:j,selectors:[["vdr-add-country-to-zone-dialog"]],decls:4,vars:4,consts:[["vdrDialogTitle",""],[3,"selectionChange","members","selectedMemberIds"],["vdrDialogButtons",""],["type","button",1,"btn",3,"click"],["type","submit",1,"btn","btn-primary",3,"click","disabled"]],template:function(t,a){1&t&&(e.DNE(0,gt,2,6,"ng-template",0),e.j41(1,"vdr-zone-member-list",1),e.nI1(2,"async"),e.bIt("selectionChange",function(s){return a.selectedMemberIds=s}),e.k0s(),e.DNE(3,ht,6,10,"ng-template",2)),2&t&&(e.R7$(),e.Y8G("members",e.bMT(2,2,a.availableCountries$))("selectedMemberIds",a.selectedMemberIds))},dependencies:[o.bc3,o.MCd,D,c.Jj,h.D9],changeDetection:0})}}class R{constructor(){this.readonly=!1,this.permissionChange=new e.bkB}ngOnInit(){this.buildGrid()}setPermission(n,t){this.readonly||this.permissionChange.emit({permission:n,value:t})}toggleAll(n){const t=n.some(a=>!this.activePermissions.includes(a.name));for(const a of n)this.permissionChange.emit({permission:a.name,value:t})}buildGrid(){const n=new Map,t=[],a=/^(Create|Read|Update|Delete)([a-zA-Z]+)$/;for(const i of this.permissionDefinitions)if(a.test(i.name)){const m=i.name.match(a)?.[2];if(m){const v=n.get(m);v?v.push(i):n.set(m,[i])}}else i.assignable&&t.push(i);this.gridData=[...t.map(i=>({label:i.name,description:i.description,permissions:[i]})),...Array.from(n.entries()).map(([i,s])=>({label:i,description:this.extractCrudDescription(s[0]),permissions:s}))]}extractCrudDescription(n){return n.description.replace(/Grants permission to [\w]+/,"Grants permissions on")}static{this.\u0275fac=function(t){return new(t||R)}}static{this.\u0275cmp=e.VBU({type:R,selectors:[["vdr-permission-grid"]],inputs:{permissionDefinitions:"permissionDefinitions",activePermissions:"activePermissions",readonly:"readonly"},outputs:{permissionChange:"permissionChange"},decls:3,vars:1,consts:[[1,"table"],[4,"ngFor","ngForOf"],[1,"permission-group","left"],["class","button-small",3,"click",4,"ngIf"],[1,"button-small",3,"click"],["size","small",3,"selectedChange","title","label","disabled","selected"]],template:function(t,a){1&t&&(e.j41(0,"table",0)(1,"tbody"),e.DNE(2,vt,12,8,"tr",1),e.k0s()()),2&t&&(e.R7$(2),e.Y8G("ngForOf",a.gridData))},dependencies:[c.Sq,c.bT,o.EV5,h.D9],styles:["[_nghost-%COMP%]{display:block}td.permission-group[_ngcontent-%COMP%]{max-width:300px;background-color:var(--color-component-bg-200)}"],changeDetection:0})}}const Do=p.J1`
    query GetAdministratorDetail($id: ID!) {
        administrator(id: $id) {
            ...Administrator
        }
    }
    ${o.jwW}
`;class x extends o.wi7{getAvailableChannels(){return Object.values(this.selectedRolePermissions)}constructor(n,t,a,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=a,this.notificationService=i,this.customFields=this.getCustomFieldConfig("Administrator"),this.detailForm=this.formBuilder.group({emailAddress:["",l.k0.required],firstName:["",l.k0.required],lastName:["",l.k0.required],password:[""],roles:[[]],customFields:this.formBuilder.group((0,o.HCD)(this.customFields))}),this.selectedRoles=[],this.selectedRolePermissions={},this.selectedChannelId=null}ngOnInit(){this.init(),this.allRoles$=this.dataService.administrator.getRoles(999).mapStream(n=>n.roles.items.filter(t=>t.code!==k.yN)),this.dataService.client.userStatus().single$.subscribe(({userStatus:n})=>{if(!n.permissions.includes(o.aXG.CreateAdministrator)&&!n.permissions.includes(o.aXG.UpdateAdministrator)){const t=this.detailForm.get("roles");t&&t.disable()}}),this.permissionDefinitions=this.serverConfigService.getPermissionDefinitions()}ngOnDestroy(){this.destroy()}rolesChanged(n){this.buildPermissionsMap()}getPermissionsForSelectedChannel(){function n(a){return Object.entries(a).filter(([i,s])=>s).map(([i,s])=>i)}if(this.selectedChannelId&&this.selectedRolePermissions[this.selectedChannelId]){return n(this.selectedRolePermissions[this.selectedChannelId].permissions)}const t=Object.values(this.selectedRolePermissions);return 0<t.length?(this.selectedChannelId=t[0].channelId,n(t[0].permissions)):[]}create(){const{emailAddress:n,firstName:t,lastName:a,password:i,customFields:s,roles:m}=this.detailForm.value;if(!(n&&t&&a&&i))return;const v={emailAddress:n,firstName:t,lastName:a,password:i,customFields:s,roleIds:m?.map(f=>f.id).filter(tt.notNullOrUndefined)??[]};this.dataService.administrator.createAdministrator(v).subscribe(f=>{this.notificationService.success((0,d.x)("common.notify-create-success"),{entity:"Administrator"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",f.createAdministrator.id],{relativeTo:this.route})},f=>{this.notificationService.error((0,d.x)("common.notify-create-error"),{entity:"Administrator"})})}save(){this.entity$.pipe((0,y.s)(1),(0,_.Z)(({id:n})=>{const t=this.detailForm.value,a={id:n,emailAddress:t.emailAddress,firstName:t.firstName,lastName:t.lastName,password:t.password,customFields:t.customFields,roleIds:t.roles?.map(i=>i.id)};return this.dataService.administrator.updateAdministrator(a)})).subscribe(n=>{this.notificationService.success((0,d.x)("common.notify-update-success"),{entity:"Administrator"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},n=>{this.notificationService.error((0,d.x)("common.notify-update-error"),{entity:"Administrator"})})}setFormValues(n,t){this.detailForm.patchValue({emailAddress:n.emailAddress,firstName:n.firstName,lastName:n.lastName,roles:n.user.roles}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),n);const a=this.detailForm.get("password");a&&(n.id?a.setValidators([]):a.setValidators([l.k0.required])),this.buildPermissionsMap()}buildPermissionsMap(){const n=this.detailForm.get("roles");if(n){const t=n.value,a=new Map,i=new Map;for(const s of t??[])for(const m of s.channels){const f=a.get(m.id)||new Set;s.permissions.forEach(F=>f.add(F)),a.set(m.id,f),i.set(m.id,m.code)}this.selectedRolePermissions={};for(const s of Array.from(a.keys())){const m=a.get(s),v={};for(const f of this.serverConfigService.getPermissionDefinitions())v[f.name]=m.has(f.name);this.selectedRolePermissions[s]={channelId:s,channelCode:i.get(s),permissions:v}}}}static{this.\u0275fac=function(t){return new(t||x)(e.rXU(e.gRc),e.rXU(o.uSP),e.rXU(l.ok),e.rXU(o.JEu))}}static{this.\u0275cmp=e.VBU({type:x,selectors:[["vdr-admin-detail"]],features:[e.Vt3],decls:45,vars:53,consts:[["updateButton",""],["locationId","administrator-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","emailAddress",1,"form-grid-span",3,"label"],["id","emailAddress","type","text","formControlName","emailAddress",3,"readonly"],["for","firstName",3,"label"],["id","firstName","type","text","formControlName","firstName",3,"readonly"],["for","lastName",3,"label"],["id","lastName","type","text","formControlName","lastName",3,"readonly"],["for","password",3,"label",4,"ngIf"],["for","password",3,"label","readOnlyToggle",4,"ngIf"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","administrator-detail",3,"entity$","detailForm"],[3,"title"],["formControlName","roles","bindLabel","description",3,"change","items","multiple","hideSelected"],["role","tablist",1,"nav","mt-2"],["role","presentation","class","nav-item",4,"ngFor","ngForOf"],[3,"activePermissions","permissionDefinitions","readonly"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["for","password",3,"label"],["id","password","type","password","formControlName","password"],["for","password",3,"label","readOnlyToggle"],["formGroupName","customFields",3,"title"],["entityName","Administrator",3,"customFields","customFieldsFormGroup"],["role","presentation",1,"nav-item"],["type","button",1,"btn","btn-link","nav-link",3,"click","id"]],template:function(t,a){if(1&t){const i=e.RV6();e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",1),e.DNE(5,_t,3,4,"button",2),e.nI1(6,"async"),e.DNE(7,yt,1,1,"ng-template",null,0,e.C5r),e.nrm(9,"vdr-action-bar-dropdown-menu",1),e.k0s()()(),e.j41(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar"),e.DNE(13,Tt,2,1,"vdr-card",4),e.nI1(14,"async"),e.k0s(),e.j41(15,"vdr-page-block")(16,"vdr-card")(17,"div",5)(18,"vdr-form-field",6),e.nI1(19,"translate"),e.nrm(20,"input",7),e.nI1(21,"hasPermission"),e.k0s(),e.j41(22,"vdr-form-field",8),e.nI1(23,"translate"),e.nrm(24,"input",9),e.nI1(25,"hasPermission"),e.k0s(),e.j41(26,"vdr-form-field",10),e.nI1(27,"translate"),e.nrm(28,"input",11),e.nI1(29,"hasPermission"),e.k0s(),e.DNE(30,It,3,3,"vdr-form-field",12),e.nI1(31,"async"),e.DNE(32,Ft,3,4,"vdr-form-field",13),e.nI1(33,"async"),e.nI1(34,"hasPermission"),e.k0s()(),e.DNE(35,kt,3,5,"vdr-card",14),e.nrm(36,"vdr-custom-detail-component-host",15),e.k0s()(),e.j41(37,"vdr-page-block")(38,"vdr-card",16),e.nI1(39,"translate"),e.j41(40,"ng-select",17),e.nI1(41,"async"),e.bIt("change",function(m){return e.eBV(i),e.Njj(a.rolesChanged(m))}),e.k0s(),e.j41(42,"ul",18),e.DNE(43,Dt,5,9,"li",19),e.k0s(),e.nrm(44,"vdr-permission-grid",20),e.k0s()()()}if(2&t){const i=e.sdS(8);e.R7$(5),e.Y8G("ngIf",e.bMT(6,23,a.isNew$))("ngIfElse",i),e.R7$(5),e.Y8G("formGroup",a.detailForm),e.R7$(3),e.Y8G("ngIf",e.bMT(14,25,a.entity$)),e.R7$(5),e.Y8G("label",e.bMT(19,27,"settings.email-address-or-identifier")),e.R7$(2),e.Y8G("readonly",!e.bMT(21,29,e.lJ4(49,ge))),e.R7$(2),e.Y8G("label",e.bMT(23,31,"settings.first-name")),e.R7$(2),e.Y8G("readonly",!e.bMT(25,33,e.lJ4(50,ge))),e.R7$(2),e.Y8G("label",e.bMT(27,35,"settings.last-name")),e.R7$(2),e.Y8G("readonly",!e.bMT(29,37,e.lJ4(51,ge))),e.R7$(2),e.Y8G("ngIf",e.bMT(31,39,a.isNew$)),e.R7$(2),e.Y8G("ngIf",!e.bMT(33,41,a.isNew$)&&e.bMT(34,43,e.lJ4(52,ge))),e.R7$(3),e.Y8G("ngIf",a.customFields.length),e.R7$(),e.Y8G("entity$",a.entity$)("detailForm",a.detailForm),e.R7$(2),e.Y8G("title",e.bMT(39,45,"settings.roles")),e.R7$(2),e.Y8G("items",e.bMT(41,47,a.allRoles$))("multiple",!0)("hideSelected",!0),e.R7$(3),e.Y8G("ngForOf",a.getAvailableChannels()),e.R7$(),e.Y8G("activePermissions",a.getPermissionsForSelectedChannel())("permissionDefinitions",a.permissionDefinitions)("readonly",!0)}},dependencies:[c.Sq,c.bT,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,l.$R,nt.vr,o.nGW,o.wL$,o.TXc,o.lST,o.KSf,o.Vr5,o.pFL,o.TcB,o.W4C,o.Loz,o.eH4,o.ERS,o.c5c,o.eCv,o.iby,R,c.Jj,h.D9,o.Ex,o.i3f],styles:["ul.nav[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden}"],changeDetection:0})}}const De=(0,o.AfA)({location:"administrator-list",requiresPermission:r=>r.includes(o.aXG.DeleteAdministrator),getItemName:r=>r.firstName+" "+r.lastName,bulkDelete:(r,n)=>r.administrator.deleteAdministrators(n).pipe((0,b.T)(t=>t.deleteAdministrators))}),Po=p.J1`
    query GetAdministratorList($options: AdministratorListOptions) {
        administrators(options: $options) {
            items {
                ...AdministratorListItem
            }
            totalItems
        }
    }
    fragment AdministratorListItem on Administrator {
        id
        createdAt
        updatedAt
        firstName
        lastName
        emailAddress
        user {
            id
            identifier
            lastLogin
            roles {
                id
                createdAt
                updatedAt
                code
                description
            }
        }
    }
`;class Y extends o.B8I{constructor(){super(),this.dataTableListId="administrator-list",this.customFields=this.getCustomFieldConfig("Administrator"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"firstName",type:{kind:"text"},label:(0,d.x)("settings.first-name"),filterField:"firstName"}).addFilter({name:"lastName",type:{kind:"text"},label:(0,d.x)("settings.last-name"),filterField:"lastName"}).addFilter({name:"emailAddress",type:{kind:"text"},label:(0,d.x)("settings.email-address"),filterField:"emailAddress"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"lastName"}).addSort({name:"emailAddress"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:o.bTM,getItems:n=>n.administrators,setVariables:(n,t)=>this.createSearchQuery(n,t,this.searchTermControl.value),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}createSearchQuery(n,t,a){let i={},s=o.umn.AND;return a&&(i={emailAddress:{contains:a},firstName:{contains:a},lastName:{contains:a}},s=o.umn.OR),{options:{skip:n,take:t,filter:{...i??{},...this.filters.createFilterInput()},sort:this.sorts.createSortInput(),filterOperator:s}}}static{this.\u0275fac=function(t){return new(t||Y)}}static{this.\u0275cmp=e.VBU({type:Y,selectors:[["vdr-administrator-list"]],features:[e.Vt3],decls:34,vars:49,consts:[["locationId","administrator-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[1,"mt-2",3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","administrator-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","email-address",3,"heading","sort"],["id","roles",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[4,"ngFor","ngForOf"],[3,"customField","sorts"]],template:function(t,a){1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",0),e.DNE(5,Pt,4,5,"a",1),e.nrm(6,"vdr-action-bar-dropdown-menu",0),e.k0s()()(),e.j41(7,"vdr-data-table-2",2),e.nI1(8,"async"),e.nI1(9,"async"),e.nI1(10,"async"),e.nI1(11,"async"),e.bIt("pageChange",function(s){return a.setPageNumber(s)})("itemsPerPageChange",function(s){return a.setItemsPerPage(s)})("visibleColumnsChange",function(s){return a.setVisibleColumns(s)}),e.nrm(12,"vdr-bulk-action-menu",3)(13,"vdr-dt2-search",4),e.nI1(14,"translate"),e.j41(15,"vdr-dt2-column",5),e.nI1(16,"translate"),e.DNE(17,$t,1,1,"ng-template"),e.k0s(),e.j41(18,"vdr-dt2-column",6),e.nI1(19,"translate"),e.DNE(20,Rt,2,4,"ng-template"),e.k0s(),e.j41(21,"vdr-dt2-column",7),e.nI1(22,"translate"),e.DNE(23,Gt,2,4,"ng-template"),e.k0s(),e.j41(24,"vdr-dt2-column",8),e.nI1(25,"translate"),e.DNE(26,Mt,4,5,"ng-template"),e.k0s(),e.j41(27,"vdr-dt2-column",9),e.nI1(28,"translate"),e.DNE(29,St,1,1,"ng-template"),e.k0s(),e.j41(30,"vdr-dt2-column",10),e.nI1(31,"translate"),e.DNE(32,Nt,1,1,"ng-template"),e.k0s(),e.DNE(33,Et,1,2,"vdr-dt2-custom-field-column",11),e.k0s()),2&t&&(e.R7$(5),e.Y8G("vdrIfPermissions",e.lJ4(48,ke)),e.R7$(2),e.Y8G("id",a.dataTableListId)("items",e.bMT(8,26,a.items$))("itemsPerPage",e.bMT(9,28,a.itemsPerPage$))("totalItems",e.bMT(10,30,a.totalItems$))("currentPage",e.bMT(11,32,a.currentPage$))("filters",a.filters),e.R7$(5),e.Y8G("hostComponent",a)("selectionManager",a.selectionManager),e.R7$(),e.Y8G("searchTermControl",a.searchTermControl)("searchTermPlaceholder",e.bMT(14,34,"catalog.filter-by-name")),e.R7$(2),e.Y8G("heading",e.bMT(16,36,"common.id"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("heading",e.bMT(19,38,"common.created-at"))("hiddenByDefault",!0)("sort",a.sorts.get("createdAt")),e.R7$(3),e.Y8G("heading",e.bMT(22,40,"common.updated-at"))("hiddenByDefault",!0)("sort",a.sorts.get("updatedAt")),e.R7$(3),e.Y8G("heading",e.bMT(25,42,"common.name"))("optional",!1)("sort",a.sorts.get("lastName")),e.R7$(3),e.Y8G("heading",e.bMT(28,44,"settings.email-address"))("sort",a.sorts.get("emailAddress")),e.R7$(3),e.Y8G("heading",e.bMT(31,46,"settings.roles")),e.R7$(3),e.Y8G("ngForOf",a.customFields))},dependencies:[g.U4n,c.Sq,C.Wk,o.nGW,o.wL$,o.TXc,o.lST,o.wux,o.pFL,o.TcB,o.T0b,o.IMU,o.Y9G,o.E8Q,o.TnO,o.eH4,c.Jj,h.D9,o.PU$],styles:[".search-input[_ngcontent-%COMP%]{min-width:300px}"]})}}const $o=p.J1`
    query GetChannelDetail($id: ID!) {
        channel(id: $id) {
            ...Channel
        }
    }
    ${o.No}
`;class B extends o.wi7{constructor(n,t,a,i,s){super(),this.serverConfigService=n,this.changeDetector=t,this.dataService=a,this.formBuilder=i,this.notificationService=s,this.DEFAULT_CHANNEL_CODE=k.ky,this.customFields=this.getCustomFieldConfig("Channel"),this.detailForm=this.formBuilder.group({code:["",l.k0.required],token:["",l.k0.required],pricesIncludeTax:[!1],availableLanguageCodes:[[]],availableCurrencyCodes:[[]],defaultCurrencyCode:["",l.k0.required],defaultShippingZoneId:["",l.k0.required],defaultLanguageCode:[void 0,l.k0.required],defaultTaxZoneId:["",l.k0.required],sellerId:["",l.k0.required],customFields:this.formBuilder.group((0,o.HCD)(this.customFields))}),this.updatePermission=[o.aXG.SuperAdmin,o.aXG.UpdateChannel,o.aXG.CreateChannel]}ngOnInit(){this.init(),this.sellers$=this.dataService.settings.getSellerList().mapSingle(n=>n.sellers.items),this.availableLanguageCodes$=this.serverConfigService.getAvailableLanguages(),this.detailForm.controls.availableCurrencyCodes.valueChanges.pipe((0,ue.Q)(this.destroy$)).subscribe(n=>{if(n){const t=this.detailForm.controls.defaultCurrencyCode.value;t&&!n.includes(t)&&this.detailForm.controls.defaultCurrencyCode.setValue(n[0])}}),this.detailForm.controls.availableLanguageCodes.valueChanges.pipe((0,ue.Q)(this.destroy$)).subscribe(n=>{if(n){const t=this.detailForm.controls.defaultLanguageCode.value;t&&!n.includes(t)&&this.detailForm.controls.defaultLanguageCode.setValue(n[0])}})}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;const{code:n,token:t,defaultLanguageCode:a,pricesIncludeTax:i,defaultCurrencyCode:s,defaultShippingZoneId:m,defaultTaxZoneId:v,customFields:f,sellerId:F}=this.detailForm.value;if(!(n&&t&&a&&s&&m&&v))return;const he={code:n,token:t,defaultLanguageCode:a,pricesIncludeTax:!!i,defaultCurrencyCode:s,defaultShippingZoneId:m,defaultTaxZoneId:v,customFields:f,sellerId:F};this.dataService.settings.createChannel(he).pipe((0,_.Z)(({createChannel:P})=>this.dataService.auth.currentUser().single$.pipe((0,b.T)(({me:Ce})=>({me:Ce,createChannel:P})))),(0,_.Z)(({me:P,createChannel:Ce})=>this.dataService.client.updateUserChannels(P.channels).pipe((0,b.T)(()=>Ce)))).subscribe(P=>{switch(P.__typename){case"Channel":this.notificationService.success((0,d.x)("common.notify-create-success"),{entity:"Channel"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",P.id],{relativeTo:this.route});break;case"LanguageNotAvailableError":this.notificationService.error(P.message)}})}save(){if(!this.detailForm.dirty)return;const n=this.detailForm.value;this.entity$.pipe((0,y.s)(1),(0,_.Z)(t=>{const a={id:t.id,code:n.code,token:n.token,pricesIncludeTax:n.pricesIncludeTax,availableLanguageCodes:n.availableLanguageCodes,availableCurrencyCodes:n.availableCurrencyCodes,defaultCurrencyCode:n.defaultCurrencyCode,defaultShippingZoneId:n.defaultShippingZoneId,defaultLanguageCode:n.defaultLanguageCode,defaultTaxZoneId:n.defaultTaxZoneId,customFields:n.customFields,sellerId:n.sellerId};return this.dataService.settings.updateChannel(a)})).subscribe(({updateChannel:t})=>{switch(t.__typename){case"Channel":this.notificationService.success((0,d.x)("common.notify-update-success"),{entity:"Channel"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck();break;case"LanguageNotAvailableError":this.notificationService.error(t.message)}})}setFormValues(n,t){if(this.detailForm.patchValue({code:n.code,token:n.token||this.generateToken(),pricesIncludeTax:n.pricesIncludeTax,availableLanguageCodes:n.availableLanguageCodes,availableCurrencyCodes:n.availableCurrencyCodes,defaultCurrencyCode:n.defaultCurrencyCode,defaultShippingZoneId:n.defaultShippingZone?.id??"",defaultLanguageCode:n.defaultLanguageCode,defaultTaxZoneId:n.defaultTaxZone?.id??"",sellerId:n.seller?.id??""}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),n),n.code===k.ky){const a=this.detailForm.get("code");a&&a.disable()}}generateToken(){return Array.from(crypto.getRandomValues(new Uint8Array(10))).map(n=>n.toString(16).padStart(2,"0")).join("")}static{this.\u0275fac=function(t){return new(t||B)(e.rXU(o.BBL),e.rXU(e.gRc),e.rXU(o.uSP),e.rXU(l.ok),e.rXU(o.JEu))}}static{this.\u0275cmp=e.VBU({type:B,selectors:[["vdr-channel-detail"]],features:[e.Vt3],decls:70,vars:74,consts:[["updateButton",""],["locationId","channel-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["class","form-grid-span","for","code",3,"label",4,"ngIf"],["class","form-grid-span",3,"label",4,"ngIf"],["for","token",3,"label"],["id","token","type","text","formControlName","token",3,"readonly"],["for","sellerId",3,"label"],["name","sellerId","formControlName","sellerId",3,"vdrDisabled"],["selected","","value","",2,"display","none"],[3,"value",4,"ngFor","ngForOf"],["for","availableLanguageCodes",3,"label"],["formControlName","availableLanguageCodes",3,"languageCodes"],["for","availableCurrencyCodes",3,"label"],["formControlName","availableCurrencyCodes"],[3,"title"],["for","defaultLanguage",3,"label"],["name","defaultLanguageCode","formControlName","defaultLanguageCode",3,"vdrDisabled"],["for","defaultCurrency",3,"label"],["name","defaultCurrencyCode","formControlName","defaultCurrencyCode",3,"vdrDisabled"],["for","defaultTaxZoneId",3,"label"],["formControlName","defaultTaxZoneId",3,"vdrDisabled"],["clrAlertType","danger",3,"clrAlertClosable",4,"ngIf"],["for","defaultShippingZoneId",3,"label"],["name","defaultShippingZoneId","formControlName","defaultShippingZoneId",3,"vdrDisabled"],["for","pricesIncludeTax",3,"label"],["type","checkbox","clrToggle","","id","pricesIncludeTax","formControlName","pricesIncludeTax",3,"vdrDisabled"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","channel-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["for","code",1,"form-grid-span",3,"label"],["id","code","type","text","formControlName","code",3,"readonly"],[1,"form-grid-span",3,"label"],[3,"value"],["clrAlertType","danger",3,"clrAlertClosable"],[1,"alert-text"],["formGroupName","customFields",3,"title"],["entityName","Channel",3,"customFields","customFieldsFormGroup"]],template:function(t,a){if(1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",1),e.DNE(5,jt,3,4,"button",2),e.nI1(6,"async"),e.DNE(7,Yt,1,2,"ng-template",null,0,e.C5r),e.nrm(9,"vdr-action-bar-dropdown-menu",1),e.k0s()()(),e.j41(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar"),e.DNE(13,Bt,2,1,"vdr-card",4),e.nI1(14,"async"),e.k0s(),e.j41(15,"vdr-page-block")(16,"vdr-card")(17,"div",5),e.DNE(18,wt,4,6,"vdr-form-field",6)(19,Ot,5,8,"vdr-form-item",7),e.j41(20,"vdr-form-field",8),e.nI1(21,"translate"),e.nrm(22,"input",9),e.nI1(23,"hasPermission"),e.k0s(),e.j41(24,"vdr-form-field",10),e.nI1(25,"translate"),e.j41(26,"select",11),e.nI1(27,"hasPermission"),e.nrm(28,"option",12),e.DNE(29,Vt,2,2,"option",13),e.nI1(30,"async"),e.k0s()(),e.j41(31,"vdr-form-field",14),e.nI1(32,"translate"),e.nrm(33,"vdr-language-code-selector",15),e.nI1(34,"async"),e.k0s(),e.j41(35,"vdr-form-field",16),e.nI1(36,"translate"),e.nrm(37,"vdr-currency-code-selector",17),e.k0s()()(),e.j41(38,"vdr-card",18),e.nI1(39,"translate"),e.j41(40,"div",5)(41,"vdr-form-field",19),e.nI1(42,"translate"),e.j41(43,"select",20),e.nI1(44,"hasPermission"),e.DNE(45,Ut,4,7,"option",13),e.k0s()(),e.j41(46,"vdr-form-field",21),e.nI1(47,"translate"),e.j41(48,"select",22),e.nI1(49,"hasPermission"),e.DNE(50,Xt,3,4,"option",13),e.k0s()(),e.j41(51,"div")(52,"vdr-form-field",23),e.nI1(53,"translate"),e.nrm(54,"vdr-zone-selector",24),e.nI1(55,"hasPermission"),e.k0s(),e.DNE(56,qt,5,4,"clr-alert",25),e.k0s(),e.j41(57,"div")(58,"vdr-form-field",26),e.nI1(59,"translate"),e.nrm(60,"vdr-zone-selector",27),e.nI1(61,"hasPermission"),e.k0s(),e.DNE(62,Zt,5,4,"clr-alert",25),e.k0s(),e.j41(63,"vdr-form-field",28),e.nI1(64,"translate"),e.j41(65,"clr-toggle-wrapper"),e.nrm(66,"input",29),e.nI1(67,"hasPermission"),e.k0s()()()(),e.DNE(68,Jt,3,5,"vdr-card",30),e.nrm(69,"vdr-custom-detail-component-host",31),e.k0s()()()),2&t){const i=e.sdS(8);e.R7$(5),e.Y8G("ngIf",e.bMT(6,32,a.isNew$))("ngIfElse",i),e.R7$(5),e.Y8G("formGroup",a.detailForm),e.R7$(3),e.Y8G("ngIf",e.bMT(14,34,a.entity$)),e.R7$(5),e.Y8G("ngIf",(null==a.entity?null:a.entity.code)!==a.DEFAULT_CHANNEL_CODE),e.R7$(),e.Y8G("ngIf",(null==a.entity?null:a.entity.code)===a.DEFAULT_CHANNEL_CODE),e.R7$(),e.Y8G("label",e.bMT(21,36,"settings.channel-token")),e.R7$(2),e.Y8G("readonly",!e.bMT(23,38,a.updatePermission)),e.R7$(2),e.Y8G("label",e.bMT(25,40,"common.seller")),e.R7$(2),e.Y8G("vdrDisabled",!e.bMT(27,42,a.updatePermission)),e.R7$(3),e.Y8G("ngForOf",e.bMT(30,44,a.sellers$)),e.R7$(2),e.Y8G("label",e.bMT(32,46,"common.available-languages")),e.R7$(2),e.Y8G("languageCodes",e.bMT(34,48,a.availableLanguageCodes$)),e.R7$(2),e.Y8G("label",e.bMT(36,50,"common.available-currencies")),e.R7$(3),e.Y8G("title",e.bMT(39,52,"settings.defaults")),e.R7$(3),e.Y8G("label",e.bMT(42,54,"common.default-language")),e.R7$(2),e.Y8G("vdrDisabled",!e.bMT(44,56,a.updatePermission)),e.R7$(2),e.Y8G("ngForOf",a.detailForm.value.availableLanguageCodes),e.R7$(),e.Y8G("label",e.bMT(47,58,"settings.default-currency")),e.R7$(2),e.Y8G("vdrDisabled",!e.bMT(49,60,a.updatePermission)),e.R7$(2),e.Y8G("ngForOf",a.detailForm.value.availableCurrencyCodes),e.R7$(2),e.Y8G("label",e.bMT(53,62,"settings.default-tax-zone")),e.R7$(2),e.Y8G("vdrDisabled",!e.bMT(55,64,a.updatePermission)),e.R7$(2),e.Y8G("ngIf",a.detailForm.value.code&&!a.detailForm.value.defaultTaxZoneId),e.R7$(2),e.Y8G("label",e.bMT(59,66,"settings.default-shipping-zone")),e.R7$(2),e.Y8G("vdrDisabled",!e.bMT(61,68,a.updatePermission)),e.R7$(2),e.Y8G("ngIf",a.detailForm.value.code&&!a.detailForm.value.defaultShippingZoneId),e.R7$(),e.Y8G("label",e.bMT(64,70,"settings.prices-include-tax")),e.R7$(3),e.Y8G("vdrDisabled",!e.bMT(67,72,a.updatePermission)),e.R7$(2),e.Y8G("ngIf",a.customFields.length),e.R7$(),e.Y8G("entity$",a.entity$)("detailForm",a.detailForm)}},dependencies:[g.k8k,g.Bw1,g.tQl,g.Jej,g.eAx,c.Sq,c.bT,l.qT,l.xH,l.y7,l.me,l.Zm,l.wz,l.BC,l.cb,l.j4,l.JD,l.$R,o.nGW,o.wL$,o.TXc,o.lST,o.KSf,o.Vr5,o.N5M,o.pFL,o.TcB,o.y5i,o.W4C,o.Loz,o.eH4,o.ERS,o.c5c,o.eCv,o.iby,o.to9,o.h2I,o.y9u,c.Jj,c.Pc,h.D9,o.$sI,o.Ex,o.i3f,o.sWN],styles:["clr-alert[_ngcontent-%COMP%]{max-width:30rem;margin-bottom:12px}"],changeDetection:0})}}const Pe=(0,o.AfA)({location:"channel-list",requiresPermission:r=>r.includes(o.aXG.SuperAdmin)||r.includes(o.aXG.DeleteChannel),getItemName:r=>r.code,bulkDelete:(r,n)=>r.settings.deleteChannels(n).pipe((0,_.Z)(({deleteChannels:t})=>r.auth.currentUser().single$.pipe((0,b.T)(({me:a})=>({me:a,deleteChannels:t})))),(0,_.Z)(({me:t,deleteChannels:a})=>r.client.updateUserChannels(t.channels).pipe((0,b.T)(()=>a))))}),Ro=p.J1`
    query GetChannelList($options: ChannelListOptions) {
        channels(options: $options) {
            items {
                ...Channel
            }
            totalItems
        }
    }
    ${o.No}
`;class w extends o.B8I{constructor(){super(),this.dataTableListId="channel-list",this.customFields=this.getCustomFieldConfig("Channel"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"code",type:{kind:"text"},label:(0,d.x)("common.code"),filterField:"code"}).addFilter({name:"token",type:{kind:"text"},label:(0,d.x)("settings.channel-token"),filterField:"token"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"code"}).addSort({name:"token"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:o.fmr,getItems:n=>n.channels,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{code:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}isDefaultChannel(n){return n===k.ky}static{this.\u0275fac=function(t){return new(t||w)}}static{this.\u0275cmp=e.VBU({type:w,selectors:[["vdr-channel-list"]],features:[e.Vt3],decls:31,vars:46,consts:[["locationId","channel-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[1,"mt-2",3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","channel-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","code",3,"heading","optional","sort"],["id","channel-token",3,"heading","sort"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[3,"customField","sorts"]],template:function(t,a){1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",0),e.DNE(5,zt,4,5,"a",1),e.nrm(6,"vdr-action-bar-dropdown-menu",0),e.k0s()()(),e.j41(7,"vdr-data-table-2",2),e.nI1(8,"async"),e.nI1(9,"async"),e.nI1(10,"async"),e.nI1(11,"async"),e.bIt("pageChange",function(s){return a.setPageNumber(s)})("itemsPerPageChange",function(s){return a.setItemsPerPage(s)})("visibleColumnsChange",function(s){return a.setVisibleColumns(s)}),e.nrm(12,"vdr-bulk-action-menu",3)(13,"vdr-dt2-search",4),e.nI1(14,"translate"),e.j41(15,"vdr-dt2-column",5),e.nI1(16,"translate"),e.DNE(17,Wt,1,1,"ng-template"),e.k0s(),e.j41(18,"vdr-dt2-column",6),e.nI1(19,"translate"),e.DNE(20,Qt,2,4,"ng-template"),e.k0s(),e.j41(21,"vdr-dt2-column",7),e.nI1(22,"translate"),e.DNE(23,Kt,2,4,"ng-template"),e.k0s(),e.j41(24,"vdr-dt2-column",8),e.nI1(25,"translate"),e.DNE(26,en,6,8,"ng-template"),e.k0s(),e.j41(27,"vdr-dt2-column",9),e.nI1(28,"translate"),e.DNE(29,tn,1,1,"ng-template"),e.k0s(),e.DNE(30,nn,1,2,"vdr-dt2-custom-field-column",10),e.k0s()),2&t&&(e.R7$(5),e.Y8G("vdrIfPermissions",e.lJ4(45,Ht)),e.R7$(2),e.Y8G("id",a.dataTableListId)("items",e.bMT(8,25,a.items$))("itemsPerPage",e.bMT(9,27,a.itemsPerPage$))("totalItems",e.bMT(10,29,a.totalItems$))("currentPage",e.bMT(11,31,a.currentPage$))("filters",a.filters),e.R7$(5),e.Y8G("hostComponent",a)("selectionManager",a.selectionManager),e.R7$(),e.Y8G("searchTermControl",a.searchTermControl)("searchTermPlaceholder",e.bMT(14,33,"catalog.filter-by-name")),e.R7$(2),e.Y8G("heading",e.bMT(16,35,"common.id"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("heading",e.bMT(19,37,"common.created-at"))("hiddenByDefault",!0)("sort",a.sorts.get("createdAt")),e.R7$(3),e.Y8G("heading",e.bMT(22,39,"common.updated-at"))("hiddenByDefault",!0)("sort",a.sorts.get("updatedAt")),e.R7$(3),e.Y8G("heading",e.bMT(25,41,"common.code"))("optional",!1)("sort",a.sorts.get("code")),e.R7$(3),e.Y8G("heading",e.bMT(28,43,"settings.channel-token"))("sort",a.sorts.get("token")),e.R7$(3),e.Y8G("ngForOf",a.customFields))},dependencies:[g.U4n,c.Sq,C.Wk,o.nGW,o.wL$,o.TXc,o.lST,o.pFL,o.TcB,o.T0b,o.IMU,o.Y9G,o.E8Q,o.TnO,o.eH4,c.Jj,h.D9,o.i3f,o.PU$],changeDetection:0})}}const Go=p.J1`
    query GetCountryDetail($id: ID!) {
        country(id: $id) {
            ...Country
        }
    }
    ${o.MCx}
`;class O extends o.wi7{constructor(n,t,a,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=a,this.notificationService=i,this.customFields=this.getCustomFieldConfig("Region"),this.detailForm=this.formBuilder.group({code:["",l.k0.required],name:["",l.k0.required],enabled:[!0],customFields:this.formBuilder.group((0,o.HCD)(this.customFields))}),this.updatePermission=[o.aXG.UpdateSettings,o.aXG.UpdateCountry]}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}create(){if(!this.detailForm.dirty)return;const n=this.detailForm.value,t=(0,o.vk6)({translatable:{id:"",createdAt:"",updatedAt:"",code:"",name:"",enabled:!1,translations:[]},updatedFields:n,languageCode:this.languageCode,customFieldConfig:this.customFields,defaultTranslation:{name:n.name??"",languageCode:this.languageCode}});this.dataService.settings.createCountry(t).subscribe(a=>{this.notificationService.success((0,d.x)("common.notify-create-success"),{entity:"Country"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",a.createCountry.id],{relativeTo:this.route})},a=>{this.notificationService.error((0,d.x)("common.notify-create-error"),{entity:"Country"})})}save(){(0,$.z)(this.entity$,this.languageCode$).pipe((0,y.s)(1),(0,_.Z)(([n,t])=>{const a=this.detailForm.value,i=(0,o.vk6)({translatable:n,updatedFields:a,customFieldConfig:this.customFields,languageCode:t,defaultTranslation:{name:a.name??"",languageCode:t}});return this.dataService.settings.updateCountry(i)})).subscribe(n=>{this.notificationService.success((0,d.x)("common.notify-update-success"),{entity:"Country"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},n=>{this.notificationService.error((0,d.x)("common.notify-update-error"),{entity:"Country"})})}setFormValues(n,t){const a=(0,o.RMk)(n,t);this.detailForm.patchValue({code:n.code,name:a?a.name:"",enabled:n.enabled}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),n,a)}static{this.\u0275fac=function(t){return new(t||O)(e.rXU(e.gRc),e.rXU(o.uSP),e.rXU(l.ok),e.rXU(o.JEu))}}static{this.\u0275cmp=e.VBU({type:O,selectors:[["vdr-country-detail"]],features:[e.Vt3],decls:38,vars:38,consts:[["updateButton",""],[3,"languageCodeChange","disabled","availableLanguageCodes","currentLanguageCode"],["locationId","country-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],["for","enabled",3,"label"],["type","checkbox","clrToggle","","id","enabled","formControlName","enabled",3,"vdrDisabled"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","code",3,"label"],["id","code","type","text","formControlName","code",3,"readonly"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","country-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","Region",3,"customFields","customFieldsFormGroup"]],template:function(t,a){if(1&t){const i=e.RV6();e.j41(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",1),e.nI1(4,"async"),e.nI1(5,"async"),e.nI1(6,"async"),e.bIt("languageCodeChange",function(m){return e.eBV(i),e.Njj(a.setLanguage(m))}),e.k0s()(),e.j41(7,"vdr-ab-right"),e.nrm(8,"vdr-action-bar-items",2),e.DNE(9,rn,3,4,"button",3),e.nI1(10,"async"),e.DNE(11,on,1,1,"ng-template",null,0,e.C5r),e.nrm(13,"vdr-action-bar-dropdown-menu",2),e.k0s()()(),e.j41(14,"form",4)(15,"vdr-page-detail-layout")(16,"vdr-page-detail-sidebar")(17,"vdr-card")(18,"vdr-form-field",5),e.nI1(19,"translate"),e.j41(20,"clr-toggle-wrapper"),e.nrm(21,"input",6),e.nI1(22,"hasPermission"),e.k0s()()(),e.DNE(23,sn,2,1,"vdr-card",7),e.nI1(24,"async"),e.k0s(),e.j41(25,"vdr-page-block")(26,"vdr-card")(27,"div",8)(28,"vdr-form-field",9),e.nI1(29,"translate"),e.nrm(30,"input",10),e.nI1(31,"hasPermission"),e.k0s(),e.j41(32,"vdr-form-field",11),e.nI1(33,"translate"),e.nrm(34,"input",12),e.nI1(35,"hasPermission"),e.k0s()()(),e.DNE(36,ln,3,5,"vdr-card",13),e.nrm(37,"vdr-custom-detail-component-host",14),e.k0s()()()}if(2&t){const i=e.sdS(12);e.R7$(3),e.Y8G("disabled",e.bMT(4,16,a.isNew$))("availableLanguageCodes",e.bMT(5,18,a.availableLanguages$))("currentLanguageCode",e.bMT(6,20,a.languageCode$)),e.R7$(6),e.Y8G("ngIf",e.bMT(10,22,a.isNew$))("ngIfElse",i),e.R7$(5),e.Y8G("formGroup",a.detailForm),e.R7$(4),e.Y8G("label",e.bMT(19,24,"common.enabled")),e.R7$(3),e.Y8G("vdrDisabled",!e.bMT(22,26,a.updatePermission)),e.R7$(2),e.Y8G("ngIf",e.bMT(24,28,a.entity$)),e.R7$(5),e.Y8G("label",e.bMT(29,30,"common.name")),e.R7$(2),e.Y8G("readonly",!e.bMT(31,32,a.updatePermission)),e.R7$(2),e.Y8G("label",e.bMT(33,34,"common.code")),e.R7$(2),e.Y8G("readonly",!e.bMT(35,36,a.updatePermission)),e.R7$(2),e.Y8G("ngIf",a.customFields.length),e.R7$(),e.Y8G("entity$",a.entity$)("detailForm",a.detailForm)}},dependencies:[g.Jej,g.eAx,c.bT,l.qT,l.me,l.Zm,l.BC,l.cb,l.j4,l.JD,l.$R,o.nGW,o.wL$,o.TXc,o.lST,o.KSf,o.Vr5,o.t89,o.pFL,o.TcB,o.y5i,o.W4C,o.Loz,o.eH4,o.ERS,o.c5c,o.eCv,o.iby,c.Jj,h.D9,o.Ex],changeDetection:0})}}const $e=(0,o.AfA)({location:"country-list",requiresPermission:r=>r.includes(o.aXG.DeleteSettings)||r.includes(o.aXG.DeleteCountry),getItemName:r=>r.name,bulkDelete:(r,n)=>r.settings.deleteCountries(n).pipe((0,b.T)(t=>t.deleteCountries))}),Mo=p.J1`
    query GetCountryList($options: CountryListOptions) {
        countries(options: $options) {
            items {
                ...CountryListItem
            }
            totalItems
        }
    }
    fragment CountryListItem on Country {
        id
        createdAt
        updatedAt
        code
        name
        type
        enabled
    }
`;class V extends o.B8I{constructor(){super(),this.dataTableListId="country-list",this.customFields=this.getCustomFieldConfig("Region"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:(0,d.x)("common.name"),filterField:"name"}).addFilter({name:"code",type:{kind:"text"},label:(0,d.x)("common.code"),filterField:"code"}).addFilter({name:"enabled",type:{kind:"boolean"},label:(0,d.x)("common.enabled"),filterField:"enabled"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("name","ASC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addSort({name:"code"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:o.Is3,getItems:n=>n.countries,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static{this.\u0275fac=function(t){return new(t||V)}}static{this.\u0275cmp=e.VBU({type:V,selectors:[["vdr-country-list"]],features:[e.Vt3],decls:37,vars:55,consts:[[3,"languageCodeChange","availableLanguageCodes","currentLanguageCode"],["locationId","country-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[1,"mt-2",3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","country-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","code",3,"heading","sort"],["id","enabled",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["colorType","success",4,"ngIf"],["colorType","warning",4,"ngIf"],["colorType","success"],["colorType","warning"],[3,"customField","sorts"]],template:function(t,a){1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),e.nI1(4,"async"),e.nI1(5,"async"),e.bIt("languageCodeChange",function(s){return a.setLanguage(s)}),e.k0s()(),e.j41(6,"vdr-ab-right"),e.nrm(7,"vdr-action-bar-items",1),e.DNE(8,cn,4,5,"a",2),e.nrm(9,"vdr-action-bar-dropdown-menu",1),e.k0s()()(),e.j41(10,"vdr-data-table-2",3),e.nI1(11,"async"),e.nI1(12,"async"),e.nI1(13,"async"),e.nI1(14,"async"),e.bIt("pageChange",function(s){return a.setPageNumber(s)})("itemsPerPageChange",function(s){return a.setItemsPerPage(s)})("visibleColumnsChange",function(s){return a.setVisibleColumns(s)}),e.nrm(15,"vdr-bulk-action-menu",4)(16,"vdr-dt2-search",5),e.nI1(17,"translate"),e.j41(18,"vdr-dt2-column",6),e.nI1(19,"translate"),e.DNE(20,mn,1,1,"ng-template"),e.k0s(),e.j41(21,"vdr-dt2-column",7),e.nI1(22,"translate"),e.DNE(23,un,2,4,"ng-template"),e.k0s(),e.j41(24,"vdr-dt2-column",8),e.nI1(25,"translate"),e.DNE(26,pn,2,4,"ng-template"),e.k0s(),e.j41(27,"vdr-dt2-column",9),e.nI1(28,"translate"),e.DNE(29,gn,4,4,"ng-template"),e.k0s(),e.j41(30,"vdr-dt2-column",10),e.nI1(31,"translate"),e.DNE(32,hn,1,1,"ng-template"),e.k0s(),e.j41(33,"vdr-dt2-column",11),e.nI1(34,"translate"),e.DNE(35,vn,2,2,"ng-template"),e.k0s(),e.DNE(36,_n,1,2,"vdr-dt2-custom-field-column",12),e.k0s()),2&t&&(e.R7$(3),e.Y8G("availableLanguageCodes",e.bMT(4,28,a.availableLanguages$))("currentLanguageCode",e.bMT(5,30,a.contentLanguage$)),e.R7$(5),e.Y8G("vdrIfPermissions",e.lJ4(54,dn)),e.R7$(2),e.Y8G("id",a.dataTableListId)("items",e.bMT(11,32,a.items$))("itemsPerPage",e.bMT(12,34,a.itemsPerPage$))("totalItems",e.bMT(13,36,a.totalItems$))("currentPage",e.bMT(14,38,a.currentPage$))("filters",a.filters),e.R7$(5),e.Y8G("hostComponent",a)("selectionManager",a.selectionManager),e.R7$(),e.Y8G("searchTermControl",a.searchTermControl)("searchTermPlaceholder",e.bMT(17,40,"catalog.filter-by-name")),e.R7$(2),e.Y8G("heading",e.bMT(19,42,"common.id"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("heading",e.bMT(22,44,"common.created-at"))("hiddenByDefault",!0)("sort",a.sorts.get("createdAt")),e.R7$(3),e.Y8G("heading",e.bMT(25,46,"common.updated-at"))("hiddenByDefault",!0)("sort",a.sorts.get("updatedAt")),e.R7$(3),e.Y8G("heading",e.bMT(28,48,"common.name"))("optional",!1)("sort",a.sorts.get("name")),e.R7$(3),e.Y8G("heading",e.bMT(31,50,"common.code"))("sort",a.sorts.get("code")),e.R7$(3),e.Y8G("heading",e.bMT(34,52,"common.enabled")),e.R7$(3),e.Y8G("ngForOf",a.customFields))},dependencies:[g.U4n,c.Sq,c.bT,C.Wk,o.nGW,o.wL$,o.TXc,o.lST,o.wux,o.t89,o.pFL,o.TcB,o.T0b,o.IMU,o.Y9G,o.E8Q,o.TnO,o.eH4,c.Jj,h.D9,o.PU$],styles:[".search-input[_ngcontent-%COMP%]{margin-top:6px;min-width:300px}"],changeDetection:0})}}const So=p.J1`
    query GetGlobalSettingsDetail {
        globalSettings {
            ...GlobalSettingsDetail
        }
    }
    fragment GlobalSettingsDetail on GlobalSettings {
        id
        createdAt
        updatedAt
        availableLanguages
        trackInventory
        outOfStockThreshold
    }
`;class U extends o.wi7{constructor(n,t,a,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=a,this.notificationService=i,this.customFields=this.getCustomFieldConfig("GlobalSettings"),this.detailForm=this.formBuilder.group({availableLanguages:[[]],trackInventory:!1,outOfStockThreshold:[0,l.k0.required],customFields:this.formBuilder.group((0,o.HCD)(this.customFields))}),this.languageCodes=Object.values(o.sw8),this.updatePermission=[o.aXG.UpdateSettings,o.aXG.UpdateGlobalSettings]}ngOnInit(){this.init(),this.dataService.client.userStatus().single$.subscribe(({userStatus:n})=>{if(!n.permissions.includes(o.aXG.UpdateSettings)){const t=this.detailForm.get("availableLanguages");t&&t.disable()}})}ngOnDestroy(){this.destroy()}save(){this.detailForm.dirty&&this.dataService.settings.updateGlobalSettings(this.detailForm.value).pipe((0,Fe.M)(({updateGlobalSettings:n})=>{switch(n.__typename){case"GlobalSettings":this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.notificationService.success((0,d.x)("common.notify-update-success"),{entity:"Settings"});break;case"ChannelDefaultLanguageError":this.notificationService.error(n.message)}}),(0,L.n)(()=>this.serverConfigService.refreshGlobalSettings()),Ie(this.dataService.client.uiState().single$)).subscribe(([{globalSettings:n},{uiState:t}])=>{const a=n.availableLanguages;a.length&&!a.includes(t.contentLanguage)&&this.dataService.client.setContentLanguage(a[0]).subscribe()})}setFormValues(n,t){this.detailForm.patchValue({availableLanguages:n.availableLanguages,trackInventory:n.trackInventory,outOfStockThreshold:n.outOfStockThreshold}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),n)}static{this.\u0275fac=function(t){return new(t||U)(e.rXU(e.gRc),e.rXU(o.uSP),e.rXU(l.ok),e.rXU(o.JEu))}}static{this.\u0275cmp=e.VBU({type:U,selectors:[["vdr-global-settings"]],features:[e.Vt3],decls:27,vars:30,consts:[["locationId","global-setting-detail"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[1,"form",3,"formGroup"],[1,"form-grid"],["for","availableLanguages",3,"label","tooltip"],["formControlName","availableLanguages",3,"languageCodes"],["for","outOfStockThreshold",3,"label","tooltip"],["id","outOfStockThreshold","type","number","formControlName","outOfStockThreshold",3,"readonly"],["for","enabled",3,"label","tooltip"],["type","checkbox","clrToggle","","name","enabled","formControlName","trackInventory",3,"vdrDisabled"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","global-settings-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["formGroupName","customFields",3,"title"],["entityName","GlobalSettings",3,"customFields","customFieldsFormGroup","readonly"]],template:function(t,a){1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-right"),e.nrm(3,"vdr-action-bar-items",0),e.DNE(4,Cn,3,4,"button",1),e.nrm(5,"vdr-action-bar-dropdown-menu",0),e.k0s()()(),e.j41(6,"form",2)(7,"vdr-page-block")(8,"vdr-card")(9,"div",3)(10,"vdr-form-field",4),e.nI1(11,"translate"),e.nI1(12,"translate"),e.nrm(13,"vdr-language-code-selector",5),e.k0s(),e.j41(14,"vdr-form-field",6),e.nI1(15,"translate"),e.nI1(16,"translate"),e.nrm(17,"input",7),e.nI1(18,"hasPermission"),e.k0s(),e.j41(19,"vdr-form-field",8),e.nI1(20,"translate"),e.nI1(21,"translate"),e.j41(22,"clr-toggle-wrapper"),e.nrm(23,"input",9),e.nI1(24,"hasPermission"),e.k0s()()()(),e.DNE(25,yn,4,8,"vdr-card",10),e.nrm(26,"vdr-custom-detail-component-host",11),e.k0s()()),2&t&&(e.R7$(4),e.Y8G("vdrIfPermissions",a.updatePermission),e.R7$(2),e.Y8G("formGroup",a.detailForm),e.R7$(4),e.Y8G("label",e.bMT(11,14,"common.available-languages"))("tooltip",e.bMT(12,16,"settings.global-available-languages-tooltip")),e.R7$(3),e.Y8G("languageCodes",a.languageCodes),e.R7$(),e.Y8G("label",e.bMT(15,18,"settings.global-out-of-stock-threshold"))("tooltip",e.bMT(16,20,"settings.global-out-of-stock-threshold-tooltip")),e.R7$(3),e.Y8G("readonly",!e.bMT(18,22,a.updatePermission)),e.R7$(2),e.Y8G("label",e.bMT(20,24,"settings.track-inventory-default"))("tooltip",e.bMT(21,26,"catalog.track-inventory-tooltip")),e.R7$(4),e.Y8G("vdrDisabled",!e.bMT(24,28,a.updatePermission)),e.R7$(2),e.Y8G("ngIf",a.customFields.length),e.R7$(),e.Y8G("entity$",a.entity$)("detailForm",a.detailForm))},dependencies:[g.Jej,g.eAx,c.bT,l.qT,l.me,l.Q0,l.Zm,l.BC,l.cb,l.j4,l.JD,l.$R,o.nGW,o.TXc,o.lST,o.KSf,o.Vr5,o.pFL,o.TcB,o.y5i,o.W4C,o.Loz,o.eH4,o.iby,o.y9u,h.D9,o.Ex],styles:["ng-select .ng-value>span{margin:0!important}  ng-select .ng-arrow-wrapper .ng-arrow{margin:0!important}  ng-select .ng-select-container>span{margin:0!important}"],changeDetection:0})}}const Lo=p.J1`
    query GetPaymentMethodDetail($id: ID!) {
        paymentMethod(id: $id) {
            ...PaymentMethod
        }
    }
    ${o.i49}
`;class X extends o.wi7{constructor(n,t,a,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=a,this.notificationService=i,this.customFields=this.getCustomFieldConfig("PaymentMethod"),this.detailForm=this.formBuilder.group({code:["",l.k0.required],name:["",l.k0.required],description:"",enabled:[!0,l.k0.required],checker:{},handler:{},customFields:this.formBuilder.group((0,o.HCD)(this.customFields))}),this.checkers=[],this.handlers=[],this.updatePermission=[o.aXG.UpdateSettings,o.aXG.UpdatePaymentMethod]}ngOnInit(){this.init(),this.dataService.settings.getPaymentMethodOperations().single$.subscribe(n=>{this.checkers=n.paymentMethodEligibilityCheckers,this.handlers=n.paymentMethodHandlers,this.changeDetector.markForCheck(),this.selectedCheckerDefinition=n.paymentMethodEligibilityCheckers.find(t=>t.code===this.entity?.checker?.code),this.selectedHandlerDefinition=n.paymentMethodHandlers.find(t=>t.code===this.entity?.handler?.code)})}ngOnDestroy(){this.destroy()}updateCode(n,t){if(!n){const a=this.detailForm.get("code");a&&a.pristine&&a.setValue((0,be.J)(t,"-"))}}selectChecker(n){this.selectedCheckerDefinition=n,this.selectedChecker=(0,o.N9n)(n);const t=this.detailForm.get("checker");t&&(t.clearValidators(),t.updateValueAndValidity({onlySelf:!0}),t.patchValue(this.selectedChecker)),this.detailForm.markAsDirty()}selectHandler(n){this.selectedHandlerDefinition=n,this.selectedHandler=(0,o.N9n)(n);const t=this.detailForm.get("handler");t&&(t.clearValidators(),t.updateValueAndValidity({onlySelf:!0}),t.patchValue(this.selectedHandler)),this.detailForm.markAsDirty()}removeChecker(){this.selectedChecker=null,this.detailForm.markAsDirty()}removeHandler(){this.selectedHandler=null,this.detailForm.markAsDirty()}create(){const n=this.selectedChecker,t=this.selectedHandler;if(!t)return;const a=this.getUpdatedPaymentMethod({id:"",createdAt:"",updatedAt:"",name:"",code:"",description:"",enabled:!0,checker:void 0,handler:void 0,translations:[]},this.detailForm,this.languageCode,t,n);this.dataService.settings.createPaymentMethod(a).subscribe(i=>{this.notificationService.success((0,d.x)("common.notify-create-success"),{entity:"PaymentMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",i.createPaymentMethod.id],{relativeTo:this.route})},i=>{this.notificationService.error((0,d.x)("common.notify-create-error"),{entity:"PaymentMethod"})})}save(){const n=this.selectedChecker,t=this.selectedHandler;t&&(0,$.z)(this.entity$,this.languageCode$).pipe((0,y.s)(1),(0,_.Z)(([a,i])=>{const s=this.getUpdatedPaymentMethod(a,this.detailForm,i,t,n);return this.dataService.settings.updatePaymentMethod(s)})).subscribe(a=>{this.notificationService.success((0,d.x)("common.notify-update-success"),{entity:"PaymentMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},a=>{this.notificationService.error((0,d.x)("common.notify-update-error"),{entity:"PaymentMethod"})})}getUpdatedPaymentMethod(n,t,a,i,s){return{...(0,o.vk6)({translatable:n,updatedFields:t.value,customFieldConfig:this.customFields,languageCode:a,defaultTranslation:{languageCode:a,name:n.name||"",description:n.description||""}}),checker:s?(0,o.GfA)(s,t.value.checker):null,handler:(0,o.GfA)(i,t.value.handler)}}setFormValues(n,t){const a=(0,o.RMk)(n,t);this.detailForm.patchValue({name:a?.name,code:n.code,description:a?.description,enabled:n.enabled,checker:n.checker||{},handler:n.handler||{}}),this.selectedChecker||(this.selectedChecker=n.checker&&{code:n.checker.code,args:n.checker.args.map(i=>({...i,value:(0,o.gfn)(i.value)}))}),this.selectedHandler||(this.selectedHandler=n.handler&&{code:n.handler.code,args:n.handler.args.map(i=>({...i,value:(0,o.gfn)(i.value)}))}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),n,a)}static{this.\u0275fac=function(t){return new(t||X)(e.rXU(e.gRc),e.rXU(o.uSP),e.rXU(l.ok),e.rXU(o.JEu))}}static{this.\u0275cmp=e.VBU({type:X,selectors:[["vdr-payment-method-detail"]],features:[e.Vt3],decls:50,vars:57,consts:[["updateButton",""],[3,"languageCodeChange","disabled","availableLanguageCodes","currentLanguageCode"],["locationId","payment-method-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],["for","description",3,"label"],["type","checkbox","clrToggle","","id","enabled","formControlName","enabled",3,"vdrDisabled"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"input","readonly"],["for","code",3,"label","readOnlyToggle"],["id","code","type","text","formControlName","code",3,"readonly"],["formControlName","description",1,"form-grid-span",3,"readonly","label"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","payment-method-detail",3,"entity$","detailForm"],[3,"title"],["formControlName","checker",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],["formControlName","handler",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","PaymentMethod",3,"customFields","customFieldsFormGroup"],["formControlName","checker",3,"remove","operation","operationDefinition","readonly"],["vdrDropdownTrigger","",1,"btn","btn-outline"],["shape","plus"],["vdrPosition","bottom-left"],["type","button","vdrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["type","button","vdrDropdownItem","",3,"click"],["formControlName","handler",3,"remove","operation","operationDefinition","readonly"]],template:function(t,a){if(1&t){const i=e.RV6();e.j41(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",1),e.nI1(4,"async"),e.nI1(5,"async"),e.nI1(6,"async"),e.bIt("languageCodeChange",function(m){return e.eBV(i),e.Njj(a.setLanguage(m))}),e.k0s()(),e.j41(7,"vdr-ab-right"),e.nrm(8,"vdr-action-bar-items",2),e.DNE(9,Tn,3,4,"button",3),e.nI1(10,"async"),e.DNE(11,Fn,1,1,"ng-template",null,0,e.C5r),e.nrm(13,"vdr-action-bar-dropdown-menu",2),e.k0s()()(),e.j41(14,"form",4)(15,"vdr-page-detail-layout")(16,"vdr-page-detail-sidebar")(17,"vdr-card")(18,"vdr-form-field",5),e.nI1(19,"translate"),e.j41(20,"clr-toggle-wrapper"),e.nrm(21,"input",6),e.nI1(22,"hasPermission"),e.k0s()()(),e.DNE(23,kn,2,1,"vdr-card",7),e.nI1(24,"async"),e.k0s(),e.j41(25,"vdr-page-block")(26,"vdr-card")(27,"div",8)(28,"vdr-form-field",9),e.nI1(29,"translate"),e.j41(30,"input",10),e.nI1(31,"hasPermission"),e.bIt("input",function(m){return e.eBV(i),e.Njj(a.updateCode(null==a.entity?null:a.entity.code,m.target.value))}),e.k0s()(),e.j41(32,"vdr-form-field",11),e.nI1(33,"translate"),e.nI1(34,"hasPermission"),e.nrm(35,"input",12),e.nI1(36,"hasPermission"),e.k0s(),e.nrm(37,"vdr-rich-text-editor",13),e.nI1(38,"hasPermission"),e.nI1(39,"translate"),e.k0s()(),e.DNE(40,Dn,3,5,"vdr-card",14),e.nrm(41,"vdr-custom-detail-component-host",15),e.j41(42,"vdr-card",16),e.nI1(43,"translate"),e.DNE(44,Pn,2,5,"vdr-configurable-input",17)(45,Rn,8,4,"div",7),e.k0s(),e.j41(46,"vdr-card",16),e.nI1(47,"translate"),e.DNE(48,Gn,2,5,"vdr-configurable-input",18)(49,Sn,8,4,"div",7),e.k0s()()()()}if(2&t){const i=e.sdS(12);e.R7$(3),e.Y8G("disabled",e.bMT(4,25,a.isNew$))("availableLanguageCodes",e.bMT(5,27,a.availableLanguages$))("currentLanguageCode",e.bMT(6,29,a.languageCode$)),e.R7$(6),e.Y8G("ngIf",e.bMT(10,31,a.isNew$))("ngIfElse",i),e.R7$(5),e.Y8G("formGroup",a.detailForm),e.R7$(4),e.Y8G("label",e.bMT(19,33,"common.enabled")),e.R7$(3),e.Y8G("vdrDisabled",!e.bMT(22,35,a.updatePermission)),e.R7$(2),e.Y8G("ngIf",e.bMT(24,37,a.entity$)),e.R7$(5),e.Y8G("label",e.bMT(29,39,"common.name")),e.R7$(2),e.Y8G("readonly",!e.bMT(31,41,a.updatePermission)),e.R7$(2),e.Y8G("label",e.bMT(33,43,"common.code"))("readOnlyToggle",e.bMT(34,45,a.updatePermission)),e.R7$(3),e.Y8G("readonly",!e.bMT(36,47,a.updatePermission)),e.R7$(2),e.Y8G("readonly",!e.bMT(38,49,a.updatePermission))("label",e.bMT(39,51,"common.description")),e.R7$(3),e.Y8G("ngIf",a.customFields.length),e.R7$(),e.Y8G("entity$",a.entity$)("detailForm",a.detailForm),e.R7$(),e.Y8G("title",e.bMT(43,53,"settings.payment-eligibility-checker")),e.R7$(2),e.Y8G("ngIf",a.selectedChecker&&a.selectedCheckerDefinition),e.R7$(),e.Y8G("ngIf",!a.selectedChecker||!a.selectedCheckerDefinition),e.R7$(),e.Y8G("title",e.bMT(47,55,"settings.payment-handler")),e.R7$(2),e.Y8G("ngIf",a.selectedHandler&&a.selectedHandlerDefinition),e.R7$(),e.Y8G("ngIf",!a.selectedHandler||!a.selectedHandlerDefinition)}},dependencies:[g.U4n,g.Jej,g.eAx,c.Sq,c.bT,l.qT,l.me,l.Zm,l.BC,l.cb,l.j4,l.JD,l.$R,o.nGW,o.wL$,o.TXc,o.lST,o.hfX,o.KSf,o.Vr5,o.t89,o.qQk,o.PsF,o.qLY,o.j$H,o.Mrl,o.pFL,o.TcB,o.y5i,o.W4C,o.Loz,o.eH4,o.ERS,o.c5c,o.eCv,o.iby,c.Jj,h.D9,o.Ex],changeDetection:0})}}const Re=(0,o.AfA)({location:"payment-method-list",requiresPermission:r=>r.includes(o.aXG.DeletePaymentMethod)||r.includes(o.aXG.DeleteSettings),getItemName:r=>r.name,shouldRetryItem:(r,n)=>!!r.message,bulkDelete:(r,n,t)=>r.settings.deletePaymentMethods(n,t).pipe((0,b.T)(a=>a.deletePaymentMethods))}),Ge=(p.J1`
    mutation AssignPaymentMethodsToChannel($input: AssignPaymentMethodsToChannelInput!) {
        assignPaymentMethodsToChannel(input: $input) {
            id
            name
        }
    }
`,p.J1`
    mutation RemovePaymentMethodsFromChannel($input: RemovePaymentMethodsFromChannelInput!) {
        removePaymentMethodsFromChannel(input: $input) {
            id
            name
        }
    }
`,(0,o.oUe)({location:"payment-method-list",requiresPermission:r=>r.includes(o.aXG.UpdatePaymentMethod)||r.includes(o.aXG.UpdateSettings),getItemName:r=>r.name,bulkAssignToChannel:(r,n,t)=>t.map(a=>r.mutate(o.pm$,{input:{channelId:a,paymentMethodIds:n}}).pipe((0,b.T)(i=>i.assignPaymentMethodsToChannel)))})),Me=(0,o.YSJ)({location:"payment-method-list",requiresPermission:r=>r.includes(o.aXG.DeletePaymentMethod)||r.includes(o.aXG.DeleteSettings),getItemName:r=>r.name,bulkRemoveFromChannel:(r,n,t)=>r.mutate(o.j9p,{input:{channelId:t,paymentMethodIds:n}}).pipe((0,b.T)(a=>a.removePaymentMethodsFromChannel))}),No=p.J1`
    query GetPaymentMethodList($options: PaymentMethodListOptions!) {
        paymentMethods(options: $options) {
            items {
                ...PaymentMethodListItem
            }
            totalItems
        }
    }
    fragment PaymentMethodListItem on PaymentMethod {
        id
        createdAt
        updatedAt
        name
        description
        code
        enabled
    }
`;class q extends o.B8I{constructor(){super(),this.dataTableListId="payment-method-list",this.customFields=this.getCustomFieldConfig("PaymentMethod"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:(0,d.x)("common.name"),filterField:"name"}).addFilter({name:"code",type:{kind:"text"},label:(0,d.x)("common.code"),filterField:"code"}).addFilter({name:"enabled",type:{kind:"boolean"},label:(0,d.x)("common.enabled"),filterField:"enabled"}).addFilter({name:"description",type:{kind:"text"},label:(0,d.x)("common.description"),filterField:"description"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"id"}).addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addSort({name:"code"}).addSort({name:"description"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:o.v_Y,getItems:n=>n.paymentMethods,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static{this.\u0275fac=function(t){return new(t||q)}}static{this.\u0275cmp=e.VBU({type:q,selectors:[["vdr-payment-method-list"]],features:[e.Vt3],decls:37,vars:56,consts:[[3,"languageCodeChange","availableLanguageCodes","currentLanguageCode"],["locationId","payment-method-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","payment-method-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault","sort"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","code",3,"heading","sort"],["id","enabled",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["colorType","success",4,"ngIf"],["colorType","warning",4,"ngIf"],["colorType","success"],["colorType","warning"],[3,"customField","sorts"]],template:function(t,a){1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),e.nI1(4,"async"),e.nI1(5,"async"),e.bIt("languageCodeChange",function(s){return a.setLanguage(s)}),e.k0s()(),e.j41(6,"vdr-ab-right"),e.nrm(7,"vdr-action-bar-items",1),e.DNE(8,Nn,4,5,"a",2),e.nrm(9,"vdr-action-bar-dropdown-menu",1),e.k0s()()(),e.j41(10,"vdr-data-table-2",3),e.nI1(11,"async"),e.nI1(12,"async"),e.nI1(13,"async"),e.nI1(14,"async"),e.bIt("pageChange",function(s){return a.setPageNumber(s)})("itemsPerPageChange",function(s){return a.setItemsPerPage(s)})("visibleColumnsChange",function(s){return a.setVisibleColumns(s)}),e.nrm(15,"vdr-bulk-action-menu",4)(16,"vdr-dt2-search",5),e.nI1(17,"translate"),e.j41(18,"vdr-dt2-column",6),e.nI1(19,"translate"),e.DNE(20,En,1,1,"ng-template"),e.k0s(),e.j41(21,"vdr-dt2-column",7),e.nI1(22,"translate"),e.DNE(23,An,2,4,"ng-template"),e.k0s(),e.j41(24,"vdr-dt2-column",8),e.nI1(25,"translate"),e.DNE(26,jn,2,4,"ng-template"),e.k0s(),e.j41(27,"vdr-dt2-column",9),e.nI1(28,"translate"),e.DNE(29,xn,4,4,"ng-template"),e.k0s(),e.j41(30,"vdr-dt2-column",10),e.nI1(31,"translate"),e.DNE(32,Yn,1,1,"ng-template"),e.k0s(),e.j41(33,"vdr-dt2-column",11),e.nI1(34,"translate"),e.DNE(35,On,2,2,"ng-template"),e.k0s(),e.DNE(36,Vn,1,2,"vdr-dt2-custom-field-column",12),e.k0s()),2&t&&(e.R7$(3),e.Y8G("availableLanguageCodes",e.bMT(4,29,a.availableLanguages$))("currentLanguageCode",e.bMT(5,31,a.contentLanguage$)),e.R7$(5),e.Y8G("vdrIfPermissions",e.lJ4(55,Ln)),e.R7$(2),e.Y8G("id",a.dataTableListId)("items",e.bMT(11,33,a.items$))("itemsPerPage",e.bMT(12,35,a.itemsPerPage$))("totalItems",e.bMT(13,37,a.totalItems$))("currentPage",e.bMT(14,39,a.currentPage$))("filters",a.filters),e.R7$(5),e.Y8G("hostComponent",a)("selectionManager",a.selectionManager),e.R7$(),e.Y8G("searchTermControl",a.searchTermControl)("searchTermPlaceholder",e.bMT(17,41,"catalog.filter-by-name")),e.R7$(2),e.Y8G("heading",e.bMT(19,43,"common.id"))("hiddenByDefault",!0)("sort",a.sorts.get("id")),e.R7$(3),e.Y8G("heading",e.bMT(22,45,"common.created-at"))("hiddenByDefault",!0)("sort",a.sorts.get("createdAt")),e.R7$(3),e.Y8G("heading",e.bMT(25,47,"common.updated-at"))("hiddenByDefault",!0)("sort",a.sorts.get("updatedAt")),e.R7$(3),e.Y8G("heading",e.bMT(28,49,"common.name"))("optional",!1)("sort",a.sorts.get("name")),e.R7$(3),e.Y8G("heading",e.bMT(31,51,"common.code"))("sort",a.sorts.get("code")),e.R7$(3),e.Y8G("heading",e.bMT(34,53,"common.enabled")),e.R7$(3),e.Y8G("ngForOf",a.customFields))},dependencies:[g.U4n,c.Sq,c.bT,C.Wk,o.nGW,o.wL$,o.TXc,o.lST,o.wux,o.t89,o.pFL,o.TcB,o.T0b,o.IMU,o.Y9G,o.E8Q,o.TnO,o.eH4,c.Jj,h.D9,o.PU$],changeDetection:0})}}const Eo=p.J1`
    query GetProfileDetail {
        activeAdministrator {
            ...ProfileDetail
        }
    }
    fragment ProfileDetail on Administrator {
        id
        createdAt
        updatedAt
        firstName
        lastName
        emailAddress
        user {
            id
            lastLogin
            verified
        }
    }
`;class Z extends o.wi7{constructor(n,t,a,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=a,this.notificationService=i,this.customFields=this.getCustomFieldConfig("Administrator"),this.detailForm=this.formBuilder.group({emailAddress:["",l.k0.required],firstName:["",l.k0.required],lastName:["",l.k0.required],password:[""],customFields:this.formBuilder.group((0,o.HCD)(this.customFields))})}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}save(){this.entity$.pipe((0,y.s)(1),(0,_.Z)(({id:n})=>{const t=this.detailForm.value,a={emailAddress:t.emailAddress,firstName:t.firstName,lastName:t.lastName,password:t.password,customFields:t.customFields};return this.dataService.administrator.updateActiveAdministrator(a)})).subscribe(n=>{this.notificationService.success((0,d.x)("common.notify-update-success"),{entity:"Administrator"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},n=>{this.notificationService.error((0,d.x)("common.notify-update-error"),{entity:"Administrator"})})}setFormValues(n,t){this.detailForm.patchValue({emailAddress:n.emailAddress,firstName:n.firstName,lastName:n.lastName}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),n)}static{this.\u0275fac=function(t){return new(t||Z)(e.rXU(e.gRc),e.rXU(o.uSP),e.rXU(l.ok),e.rXU(o.JEu))}}static{this.\u0275cmp=e.VBU({type:Z,selectors:[["vdr-profile"]],features:[e.Vt3],decls:32,vars:27,consts:[["locationId","profile"],[1,"btn","btn-primary",3,"click","disabled"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","emailAddress",3,"label"],["id","emailAddress","type","text","formControlName","emailAddress"],["for","firstName",3,"label"],["id","firstName","type","text","formControlName","firstName"],["for","lastName",3,"label"],["id","lastName","type","text","formControlName","lastName"],["for","password",3,"label",4,"ngIf"],["for","password",3,"label","readOnlyToggle"],["id","password","type","password","formControlName","password"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","administrator-profile",3,"entity$","detailForm"],[3,"entity"],["for","password",3,"label"],["formGroupName","customFields",3,"title"],["entityName","Administrator",3,"customFields","customFieldsFormGroup"]],template:function(t,a){1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",0),e.j41(5,"button",1),e.bIt("click",function(){return a.save()}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()(),e.j41(8,"form",2)(9,"vdr-page-detail-layout")(10,"vdr-page-detail-sidebar"),e.DNE(11,Un,2,1,"vdr-card",3),e.nI1(12,"async"),e.k0s(),e.j41(13,"vdr-page-block")(14,"vdr-card")(15,"div",4)(16,"vdr-form-field",5),e.nI1(17,"translate"),e.nrm(18,"input",6),e.k0s(),e.j41(19,"vdr-form-field",7),e.nI1(20,"translate"),e.nrm(21,"input",8),e.k0s(),e.j41(22,"vdr-form-field",9),e.nI1(23,"translate"),e.nrm(24,"input",10),e.k0s(),e.DNE(25,Xn,3,3,"vdr-form-field",11),e.nI1(26,"async"),e.j41(27,"vdr-form-field",12),e.nI1(28,"translate"),e.nrm(29,"input",13),e.k0s()()(),e.DNE(30,qn,3,5,"vdr-card",14),e.nrm(31,"vdr-custom-detail-component-host",15),e.k0s()()()),2&t&&(e.R7$(5),e.Y8G("disabled",a.detailForm.invalid||a.detailForm.pristine),e.R7$(),e.SpI(" ",e.bMT(7,13,"common.update")," "),e.R7$(2),e.Y8G("formGroup",a.detailForm),e.R7$(3),e.Y8G("ngIf",e.bMT(12,15,a.entity$)),e.R7$(5),e.Y8G("label",e.bMT(17,17,"settings.email-address")),e.R7$(3),e.Y8G("label",e.bMT(20,19,"settings.first-name")),e.R7$(3),e.Y8G("label",e.bMT(23,21,"settings.last-name")),e.R7$(3),e.Y8G("ngIf",e.bMT(26,23,a.isNew$)),e.R7$(2),e.Y8G("label",e.bMT(28,25,"settings.password"))("readOnlyToggle",!0),e.R7$(3),e.Y8G("ngIf",a.customFields.length),e.R7$(),e.Y8G("entity$",a.entity$)("detailForm",a.detailForm))},dependencies:[c.bT,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,l.$R,o.nGW,o.wL$,o.TXc,o.KSf,o.Vr5,o.TcB,o.W4C,o.Loz,o.eH4,o.ERS,o.c5c,o.eCv,o.iby,c.Jj,h.D9],changeDetection:0})}}const Ao=p.J1`
    query GetRoleDetail($id: ID!) {
        role(id: $id) {
            ...Role
        }
    }
    ${o.qXv}
`;class J extends o.wi7{constructor(n,t,a,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=a,this.notificationService=i,this.detailForm=this.formBuilder.group({code:["",l.k0.required],description:["",l.k0.required],channelIds:[[]],permissions:[[]]}),this.permissionDefinitions=this.serverConfigService.getPermissionDefinitions()}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}updateCode(n){const t=this.detailForm.get(["code"]);t&&t.pristine&&t.setValue((0,be.J)(n,"-"))}setPermission(n){const t=this.detailForm.get("permissions");if(t){const a=t.value,i=!0===n.value?(0,rt.A)([...a,n.permission]):a.filter(s=>s!==n.permission);t.setValue(i),t.markAsDirty()}}create(){const{code:n,description:t,permissions:a,channelIds:i}=this.detailForm.value;if(!n||!t)return;const s={code:n,description:t,permissions:a??[],channelIds:i};this.dataService.administrator.createRole(s).subscribe(m=>{this.notificationService.success((0,d.x)("common.notify-create-success"),{entity:"Role"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",m.createRole.id],{relativeTo:this.route})},m=>{this.notificationService.error((0,d.x)("common.notify-create-error"),{entity:"Role"})})}save(){this.entity$.pipe((0,y.s)(1),(0,_.Z)(({id:n})=>{const a={id:n,...this.detailForm.value};return this.dataService.administrator.updateRole(a)})).subscribe(n=>{this.notificationService.success((0,d.x)("common.notify-update-success"),{entity:"Role"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},n=>{this.notificationService.error((0,d.x)("common.notify-update-error"),{entity:"Role"})})}setFormValues(n,t){this.detailForm.patchValue({description:n.description,code:n.code,channelIds:n.channels.map(a=>a.id),permissions:n.permissions}),this.changeDetector.detectChanges()}static{this.\u0275fac=function(t){return new(t||J)(e.rXU(e.gRc),e.rXU(o.uSP),e.rXU(l.ok),e.rXU(o.JEu))}}static{this.\u0275cmp=e.VBU({type:J,selectors:[["vdr-role-detail"]],features:[e.Vt3],decls:36,vars:37,consts:[["updateButton",""],["locationId","role-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","description",3,"label"],["id","description","type","text","formControlName","description",3,"input","readonly"],["for","code",3,"label","readOnlyToggle"],["id","code","type","text","formControlName","code",3,"readonly"],[1,"mt-2"],[3,"title"],[3,"label"],["formControlName","channelIds",3,"vdrDisabled"],[1,"mt-2",3,"permissionChange","permissionDefinitions","activePermissions","readonly"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"]],template:function(t,a){if(1&t){const i=e.RV6();e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",1),e.DNE(5,Zn,3,4,"button",2),e.nI1(6,"async"),e.DNE(7,Hn,1,1,"ng-template",null,0,e.C5r),e.nrm(9,"vdr-action-bar-dropdown-menu",1),e.k0s()()(),e.j41(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar"),e.DNE(13,zn,2,1,"vdr-card",4),e.nI1(14,"async"),e.k0s(),e.j41(15,"vdr-page-block")(16,"vdr-card")(17,"div",5)(18,"vdr-form-field",6),e.nI1(19,"translate"),e.j41(20,"input",7),e.nI1(21,"hasPermission"),e.bIt("input",function(m){return e.eBV(i),e.Njj(a.updateCode(m.target.value))}),e.k0s()(),e.j41(22,"vdr-form-field",8),e.nI1(23,"translate"),e.nI1(24,"hasPermission"),e.nrm(25,"input",9),e.nI1(26,"hasPermission"),e.k0s()()()()(),e.j41(27,"vdr-page-block",10)(28,"vdr-card",11),e.nI1(29,"translate"),e.j41(30,"vdr-form-field",12),e.nI1(31,"translate"),e.nrm(32,"vdr-channel-assignment-control",13),e.nI1(33,"hasPermission"),e.k0s(),e.j41(34,"vdr-permission-grid",14),e.nI1(35,"hasPermission"),e.bIt("permissionChange",function(m){return e.eBV(i),e.Njj(a.setPermission(m))}),e.k0s()()()()}if(2&t){let i;const s=e.sdS(8);e.R7$(5),e.Y8G("ngIf",e.bMT(6,15,a.isNew$))("ngIfElse",s),e.R7$(5),e.Y8G("formGroup",a.detailForm),e.R7$(3),e.Y8G("ngIf",e.bMT(14,17,a.entity$)),e.R7$(5),e.Y8G("label",e.bMT(19,19,"common.description")),e.R7$(2),e.Y8G("readonly",!e.bMT(21,21,"UpdateAdministrator")),e.R7$(2),e.Y8G("label",e.bMT(23,23,"common.code"))("readOnlyToggle",e.bMT(24,25,"UpdateAdministrator")),e.R7$(3),e.Y8G("readonly",!e.bMT(26,27,"UpdateAdministrator")),e.R7$(3),e.Y8G("title",e.bMT(29,29,"settings.permissions")),e.R7$(2),e.Y8G("label",e.bMT(31,31,"settings.channel")),e.R7$(2),e.Y8G("vdrDisabled",!e.bMT(33,33,"UpdateAdministrator")),e.R7$(2),e.Y8G("permissionDefinitions",a.permissionDefinitions)("activePermissions",null==(i=a.detailForm.get("permissions"))?null:i.value)("readonly",!e.bMT(35,35,"UpdateAdministrator"))}},dependencies:[c.bT,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,o.nGW,o.wL$,o.TXc,o.lST,o.KSf,o.Vr5,o.pFL,o.TcB,o.y5i,o.$xd,o.eH4,o.ERS,o.c5c,o.eCv,o.iby,R,c.Jj,h.D9,o.Ex],changeDetection:0})}}const Se=(0,o.AfA)({location:"role-list",requiresPermission:r=>r.includes(o.aXG.DeleteAdministrator),getItemName:r=>r.description,bulkDelete:(r,n)=>r.administrator.deleteRoles(n).pipe((0,b.T)(t=>t.deleteRoles))}),jo=p.J1`
    query GetRoleList($options: RoleListOptions) {
        roles(options: $options) {
            items {
                ...Role
            }
            totalItems
        }
    }
    ${o.qXv}
`;class H extends o.B8I{constructor(){super(),this.dataTableListId="role-list",this.initialLimit=3,this.displayLimit={},this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"code",type:{kind:"text"},label:(0,d.x)("common.code"),filterField:"code"}).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"code"}).addSort({name:"description"}).connectToRoute(this.route),super.configure({document:o.C9D,getItems:n=>n.roles,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{code:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}toggleDisplayLimit(n){this.displayLimit[n.id]===n.permissions.length?this.displayLimit[n.id]=this.initialLimit:this.displayLimit[n.id]=n.permissions.length}isDefaultRole(n){return n.code===k.vG||n.code===k.yN}static{this.\u0275fac=function(t){return new(t||H)}}static{this.\u0275cmp=e.VBU({type:H,selectors:[["vdr-role-list"]],features:[e.Vt3],decls:36,vars:51,consts:[["defaultRole",""],["collapse",""],["locationId","role-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","role-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","description",3,"heading","optional","sort"],["id","code",3,"heading","sort"],["id","channel",3,"heading"],["id","permissions",3,"heading"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],["class","button-ghost",3,"routerLink",4,"ngIf","ngIfElse"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"channelCode"],[1,"ml-1"],[4,"ngIf","ngIfElse"],[1,"permissions-list"],["class","button-small",3,"click",4,"ngIf"],[1,"button-small",3,"click"],["shape","minus"],[1,"default-role-label"]],template:function(t,a){1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",2),e.DNE(5,Wn,4,5,"a",3),e.nrm(6,"vdr-action-bar-dropdown-menu",2),e.k0s()()(),e.j41(7,"vdr-data-table-2",4),e.nI1(8,"async"),e.nI1(9,"async"),e.nI1(10,"async"),e.nI1(11,"async"),e.bIt("pageChange",function(s){return a.setPageNumber(s)})("itemsPerPageChange",function(s){return a.setItemsPerPage(s)})("visibleColumnsChange",function(s){return a.setVisibleColumns(s)}),e.nrm(12,"vdr-bulk-action-menu",5)(13,"vdr-dt2-search",6),e.nI1(14,"translate"),e.j41(15,"vdr-dt2-column",7),e.nI1(16,"translate"),e.DNE(17,Qn,1,1,"ng-template"),e.k0s(),e.j41(18,"vdr-dt2-column",8),e.nI1(19,"translate"),e.DNE(20,Kn,2,4,"ng-template"),e.k0s(),e.j41(21,"vdr-dt2-column",9),e.nI1(22,"translate"),e.DNE(23,er,2,4,"ng-template"),e.k0s(),e.j41(24,"vdr-dt2-column",10),e.nI1(25,"translate"),e.DNE(26,rr,3,2,"ng-template"),e.k0s(),e.j41(27,"vdr-dt2-column",11),e.nI1(28,"translate"),e.DNE(29,or,1,1,"ng-template"),e.k0s(),e.j41(30,"vdr-dt2-column",12),e.nI1(31,"translate"),e.DNE(32,lr,1,1,"ng-template"),e.k0s(),e.j41(33,"vdr-dt2-column",13),e.nI1(34,"translate"),e.DNE(35,hr,3,2,"ng-template"),e.k0s()()),2&t&&(e.R7$(5),e.Y8G("vdrIfPermissions",e.lJ4(50,ke)),e.R7$(2),e.Y8G("id",a.dataTableListId)("items",e.bMT(8,26,a.items$))("itemsPerPage",e.bMT(9,28,a.itemsPerPage$))("totalItems",e.bMT(10,30,a.totalItems$))("currentPage",e.bMT(11,32,a.currentPage$))("filters",a.filters),e.R7$(5),e.Y8G("hostComponent",a)("selectionManager",a.selectionManager),e.R7$(),e.Y8G("searchTermControl",a.searchTermControl)("searchTermPlaceholder",e.bMT(14,34,"catalog.filter-by-name")),e.R7$(2),e.Y8G("heading",e.bMT(16,36,"common.id"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("heading",e.bMT(19,38,"common.created-at"))("hiddenByDefault",!0)("sort",a.sorts.get("createdAt")),e.R7$(3),e.Y8G("heading",e.bMT(22,40,"common.updated-at"))("hiddenByDefault",!0)("sort",a.sorts.get("updatedAt")),e.R7$(3),e.Y8G("heading",e.bMT(25,42,"common.description"))("optional",!1)("sort",a.sorts.get("description")),e.R7$(3),e.Y8G("heading",e.bMT(28,44,"common.code"))("sort",a.sorts.get("code")),e.R7$(3),e.Y8G("heading",e.bMT(31,46,"settings.channel")),e.R7$(3),e.Y8G("heading",e.bMT(34,48,"settings.permissions")))},dependencies:[g.U4n,c.Sq,c.bT,C.Wk,o.nGW,o.wL$,o.TXc,o.lST,o.wux,o.pFL,o.TcB,o.a1n,o.T0b,o.IMU,o.Y9G,o.E8Q,o.eH4,c.Jj,c.P9,h.D9,o.i3f,o.PU$],styles:[".default-role-label[_ngcontent-%COMP%]{color:var(--color-grey-400)}.permissions-list[_ngcontent-%COMP%]{max-width:500px;display:flex;flex-wrap:wrap;align-items:center;gap:4px}"],changeDetection:0})}}const xo=p.J1`
    query GetSellerDetail($id: ID!) {
        seller(id: $id) {
            ...SellerDetail
        }
    }
    fragment SellerDetail on Seller {
        id
        createdAt
        updatedAt
        name
    }
`;class z extends o.wi7{constructor(n,t,a,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=a,this.notificationService=i,this.customFields=this.getCustomFieldConfig("Seller"),this.detailForm=this.formBuilder.group({name:["",l.k0.required],customFields:this.formBuilder.group((0,o.HCD)(this.customFields))}),this.updatePermission=[o.aXG.SuperAdmin,o.aXG.UpdateSeller,o.aXG.CreateSeller]}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;const n=this.detailForm.value;if(!n.name)return;const t={name:n.name,customFields:n.customFields};this.dataService.settings.createSeller(t).subscribe(a=>{if("Seller"===a.createSeller.__typename)this.notificationService.success((0,d.x)("common.notify-create-success"),{entity:"Seller"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",a.createSeller.id],{relativeTo:this.route})})}save(){if(!this.detailForm.dirty)return;const n=this.detailForm.value;this.entity$.pipe((0,y.s)(1),(0,_.Z)(t=>{const a={id:t.id,name:n.name,customFields:n.customFields};return this.dataService.settings.updateSeller(a)})).subscribe(({updateSeller:t})=>{if("Seller"===t.__typename)this.notificationService.success((0,d.x)("common.notify-update-success"),{entity:"Seller"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()})}setFormValues(n,t){this.detailForm.patchValue({name:n.name}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),n)}static{this.\u0275fac=function(t){return new(t||z)(e.rXU(e.gRc),e.rXU(o.uSP),e.rXU(l.ok),e.rXU(o.JEu))}}static{this.\u0275cmp=e.VBU({type:z,selectors:[["vdr-seller-detail"]],features:[e.Vt3],decls:24,vars:17,consts:[["updateButton",""],["locationId","seller-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","seller-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","Seller",3,"customFields","customFieldsFormGroup"]],template:function(t,a){if(1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",1),e.DNE(5,br,3,4,"button",2),e.nI1(6,"async"),e.DNE(7,_r,1,2,"ng-template",null,0,e.C5r),e.nrm(9,"vdr-action-bar-dropdown-menu",1),e.k0s()()(),e.j41(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar"),e.DNE(13,Cr,2,1,"vdr-card",4),e.nI1(14,"async"),e.k0s(),e.j41(15,"vdr-page-block")(16,"vdr-card")(17,"div",5)(18,"vdr-form-field",6),e.nI1(19,"translate"),e.nrm(20,"input",7),e.nI1(21,"hasPermission"),e.k0s()()(),e.DNE(22,yr,3,5,"vdr-card",8),e.nrm(23,"vdr-custom-detail-component-host",9),e.k0s()()()),2&t){const i=e.sdS(8);e.R7$(5),e.Y8G("ngIf",e.bMT(6,9,a.isNew$))("ngIfElse",i),e.R7$(5),e.Y8G("formGroup",a.detailForm),e.R7$(3),e.Y8G("ngIf",e.bMT(14,11,a.entity$)),e.R7$(5),e.Y8G("label",e.bMT(19,13,"common.name")),e.R7$(2),e.Y8G("readonly",!e.bMT(21,15,a.updatePermission)),e.R7$(2),e.Y8G("ngIf",a.customFields.length),e.R7$(),e.Y8G("entity$",a.entity$)("detailForm",a.detailForm)}},dependencies:[c.bT,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,l.$R,o.nGW,o.wL$,o.TXc,o.lST,o.KSf,o.Vr5,o.pFL,o.TcB,o.W4C,o.Loz,o.eH4,o.ERS,o.c5c,o.eCv,o.iby,c.Jj,h.D9,o.Ex],styles:["clr-alert[_ngcontent-%COMP%]{max-width:30rem;margin-bottom:12px}"],changeDetection:0})}}const Le=(0,o.AfA)({location:"seller-list",requiresPermission:r=>r.includes(o.aXG.DeleteSeller),getItemName:r=>r.name,bulkDelete:(r,n)=>r.settings.deleteSellers(n).pipe((0,b.T)(t=>t.deleteSellers))});p.J1`
    query GetSellerList($options: SellerListOptions) {
        sellers(options: $options) {
            items {
                ...SellerListItem
            }
            totalItems
        }
    }
    fragment SellerListItem on Seller {
        id
        createdAt
        updatedAt
        name
    }
`;class W extends o.B8I{constructor(){super(),this.dataTableListId="seller-list",this.customFields=this.getCustomFieldConfig("Seller"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:(0,d.x)("common.name"),filterField:"name"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:o.nDD,getItems:n=>n.sellers,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static{this.\u0275fac=function(t){return new(t||W)}}static{this.\u0275cmp=e.VBU({type:W,selectors:[["vdr-seller-list"]],features:[e.Vt3],decls:28,vars:42,consts:[["locationId","seller-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","seller-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[3,"customField","sorts"]],template:function(t,a){1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",0),e.DNE(5,Fr,4,5,"a",1),e.nrm(6,"vdr-action-bar-dropdown-menu",0),e.k0s()()(),e.j41(7,"vdr-data-table-2",2),e.nI1(8,"async"),e.nI1(9,"async"),e.nI1(10,"async"),e.nI1(11,"async"),e.bIt("pageChange",function(s){return a.setPageNumber(s)})("itemsPerPageChange",function(s){return a.setItemsPerPage(s)})("visibleColumnsChange",function(s){return a.setVisibleColumns(s)}),e.nrm(12,"vdr-bulk-action-menu",3)(13,"vdr-dt2-search",4),e.nI1(14,"translate"),e.j41(15,"vdr-dt2-column",5),e.nI1(16,"translate"),e.DNE(17,kr,1,1,"ng-template"),e.k0s(),e.j41(18,"vdr-dt2-column",6),e.nI1(19,"translate"),e.DNE(20,Dr,2,4,"ng-template"),e.k0s(),e.j41(21,"vdr-dt2-column",7),e.nI1(22,"translate"),e.DNE(23,Pr,2,4,"ng-template"),e.k0s(),e.j41(24,"vdr-dt2-column",8),e.nI1(25,"translate"),e.DNE(26,$r,4,4,"ng-template"),e.k0s(),e.DNE(27,Rr,1,2,"vdr-dt2-custom-field-column",9),e.k0s()),2&t&&(e.R7$(5),e.Y8G("vdrIfPermissions",e.lJ4(41,Ir)),e.R7$(2),e.Y8G("id",a.dataTableListId)("items",e.bMT(8,23,a.items$))("itemsPerPage",e.bMT(9,25,a.itemsPerPage$))("totalItems",e.bMT(10,27,a.totalItems$))("currentPage",e.bMT(11,29,a.currentPage$))("filters",a.filters),e.R7$(5),e.Y8G("hostComponent",a)("selectionManager",a.selectionManager),e.R7$(),e.Y8G("searchTermControl",a.searchTermControl)("searchTermPlaceholder",e.bMT(14,31,"catalog.filter-by-name")),e.R7$(2),e.Y8G("heading",e.bMT(16,33,"common.id"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("heading",e.bMT(19,35,"common.created-at"))("hiddenByDefault",!0)("sort",a.sorts.get("createdAt")),e.R7$(3),e.Y8G("heading",e.bMT(22,37,"common.updated-at"))("hiddenByDefault",!0)("sort",a.sorts.get("updatedAt")),e.R7$(3),e.Y8G("heading",e.bMT(25,39,"common.name"))("optional",!1)("sort",a.sorts.get("name")),e.R7$(3),e.Y8G("ngForOf",a.customFields))},dependencies:[g.U4n,c.Sq,C.Wk,o.nGW,o.wL$,o.TXc,o.lST,o.pFL,o.TcB,o.T0b,o.IMU,o.Y9G,o.E8Q,o.TnO,o.eH4,c.Jj,h.D9,o.PU$],changeDetection:0})}}class Q{constructor(){this.okToRun=!1,this.testDataUpdated=!1,this.runTest=new e.bkB}static{this.\u0275fac=function(t){return new(t||Q)}}static{this.\u0275cmp=e.VBU({type:Q,selectors:[["vdr-shipping-eligibility-test-result"]],inputs:{testResult:"testResult",okToRun:"okToRun",testDataUpdated:"testDataUpdated",currencyCode:"currencyCode"},outputs:{runTest:"runTest"},decls:8,vars:9,consts:[[1,"test-result",3,"title"],["class","card-span",4,"ngFor","ngForOf"],["class","card-span",4,"ngIf"],[1,"card-footer"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"card-span"],[1,"result-details"],[3,"label"],[1,"price-row"],[3,"value",4,"ngIf"],[3,"value"],["shape","ban",1,"is-solid","error"]],template:function(t,a){1&t&&(e.j41(0,"vdr-card",0),e.nI1(1,"translate"),e.DNE(2,Mr,15,21,"div",1)(3,Sr,4,3,"div",2),e.j41(4,"div",3)(5,"button",4),e.bIt("click",function(){return a.runTest.emit()}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()),2&t&&(e.Y8G("title",e.bMT(1,5,"settings.test-result")),e.R7$(2),e.Y8G("ngForOf",a.testResult),e.R7$(),e.Y8G("ngIf",0===(null==a.testResult?null:a.testResult.length)),e.R7$(2),e.Y8G("disabled",!a.okToRun),e.R7$(),e.SpI(" ",e.bMT(7,7,"settings.test-shipping-methods")," "))},dependencies:[g.U4n,c.Sq,c.bT,o.BPu,o.TJf,o.iby,h.D9,o.uc0],styles:["[_nghost-%COMP%]{display:block}.result-details[_ngcontent-%COMP%]{transition:opacity .2s}.result-details.stale[_ngcontent-%COMP%]{opacity:.5}.price-row[_ngcontent-%COMP%]{display:flex}.price-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-inline-start:24px}clr-icon.error[_ngcontent-%COMP%]{color:var(--color-error-500)}"],changeDetection:0})}}class G{get subTotal(){return this.lines.reduce((n,t)=>n+t.unitPriceWithTax*t.quantity,0)}constructor(n,t){this.dataService=n,this.localStorageService=t,this.orderLinesChange=new e.bkB,this.lines=[]}ngOnInit(){this.lines=this.loadFromLocalStorage(),this.lines&&this.orderLinesChange.emit(this.lines),this.dataService.settings.getActiveChannel("cache-first").single$.subscribe(n=>{this.currencyCode=n.activeChannel.defaultCurrencyCode})}selectResult(n){n&&this.addToLines(n)}addToLines(n){this.lines.find(t=>t.id===n.productVariantId)||(this.lines.push({id:n.productVariantId,name:n.productVariantName,preview:n.productAsset?.preview??"",quantity:1,sku:n.sku,unitPriceWithTax:"SinglePrice"===n.priceWithTax.__typename&&n.priceWithTax.value||0}),this.persistToLocalStorage(),this.orderLinesChange.emit(this.lines))}updateQuantity(){this.persistToLocalStorage(),this.orderLinesChange.emit(this.lines)}removeLine(n){this.lines=this.lines.filter(t=>t.id!==n.id),this.persistToLocalStorage(),this.orderLinesChange.emit(this.lines)}persistToLocalStorage(){this.localStorageService.setForCurrentLocation("shippingTestOrder",this.lines)}loadFromLocalStorage(){return this.localStorageService.getForCurrentLocation("shippingTestOrder")||[]}static{this.\u0275fac=function(t){return new(t||G)(e.rXU(o.uSP),e.rXU(o.sji))}}static{this.\u0275cmp=e.VBU({type:G,selectors:[["vdr-test-order-builder"]],outputs:{orderLinesChange:"orderLinesChange"},decls:5,vars:2,consts:[["emptyPlaceholder",""],["class","order-table table",4,"ngIf","ngIfElse"],[1,"card-block"],[3,"productSelected"],[1,"order-table","table"],["class","order-line",4,"ngFor","ngForOf"],[1,"sub-total"],[1,"left"],[1,"order-line"],[1,"align-middle","thumb"],[3,"src"],[1,"align-middle","name"],[1,"align-middle","sku"],[1,"align-middle","unit-price"],[1,"align-middle","quantity"],["type","number","max","9999","min","1",3,"ngModelChange","change","ngModel"],[1,"icon-button",3,"click"],["shape","trash"],[1,"align-middle","total"],[1,"card-block","empty-placeholder","card-span"],[1,"empty-text"],["shape","arrow","dir","down","size","96"]],template:function(t,a){if(1&t){const i=e.RV6();e.DNE(0,Nr,31,23,"table",1)(1,Er,5,3,"ng-template",null,0,e.C5r),e.j41(3,"div",2)(4,"vdr-product-variant-selector",3),e.bIt("productSelected",function(m){return e.eBV(i),e.Njj(a.selectResult(m))}),e.k0s()()}if(2&t){const i=e.sdS(2);e.Y8G("ngIf",a.lines.length)("ngIfElse",i)}},dependencies:[g.U4n,c.Sq,c.bT,l.me,l.Q0,l.BC,l.VZ,l.zX,l.vS,at.ig,o.Vr5,o.hJF,h.D9,o.uc0],styles:[".empty-placeholder[_ngcontent-%COMP%]{color:var(--color-grey-400);text-align:center}.empty-text[_ngcontent-%COMP%]{font-size:22px}.thumb[_ngcontent-%COMP%]{max-width:50px}"],changeDetection:0})}}class M{constructor(n,t,a){this.formBuilder=n,this.dataService=t,this.localStorageService=a,this.addressChange=new e.bkB}ngOnInit(){this.availableCountries$=this.dataService.settings.getAvailableCountries().mapSingle(a=>a.countries.items);const t=this.localStorageService.getForCurrentLocation("shippingTestAddress")||{city:"",countryCode:"",postalCode:"",province:""};this.addressChange.emit(t),this.form=this.formBuilder.group(t),this.subscription=this.form.valueChanges.subscribe(a=>{this.localStorageService.setForCurrentLocation("shippingTestAddress",a),this.addressChange.emit(a)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||M)(e.rXU(l.ze),e.rXU(o.uSP),e.rXU(o.sji))}}static{this.\u0275cmp=e.VBU({type:M,selectors:[["vdr-test-address-form"]],outputs:{addressChange:"addressChange"},decls:20,vars:19,consts:[[1,"card"],[1,"card-header"],[1,"card-block"],[1,"form-grid",3,"formGroup"],[3,"label"],["formControlName","city","type","text"],["formControlName","province","type","text"],["formControlName","postalCode","type","text"],["name","countryCode","formControlName","countryCode"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,a){1&t&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",2)(5,"form",3)(6,"vdr-form-field",4),e.nI1(7,"translate"),e.nrm(8,"input",5),e.k0s(),e.j41(9,"vdr-form-field",4),e.nI1(10,"translate"),e.nrm(11,"input",6),e.k0s(),e.j41(12,"vdr-form-field",4),e.nI1(13,"translate"),e.nrm(14,"input",7),e.k0s(),e.j41(15,"vdr-form-field",4),e.nI1(16,"translate"),e.j41(17,"select",8),e.DNE(18,Ar,2,2,"option",9),e.nI1(19,"async"),e.k0s()()()()()),2&t&&(e.R7$(2),e.SpI(" ",e.bMT(3,7,"settings.test-address")," "),e.R7$(3),e.Y8G("formGroup",a.form),e.R7$(),e.Y8G("label",e.bMT(7,9,"customer.city")),e.R7$(3),e.Y8G("label",e.bMT(10,11,"customer.province")),e.R7$(3),e.Y8G("label",e.bMT(13,13,"customer.postal-code")),e.R7$(3),e.Y8G("label",e.bMT(16,15,"customer.country")),e.R7$(3),e.Y8G("ngForOf",e.bMT(19,17,a.availableCountries$)))},dependencies:[c.Sq,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.j4,l.JD,o.KSf,o.Vr5,c.Jj,h.D9],styles:["[_nghost-%COMP%]{display:block}clr-input-container[_ngcontent-%COMP%]{margin-bottom:12px}"],changeDetection:0})}}class K{constructor(){this.okToRun=!1,this.testDataUpdated=!1,this.runTest=new e.bkB}static{this.\u0275fac=function(t){return new(t||K)}}static{this.\u0275cmp=e.VBU({type:K,selectors:[["vdr-shipping-method-test-result"]],inputs:{testResult:"testResult",okToRun:"okToRun",testDataUpdated:"testDataUpdated",currencyCode:"currencyCode"},outputs:{runTest:"runTest"},decls:21,vars:24,consts:[[1,"test-result","card",3,"ngClass"],[1,"card-header"],[1,"card-block"],[1,"result-details"],[3,"label"],[1,"eligible-icon"],["shape","success-standard","class","is-solid success",4,"ngIf"],["shape","ban","class","is-solid error",4,"ngIf"],["shape","unknown-status",4,"ngIf"],[1,"price-row"],[3,"label",4,"ngIf"],[3,"value",4,"ngIf"],[1,"card-footer"],[1,"btn","btn-secondary",3,"click","disabled"],["shape","success-standard",1,"is-solid","success"],["shape","ban",1,"is-solid","error"],["shape","unknown-status"],[3,"value"]],template:function(t,a){1&t&&(e.j41(0,"div",0)(1,"div",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",2)(5,"div",3)(6,"vdr-labeled-data",4),e.nI1(7,"translate"),e.j41(8,"div",5),e.DNE(9,xr,1,0,"clr-icon",6)(10,Yr,1,0,"clr-icon",7)(11,Br,1,0,"clr-icon",8),e.k0s(),e.EFF(12),e.k0s(),e.j41(13,"div",9),e.DNE(14,wr,4,7,"vdr-labeled-data",10)(15,Or,4,7,"vdr-labeled-data",10),e.k0s(),e.DNE(16,Vr,1,1,"vdr-object-tree",11),e.k0s()(),e.j41(17,"div",12)(18,"button",13),e.bIt("click",function(){return a.runTest.emit()}),e.EFF(19),e.nI1(20,"translate"),e.k0s()()()),2&t&&(e.Y8G("ngClass",e.sMw(20,jr,!0===(null==a.testResult?null:a.testResult.eligible),!1===(null==a.testResult?null:a.testResult.eligible),!a.testResult)),e.R7$(2),e.SpI(" ",e.bMT(3,14,"settings.test-result")," "),e.R7$(3),e.AVh("stale",a.testDataUpdated),e.R7$(),e.Y8G("label",e.bMT(7,16,"settings.eligible")),e.R7$(3),e.Y8G("ngIf",null==a.testResult?null:a.testResult.eligible),e.R7$(),e.Y8G("ngIf",!1===(null==a.testResult?null:a.testResult.eligible)),e.R7$(),e.Y8G("ngIf",!a.testResult),e.R7$(),e.SpI(" ",null==a.testResult?null:a.testResult.eligible," "),e.R7$(2),e.Y8G("ngIf",null!=(null==a.testResult||null==a.testResult.quote?null:a.testResult.quote.price)),e.R7$(),e.Y8G("ngIf",null!=(null==a.testResult||null==a.testResult.quote?null:a.testResult.quote.priceWithTax)),e.R7$(),e.Y8G("ngIf",null==a.testResult||null==a.testResult.quote?null:a.testResult.quote.metadata),e.R7$(2),e.Y8G("disabled",!a.okToRun),e.R7$(),e.SpI(" ",e.bMT(20,18,"settings.test-shipping-method")," "))},dependencies:[g.U4n,c.YU,c.bT,o.BPu,o.TJf,h.D9,o.uc0],styles:["[_nghost-%COMP%]{display:block}.test-result.success[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{background-color:var(--color-success-100)}.test-result.error[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{background-color:var(--color-error-100)}.test-result.unknown[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{background-color:var(--color-component-bg-100)}.result-details[_ngcontent-%COMP%]{transition:opacity .2s}.result-details.stale[_ngcontent-%COMP%]{opacity:.5}.eligible-icon[_ngcontent-%COMP%]{display:inline-block}.eligible-icon[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:var(--color-success-500)}.eligible-icon[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--color-error-500)}.price-row[_ngcontent-%COMP%]{display:flex}.price-row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(:first-child){margin-inline-start:24px}"],changeDetection:0})}}const Yo=p.J1`
    query GetShippingMethodDetail($id: ID!) {
        shippingMethod(id: $id) {
            ...ShippingMethod
        }
    }
    ${o._9Q}
`;class ee extends o.wi7{constructor(n,t,a,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=a,this.notificationService=i,this.customFields=this.getCustomFieldConfig("ShippingMethod"),this.detailForm=this.formBuilder.group({code:["",l.k0.required],name:["",l.k0.required],description:"",fulfillmentHandler:["",l.k0.required],checker:{},calculator:{},customFields:this.formBuilder.group((0,o.HCD)(this.customFields))}),this.checkers=[],this.calculators=[],this.fulfillmentHandlers=[],this.testDataUpdated=!1,this.updatePermission=[o.aXG.UpdateSettings,o.aXG.UpdateShippingMethod],this.fetchTestResult$=new N.B}ngOnInit(){this.init(),this.dataService.shippingMethod.getShippingMethodOperations().single$.subscribe(n=>{this.checkers=n.shippingEligibilityCheckers,this.calculators=n.shippingCalculators,this.fulfillmentHandlers=n.fulfillmentHandlers,this.changeDetector.markForCheck(),this.selectedCheckerDefinition=n.shippingEligibilityCheckers.find(t=>t.code===this.entity?.checker?.code),this.selectedCalculatorDefinition=n.shippingCalculators.find(t=>t.code===this.entity?.calculator?.code)}),this.activeChannel$=this.dataService.settings.getActiveChannel().mapStream(n=>n.activeChannel),this.testResult$=this.fetchTestResult$.pipe((0,L.n)(([n,t])=>{const{checker:a,calculator:i}=this.detailForm.value;if(!(this.selectedChecker&&this.selectedCalculator&&a&&i))return(0,pe.of)(void 0);const s={shippingAddress:{...n,streetLine1:"test"},lines:t.map(m=>({productVariantId:m.id,quantity:m.quantity})),checker:(0,o.GfA)(this.selectedChecker,a),calculator:(0,o.GfA)(this.selectedCalculator,i)};return this.dataService.shippingMethod.testShippingMethod(s).mapSingle(m=>m.testShippingMethod)})),(0,fe.h)(this.detailForm.get(["checker"]).valueChanges,this.detailForm.get(["calculator"]).valueChanges).pipe((0,ue.Q)(this.destroy$)).subscribe(()=>this.testDataUpdated=!0)}ngOnDestroy(){this.destroy()}updateCode(n,t){if(!n){const a=this.detailForm.get(["code"]);a&&a.pristine&&a.setValue((0,be.J)(t,"-"))}}selectChecker(n){this.selectedCheckerDefinition=n,this.selectedChecker=(0,o.N9n)(n);const t=this.detailForm.get("checker");t&&(t.clearValidators(),t.updateValueAndValidity({onlySelf:!0}),t.patchValue(this.selectedChecker)),this.detailForm.markAsDirty()}selectCalculator(n){this.selectedCalculatorDefinition=n,this.selectedCalculator=(0,o.N9n)(n);const t=this.detailForm.get("calculator");t&&(t.clearValidators(),t.updateValueAndValidity({onlySelf:!0}),t.patchValue(this.selectedCalculator)),this.detailForm.markAsDirty()}create(){const n=this.selectedChecker,t=this.selectedCalculator,{checker:a,calculator:i}=this.detailForm.value;if(!(n&&t&&a&&i))return;this.detailForm.value;const m={...this.getUpdatedShippingMethod({createdAt:"",updatedAt:"",id:"",code:"",name:"",description:"",fulfillmentHandlerCode:"",checker:void 0,calculator:void 0,translations:[]},this.detailForm,this.languageCode),checker:(0,o.GfA)(n,a),calculator:(0,o.GfA)(t,i)};this.dataService.shippingMethod.createShippingMethod(m).subscribe(v=>{this.notificationService.success((0,d.x)("common.notify-create-success"),{entity:"ShippingMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",v.createShippingMethod.id],{relativeTo:this.route})},v=>{this.notificationService.error((0,d.x)("common.notify-create-error"),{entity:"ShippingMethod"})})}save(){const n=this.selectedChecker,t=this.selectedCalculator,{checker:a,calculator:i}=this.detailForm.value;!n||!t||!a||!i||(0,$.z)([this.entity$,this.languageCode$]).pipe((0,y.s)(1),(0,_.Z)(([s,m])=>{this.detailForm.value;const f={...this.getUpdatedShippingMethod(s,this.detailForm,m),checker:(0,o.GfA)(n,a),calculator:(0,o.GfA)(t,i)};return this.dataService.shippingMethod.updateShippingMethod(f)})).subscribe(s=>{this.notificationService.success((0,d.x)("common.notify-update-success"),{entity:"ShippingMethod"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},s=>{console.error(s),this.notificationService.error((0,d.x)("common.notify-update-error"),{entity:"ShippingMethod"})})}setTestOrderLines(n){this.testOrderLines=n,this.testDataUpdated=!0}setTestAddress(n){this.testAddress=n,this.testDataUpdated=!0}allTestDataPresent(){return!!(this.testAddress&&this.testOrderLines&&this.testOrderLines.length&&this.selectedChecker&&this.selectedCalculator)}runTest(){this.fetchTestResult$.next([this.testAddress,this.testOrderLines]),this.testDataUpdated=!1}getUpdatedShippingMethod(n,t,a){const i=t.value;return{...(0,o.vk6)({translatable:n,updatedFields:i,customFieldConfig:this.customFields,languageCode:a,defaultTranslation:{languageCode:a,name:n.name||"",description:n.description||""}}),fulfillmentHandler:i.fulfillmentHandler}}setFormValues(n,t){const a=(0,o.RMk)(n,t);this.detailForm.patchValue({name:a?.name??"",description:a?.description??"",code:n.code,fulfillmentHandler:n.fulfillmentHandlerCode,checker:n.checker||{},calculator:n.calculator||{}}),this.selectedChecker||(this.selectedChecker=n.checker&&{code:n.checker.code,args:n.checker.args.map(i=>({...i,value:(0,o.gfn)(i.value)}))}),this.selectedCalculator||(this.selectedCalculator=n.calculator&&{code:n.calculator?.code,args:n.calculator?.args.map(i=>({...i,value:(0,o.gfn)(i.value)}))}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get(["customFields"]),n,a)}static{this.\u0275fac=function(t){return new(t||ee)(e.rXU(e.gRc),e.rXU(o.uSP),e.rXU(l.ok),e.rXU(o.JEu))}}static{this.\u0275cmp=e.VBU({type:ee,selectors:[["vdr-shipping-method-detail"]],features:[e.Vt3],decls:56,vars:69,consts:[["updateButton",""],[3,"languageCodeChange","disabled","availableLanguageCodes","currentLanguageCode"],["locationId","shipping-method-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"input","readonly"],["for","code",3,"label","readOnlyToggle"],["id","code","type","text","formControlName","code",3,"readonly"],["formControlName","description",1,"form-grid-span",3,"readonly","label"],["for","fulfillmentHandler",3,"label"],["name","fulfillmentHandler","formControlName","fulfillmentHandler",3,"vdrDisabled"],[3,"value",4,"ngFor","ngForOf"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","shipping-method-detail",3,"entity$","detailForm"],[3,"title"],["class","card-span","formControlName","checker",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],["class","card-span",4,"ngIf"],["class","card-span","formControlName","calculator",3,"operation","operationDefinition","readonly","remove",4,"ngIf"],[1,"card-span",3,"orderLinesChange"],[1,"mt-2",3,"addressChange"],[1,"mt-2",3,"runTest","currencyCode","okToRun","testDataUpdated","testResult"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],[3,"value"],["formGroupName","customFields",3,"title"],["entityName","ShippingMethod",3,"customFields","customFieldsFormGroup"],["formControlName","checker",1,"card-span",3,"remove","operation","operationDefinition","readonly"],[1,"card-span"],["vdrDropdownTrigger","",1,"btn","btn-outline"],["shape","plus"],["vdrPosition","bottom-left"],["type","button","vdrDropdownItem","",3,"click",4,"ngFor","ngForOf"],["type","button","vdrDropdownItem","",3,"click"],["formControlName","calculator",1,"card-span",3,"remove","operation","operationDefinition","readonly"]],template:function(t,a){if(1&t){const i=e.RV6();e.j41(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",1),e.nI1(4,"async"),e.nI1(5,"async"),e.nI1(6,"async"),e.bIt("languageCodeChange",function(m){return e.eBV(i),e.Njj(a.setLanguage(m))}),e.k0s()(),e.j41(7,"vdr-ab-right"),e.nrm(8,"vdr-action-bar-items",2),e.DNE(9,Ur,3,4,"button",3),e.nI1(10,"async"),e.DNE(11,qr,1,1,"ng-template",null,0,e.C5r),e.nrm(13,"vdr-action-bar-dropdown-menu",2),e.k0s()()(),e.j41(14,"form",4)(15,"vdr-page-detail-layout")(16,"vdr-page-detail-sidebar"),e.DNE(17,Zr,2,1,"vdr-card",5),e.nI1(18,"async"),e.k0s(),e.j41(19,"vdr-page-block")(20,"vdr-card")(21,"div",6)(22,"vdr-form-field",7),e.nI1(23,"translate"),e.j41(24,"input",8),e.nI1(25,"hasPermission"),e.bIt("input",function(m){return e.eBV(i),e.Njj(a.updateCode(null==a.entity?null:a.entity.code,m.target.value))}),e.k0s()(),e.j41(26,"vdr-form-field",9),e.nI1(27,"translate"),e.nI1(28,"hasPermission"),e.nrm(29,"input",10),e.nI1(30,"hasPermission"),e.k0s(),e.nrm(31,"vdr-rich-text-editor",11),e.nI1(32,"hasPermission"),e.nI1(33,"translate"),e.j41(34,"vdr-form-field",12),e.nI1(35,"translate"),e.j41(36,"select",13),e.nI1(37,"hasPermission"),e.DNE(38,Jr,2,3,"option",14),e.k0s()()()(),e.DNE(39,Hr,3,5,"vdr-card",15),e.nrm(40,"vdr-custom-detail-component-host",16),e.j41(41,"vdr-card",17),e.nI1(42,"translate"),e.DNE(43,zr,2,5,"vdr-configurable-input",18)(44,Qr,8,4,"div",19),e.k0s(),e.j41(45,"vdr-card",17),e.nI1(46,"translate"),e.DNE(47,Kr,2,5,"vdr-configurable-input",20)(48,ta,8,4,"div",19),e.k0s(),e.j41(49,"vdr-card",17),e.nI1(50,"translate"),e.j41(51,"vdr-test-order-builder",21),e.bIt("orderLinesChange",function(m){return e.eBV(i),e.Njj(a.setTestOrderLines(m))}),e.k0s(),e.j41(52,"vdr-test-address-form",22),e.bIt("addressChange",function(m){return e.eBV(i),e.Njj(a.setTestAddress(m))}),e.k0s(),e.j41(53,"vdr-shipping-method-test-result",23),e.nI1(54,"async"),e.nI1(55,"async"),e.bIt("runTest",function(){return e.eBV(i),e.Njj(a.runTest())}),e.k0s()()()()()}if(2&t){let i;const s=e.sdS(12);e.R7$(3),e.Y8G("disabled",e.bMT(4,31,a.isNew$))("availableLanguageCodes",e.bMT(5,33,a.availableLanguages$))("currentLanguageCode",e.bMT(6,35,a.languageCode$)),e.R7$(6),e.Y8G("ngIf",e.bMT(10,37,a.isNew$))("ngIfElse",s),e.R7$(5),e.Y8G("formGroup",a.detailForm),e.R7$(3),e.Y8G("ngIf",e.bMT(18,39,a.entity$)),e.R7$(5),e.Y8G("label",e.bMT(23,41,"common.name")),e.R7$(2),e.Y8G("readonly",!e.bMT(25,43,a.updatePermission)),e.R7$(2),e.Y8G("label",e.bMT(27,45,"common.code"))("readOnlyToggle",e.bMT(28,47,a.updatePermission)),e.R7$(3),e.Y8G("readonly",!e.bMT(30,49,a.updatePermission)),e.R7$(2),e.Y8G("readonly",!e.bMT(32,51,a.updatePermission))("label",e.bMT(33,53,"common.description")),e.R7$(3),e.Y8G("label",e.bMT(35,55,"settings.fulfillment-handler")),e.R7$(2),e.Y8G("vdrDisabled",!e.bMT(37,57,a.updatePermission)),e.R7$(2),e.Y8G("ngForOf",a.fulfillmentHandlers),e.R7$(),e.Y8G("ngIf",a.customFields.length),e.R7$(),e.Y8G("entity$",a.entity$)("detailForm",a.detailForm),e.R7$(),e.Y8G("title",e.bMT(42,59,"settings.shipping-eligibility-checker")),e.R7$(2),e.Y8G("ngIf",a.selectedChecker&&a.selectedCheckerDefinition),e.R7$(),e.Y8G("ngIf",!a.selectedChecker||!a.selectedCheckerDefinition),e.R7$(),e.Y8G("title",e.bMT(46,61,"settings.shipping-calculator")),e.R7$(2),e.Y8G("ngIf",a.selectedCalculator&&a.selectedCalculatorDefinition),e.R7$(),e.Y8G("ngIf",!a.selectedCalculator||!a.selectedCalculatorDefinition),e.R7$(),e.Y8G("title",e.bMT(50,63,"settings.test-shipping-method")),e.R7$(4),e.Y8G("currencyCode",null==(i=e.bMT(54,65,a.activeChannel$))?null:i.currencyCode)("okToRun",a.allTestDataPresent()&&a.testDataUpdated&&a.detailForm.valid)("testDataUpdated",a.testDataUpdated)("testResult",e.bMT(55,67,a.testResult$))}},dependencies:[g.U4n,c.Sq,c.bT,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.j4,l.JD,l.$R,o.nGW,o.wL$,o.TXc,o.lST,o.hfX,o.KSf,o.Vr5,o.t89,o.qQk,o.PsF,o.qLY,o.j$H,o.Mrl,o.pFL,o.TcB,o.y5i,o.W4C,o.Loz,o.eH4,o.ERS,o.c5c,o.eCv,o.iby,G,M,K,c.Jj,h.D9,o.Ex],changeDetection:0})}}const Ne=(0,o.AfA)({location:"shipping-method-list",requiresPermission:r=>r.includes(o.aXG.DeleteShippingMethod),getItemName:r=>r.name,bulkDelete:(r,n)=>r.shippingMethod.deleteShippingMethods(n).pipe((0,b.T)(t=>t.deleteShippingMethods))}),Ee=(p.J1`
    mutation AssignShippingMethodsToChannel($input: AssignShippingMethodsToChannelInput!) {
        assignShippingMethodsToChannel(input: $input) {
            id
            name
        }
    }
`,p.J1`
    mutation RemoveShippingMethodsFromChannel($input: RemoveShippingMethodsFromChannelInput!) {
        removeShippingMethodsFromChannel(input: $input) {
            id
            name
        }
    }
`,(0,o.oUe)({location:"shipping-method-list",requiresPermission:r=>r.includes(o.aXG.UpdateShippingMethod)||r.includes(o.aXG.UpdateSettings),getItemName:r=>r.name,bulkAssignToChannel:(r,n,t)=>t.map(a=>r.mutate(o.vrO,{input:{channelId:a,shippingMethodIds:n}}).pipe((0,b.T)(i=>i.assignShippingMethodsToChannel)))})),Ae=(0,o.YSJ)({location:"shipping-method-list",requiresPermission:r=>r.includes(o.aXG.DeleteShippingMethod)||r.includes(o.aXG.DeleteSettings),getItemName:r=>r.name,bulkRemoveFromChannel:(r,n,t)=>r.mutate(o.ZLb,{input:{channelId:t,shippingMethodIds:n}}).pipe((0,b.T)(a=>a.removeShippingMethodsFromChannel))}),Bo=p.J1`
    query GetShippingMethodList($options: ShippingMethodListOptions) {
        shippingMethods(options: $options) {
            items {
                ...ShippingMethodListItem
            }
            totalItems
        }
    }
    fragment ShippingMethodListItem on ShippingMethod {
        id
        createdAt
        updatedAt
        code
        name
        description
        fulfillmentHandlerCode
    }
`;class te extends o.B8I{constructor(){super(),this.dataTableListId="shipping-method-list",this.customFields=this.getCustomFieldConfig("ShippingMethod"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:(0,d.x)("common.name"),filterField:"name"}).addFilter({name:"code",type:{kind:"text"},label:(0,d.x)("common.code"),filterField:"code"}).addFilter({name:"description",type:{kind:"text"},label:(0,d.x)("common.description"),filterField:"description"}).addFilter({name:"fulfillmentHandler",type:{kind:"text"},label:(0,d.x)("settings.fulfillment-handler"),filterField:"fulfillmentHandlerCode"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addSort({name:"code"}).addSort({name:"description"}).addSort({name:"fulfillmentHandlerCode"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:o.rzd,getItems:n=>n.shippingMethods,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static{this.\u0275fac=function(t){return new(t||te)}}static{this.\u0275cmp=e.VBU({type:te,selectors:[["vdr-shipping-method-list"]],features:[e.Vt3],decls:40,vars:61,consts:[[3,"languageCodeChange","availableLanguageCodes","currentLanguageCode"],["locationId","shipping-method-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","shipping-method-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","code",3,"heading","sort"],["id","description",3,"heading","sort","hiddenByDefault"],["id","fulfillment-handler",3,"heading","sort"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[3,"customField","sorts"]],template:function(t,a){1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),e.nI1(4,"async"),e.nI1(5,"async"),e.bIt("languageCodeChange",function(s){return a.setLanguage(s)}),e.k0s()(),e.j41(6,"vdr-ab-right"),e.nrm(7,"vdr-action-bar-items",1),e.DNE(8,ra,4,5,"a",2),e.nrm(9,"vdr-action-bar-dropdown-menu",1),e.k0s()()(),e.j41(10,"vdr-data-table-2",3),e.nI1(11,"async"),e.nI1(12,"async"),e.nI1(13,"async"),e.nI1(14,"async"),e.bIt("pageChange",function(s){return a.setPageNumber(s)})("itemsPerPageChange",function(s){return a.setItemsPerPage(s)})("visibleColumnsChange",function(s){return a.setVisibleColumns(s)}),e.nrm(15,"vdr-bulk-action-menu",4)(16,"vdr-dt2-search",5),e.nI1(17,"translate"),e.j41(18,"vdr-dt2-column",6),e.nI1(19,"translate"),e.DNE(20,aa,1,1,"ng-template"),e.k0s(),e.j41(21,"vdr-dt2-column",7),e.nI1(22,"translate"),e.DNE(23,oa,2,4,"ng-template"),e.k0s(),e.j41(24,"vdr-dt2-column",8),e.nI1(25,"translate"),e.DNE(26,ia,2,4,"ng-template"),e.k0s(),e.j41(27,"vdr-dt2-column",9),e.nI1(28,"translate"),e.DNE(29,sa,4,4,"ng-template"),e.k0s(),e.j41(30,"vdr-dt2-column",10),e.nI1(31,"translate"),e.DNE(32,la,1,1,"ng-template"),e.k0s(),e.j41(33,"vdr-dt2-column",11),e.nI1(34,"translate"),e.DNE(35,da,1,1,"ng-template"),e.k0s(),e.j41(36,"vdr-dt2-column",12),e.nI1(37,"translate"),e.DNE(38,ca,1,1,"ng-template"),e.k0s(),e.DNE(39,ma,1,2,"vdr-dt2-custom-field-column",13),e.k0s()),2&t&&(e.R7$(3),e.Y8G("availableLanguageCodes",e.bMT(4,32,a.availableLanguages$))("currentLanguageCode",e.bMT(5,34,a.contentLanguage$)),e.R7$(5),e.Y8G("vdrIfPermissions",e.lJ4(60,na)),e.R7$(2),e.Y8G("id",a.dataTableListId)("items",e.bMT(11,36,a.items$))("itemsPerPage",e.bMT(12,38,a.itemsPerPage$))("totalItems",e.bMT(13,40,a.totalItems$))("currentPage",e.bMT(14,42,a.currentPage$))("filters",a.filters),e.R7$(5),e.Y8G("hostComponent",a)("selectionManager",a.selectionManager),e.R7$(),e.Y8G("searchTermControl",a.searchTermControl)("searchTermPlaceholder",e.bMT(17,44,"catalog.filter-by-name")),e.R7$(2),e.Y8G("heading",e.bMT(19,46,"common.id"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("heading",e.bMT(22,48,"common.created-at"))("hiddenByDefault",!0)("sort",a.sorts.get("createdAt")),e.R7$(3),e.Y8G("heading",e.bMT(25,50,"common.updated-at"))("hiddenByDefault",!0)("sort",a.sorts.get("updatedAt")),e.R7$(3),e.Y8G("heading",e.bMT(28,52,"common.name"))("optional",!1)("sort",a.sorts.get("name")),e.R7$(3),e.Y8G("heading",e.bMT(31,54,"common.code"))("sort",a.sorts.get("code")),e.R7$(3),e.Y8G("heading",e.bMT(34,56,"common.description"))("sort",a.sorts.get("description"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("heading",e.bMT(37,58,"settings.fulfillment-handler"))("sort",a.sorts.get("fulfillmentHandlerCode")),e.R7$(3),e.Y8G("ngForOf",a.customFields))},dependencies:[g.U4n,c.Sq,C.Wk,o.nGW,o.wL$,o.TXc,o.lST,o.t89,o.pFL,o.TcB,o.T0b,o.IMU,o.Y9G,o.E8Q,o.TnO,o.eH4,c.Jj,h.D9,o.PU$],changeDetection:0})}}const _e=p.J1`
    fragment StockLocationDetail on StockLocation {
        id
        createdAt
        updatedAt
        name
        description
    }
`,wo=p.J1`
    query GetStockLocationDetail($id: ID!) {
        stockLocation(id: $id) {
            ...StockLocationDetail
        }
    }
    ${_e}
`,Oo=p.J1`
    mutation CreateStockLocation($input: CreateStockLocationInput!) {
        createStockLocation(input: $input) {
            ...StockLocationDetail
        }
    }
    ${_e}
`,Vo=p.J1`
    mutation UpdateStockLocation($input: UpdateStockLocationInput!) {
        updateStockLocation(input: $input) {
            ...StockLocationDetail
        }
    }
    ${_e}
`;class ne extends o.wi7{constructor(n,t,a,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=a,this.notificationService=i,this.customFields=this.getCustomFieldConfig("StockLocation"),this.detailForm=this.formBuilder.group({name:["",l.k0.required],description:[""],customFields:this.formBuilder.group((0,o.HCD)(this.customFields))})}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}create(){if(!this.detailForm.dirty)return;const{name:n,description:t,customFields:a}=this.detailForm.value;if(!n)return;const i={name:n,description:t,customFields:a};this.dataService.mutate(o.fUD,{input:i}).subscribe(s=>{this.notificationService.success((0,d.x)("common.notify-create-success"),{entity:"StockLocation"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",s.createStockLocation.id],{relativeTo:this.route})},s=>{this.notificationService.error((0,d.x)("common.notify-create-error"),{entity:"StockLocation"})})}save(){if(!this.detailForm.dirty)return;const n=this.detailForm.value;this.entity$.pipe((0,y.s)(1),(0,_.Z)(t=>{const a={id:t.id,name:n.name,description:n.description,customFields:n.customFields};return this.dataService.mutate(o.sns,{input:a})})).subscribe(t=>{this.notificationService.success((0,d.x)("common.notify-update-success"),{entity:"StockLocation"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},t=>{this.notificationService.error((0,d.x)("common.notify-update-error"),{entity:"StockLocation"})})}setFormValues(n){this.detailForm.patchValue({name:n.name,description:n.description}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),n)}static{this.\u0275fac=function(t){return new(t||ne)(e.rXU(e.gRc),e.rXU(o.uSP),e.rXU(l.ok),e.rXU(o.JEu))}}static{this.\u0275cmp=e.VBU({type:ne,selectors:[["vdr-stock-location-detail"]],features:[e.Vt3],decls:29,vars:28,consts:[["updateButton",""],["locationId","stock-location-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","slug",1,"form-grid-span",3,"label","errors"],["formControlName","description",3,"readonly"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","stock-location-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","StockLocation",3,"customFields","customFieldsFormGroup"]],template:function(t,a){if(1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",1),e.DNE(5,pa,3,4,"button",2),e.nI1(6,"async"),e.DNE(7,ha,1,1,"ng-template",null,0,e.C5r),e.nrm(9,"vdr-action-bar-dropdown-menu",1),e.k0s()()(),e.j41(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar"),e.DNE(13,fa,2,1,"vdr-card",4),e.nI1(14,"async"),e.k0s(),e.j41(15,"vdr-page-block")(16,"vdr-card")(17,"div",5)(18,"vdr-form-field",6),e.nI1(19,"translate"),e.nrm(20,"input",7),e.nI1(21,"hasPermission"),e.k0s(),e.j41(22,"vdr-form-field",8),e.nI1(23,"translate"),e.nI1(24,"translate"),e.nrm(25,"vdr-rich-text-editor",9),e.nI1(26,"hasPermission"),e.k0s()()(),e.DNE(27,ba,3,5,"vdr-card",10),e.nrm(28,"vdr-custom-detail-component-host",11),e.k0s()()()),2&t){const i=e.sdS(8);e.R7$(5),e.Y8G("ngIf",e.bMT(6,12,a.isNew$))("ngIfElse",i),e.R7$(5),e.Y8G("formGroup",a.detailForm),e.R7$(3),e.Y8G("ngIf",e.bMT(14,14,a.entity$)),e.R7$(5),e.Y8G("label",e.bMT(19,16,"common.name")),e.R7$(2),e.Y8G("readonly",!e.bMT(21,18,"UpdateStockLocation")),e.R7$(2),e.Y8G("label",e.bMT(23,20,"common.description"))("errors",e.eq3(26,ua,e.bMT(24,22,"catalog.slug-pattern-error"))),e.R7$(3),e.Y8G("readonly",!e.bMT(26,24,"UpdateStockLocation")),e.R7$(2),e.Y8G("ngIf",a.customFields.length),e.R7$(),e.Y8G("entity$",a.entity$)("detailForm",a.detailForm)}},dependencies:[c.bT,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,l.$R,o.nGW,o.wL$,o.TXc,o.lST,o.KSf,o.Vr5,o.qQk,o.pFL,o.TcB,o.W4C,o.Loz,o.eH4,o.ERS,o.c5c,o.eCv,o.iby,c.Jj,h.D9,o.Ex],changeDetection:0})}}p.J1`
    mutation DeleteStockLocations($input: [DeleteStockLocationInput!]!) {
        deleteStockLocations(input: $input) {
            result
            message
        }
    }
`,p.J1`
    mutation AssignStockLocationsToChannel($input: AssignStockLocationsToChannelInput!) {
        assignStockLocationsToChannel(input: $input) {
            id
            name
        }
    }
`,p.J1`
    mutation RemoveStockLocationsFromChannel($input: RemoveStockLocationsFromChannelInput!) {
        removeStockLocationsFromChannel(input: $input) {
            id
            name
        }
    }
`;const je=(0,o.AfA)({location:"stock-location-list",requiresPermission:r=>r.includes(o.aXG.DeleteStockLocation)||r.includes(o.aXG.DeleteCatalog),getItemName:r=>r.name,bulkDelete:(r,n)=>r.mutate(o.luN,{input:n.map(t=>({id:t}))}).pipe((0,b.T)(t=>t.deleteStockLocations)),shouldRetryItem:r=>r.result===o.syg.NOT_DELETED}),xe=(0,o.oUe)({location:"stock-location-list",requiresPermission:r=>r.includes(o.aXG.UpdateCatalog)||r.includes(o.aXG.UpdateStockLocation),getItemName:r=>r.name,bulkAssignToChannel:(r,n,t)=>t.map(a=>r.mutate(o.$K7,{input:{channelId:a,stockLocationIds:n}}).pipe((0,b.T)(i=>i.assignStockLocationsToChannel)))}),Ye=(0,o.YSJ)({location:"stock-location-list",requiresPermission:r=>r.includes(o.aXG.DeleteCatalog)||r.includes(o.aXG.DeleteStockLocation),getItemName:r=>r.name,bulkRemoveFromChannel:(r,n,t)=>r.mutate(o.FfT,{input:{channelId:t,stockLocationIds:n}}).pipe((0,b.T)(a=>a.removeStockLocationsFromChannel))}),Uo=p.J1`
    query GetStockLocationList($options: StockLocationListOptions) {
        stockLocations(options: $options) {
            items {
                ...StockLocationListItem
            }
            totalItems
        }
    }
    fragment StockLocationListItem on StockLocation {
        id
        createdAt
        updatedAt
        name
        description
    }
`;class re extends o.B8I{constructor(){super(),this.dataTableListId="stock-location-list",this.customFields=this.getCustomFieldConfig("StockLocation"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilters([{name:"enabled",type:{kind:"text"},label:(0,d.x)("common.enabled"),filterField:"name"},{name:"sku",type:{kind:"text"},label:(0,d.x)("catalog.sku"),filterField:"description"}]).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().addSorts([{name:"id"},{name:"createdAt"},{name:"updatedAt"},{name:"name"},{name:"description"}]).addCustomFieldSorts(this.customFields).connectToRoute(this.route),this.configure({document:o.jju,getItems:n=>n.stockLocations,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.sorts.valueChanges,this.filters.valueChanges]})}static{this.\u0275fac=function(t){return new(t||re)}}static{this.\u0275cmp=e.VBU({type:re,selectors:[["vdr-stock-location-list"]],features:[e.Vt3],decls:31,vars:47,consts:[["locationId","stock-location-list"],["class","button primary",3,"routerLink",4,"vdrIfPermissions"],[1,"mt-2",3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","stock-location-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault","sort"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","description",3,"heading","sort"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"button","primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[1,"description",3,"innerHTML"],[3,"customField","sorts"]],template:function(t,a){1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",0),e.DNE(5,_a,4,5,"a",1),e.nrm(6,"vdr-action-bar-dropdown-menu",0),e.k0s()()(),e.j41(7,"vdr-data-table-2",2),e.nI1(8,"async"),e.nI1(9,"async"),e.nI1(10,"async"),e.nI1(11,"async"),e.bIt("pageChange",function(s){return a.setPageNumber(s)})("itemsPerPageChange",function(s){return a.setItemsPerPage(s)})("visibleColumnsChange",function(s){return a.setVisibleColumns(s)}),e.nrm(12,"vdr-bulk-action-menu",3)(13,"vdr-dt2-search",4),e.nI1(14,"translate"),e.j41(15,"vdr-dt2-column",5),e.nI1(16,"translate"),e.DNE(17,Ca,1,1,"ng-template"),e.k0s(),e.j41(18,"vdr-dt2-column",6),e.nI1(19,"translate"),e.DNE(20,ya,2,4,"ng-template"),e.k0s(),e.j41(21,"vdr-dt2-column",7),e.nI1(22,"translate"),e.DNE(23,Ta,2,4,"ng-template"),e.k0s(),e.j41(24,"vdr-dt2-column",8),e.nI1(25,"translate"),e.DNE(26,Ia,4,4,"ng-template"),e.k0s(),e.j41(27,"vdr-dt2-column",9),e.nI1(28,"translate"),e.DNE(29,Fa,1,1,"ng-template"),e.k0s(),e.DNE(30,ka,1,2,"vdr-dt2-custom-field-column",10),e.k0s()),2&t&&(e.R7$(5),e.Y8G("vdrIfPermissions",e.lJ4(46,va)),e.R7$(2),e.Y8G("id",a.dataTableListId)("items",e.bMT(8,26,a.items$))("itemsPerPage",e.bMT(9,28,a.itemsPerPage$))("totalItems",e.bMT(10,30,a.totalItems$))("currentPage",e.bMT(11,32,a.currentPage$))("filters",a.filters),e.R7$(5),e.Y8G("hostComponent",a)("selectionManager",a.selectionManager),e.R7$(),e.Y8G("searchTermControl",a.searchTermControl)("searchTermPlaceholder",e.bMT(14,34,"catalog.filter-by-name")),e.R7$(2),e.Y8G("heading",e.bMT(16,36,"common.id"))("hiddenByDefault",!0)("sort",a.sorts.get("id")),e.R7$(3),e.Y8G("heading",e.bMT(19,38,"common.created-at"))("hiddenByDefault",!0)("sort",a.sorts.get("createdAt")),e.R7$(3),e.Y8G("heading",e.bMT(22,40,"common.updated-at"))("hiddenByDefault",!0)("sort",a.sorts.get("updatedAt")),e.R7$(3),e.Y8G("heading",e.bMT(25,42,"common.name"))("optional",!1)("sort",a.sorts.get("name")),e.R7$(3),e.Y8G("heading",e.bMT(28,44,"common.description"))("sort",a.sorts.get("description")),e.R7$(3),e.Y8G("ngForOf",a.customFields))},dependencies:[g.U4n,c.Sq,C.Wk,o.nGW,o.wL$,o.TXc,o.lST,o.pFL,o.TcB,o.T0b,o.IMU,o.Y9G,o.E8Q,o.TnO,o.eH4,c.Jj,h.D9,o.PU$],styles:[".description>p{margin-top:0!important}"],changeDetection:0})}}const Xo=p.J1`
    query GetTaxCategoryDetail($id: ID!) {
        taxCategory(id: $id) {
            ...TaxCategory
        }
    }
    ${o.M5i}
`;class ae extends o.wi7{constructor(n,t,a,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=a,this.notificationService=i,this.customFields=this.getCustomFieldConfig("TaxCategory"),this.detailForm=this.formBuilder.group({name:["",l.k0.required],isDefault:!1,customFields:this.formBuilder.group((0,o.HCD)(this.customFields))}),this.updatePermission=[o.aXG.UpdateSettings,o.aXG.UpdateTaxCategory]}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;const n=this.detailForm.value,t={name:n.name,isDefault:n.isDefault,customFields:n.customFields};this.dataService.settings.createTaxCategory(t).subscribe(a=>{this.notificationService.success((0,d.x)("common.notify-create-success"),{entity:"TaxCategory"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",a.createTaxCategory.id],{relativeTo:this.route})},a=>{this.notificationService.error((0,d.x)("common.notify-create-error"),{entity:"TaxCategory"})})}save(){if(!this.detailForm.dirty)return;const n=this.detailForm.value;this.entity$.pipe((0,y.s)(1),(0,_.Z)(t=>{const a={id:t.id,name:n.name,isDefault:n.isDefault,customFields:n.customFields};return this.dataService.settings.updateTaxCategory(a)})).subscribe(t=>{this.notificationService.success((0,d.x)("common.notify-update-success"),{entity:"TaxCategory"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},t=>{this.notificationService.error((0,d.x)("common.notify-update-error"),{entity:"TaxCategory"})})}setFormValues(n,t){this.detailForm.patchValue({name:n.name,isDefault:n.isDefault}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),n)}static{this.\u0275fac=function(t){return new(t||ae)(e.rXU(e.gRc),e.rXU(o.uSP),e.rXU(l.ok),e.rXU(o.JEu))}}static{this.\u0275cmp=e.VBU({type:ae,selectors:[["vdr-tax-detail"]],features:[e.Vt3],decls:29,vars:23,consts:[["updateButton",""],["locationId","tax-category-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","isDefault",3,"label"],["type","checkbox","clrToggle","","id","isDefault","formControlName","isDefault",3,"vdrDisabled"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","tax-category-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","TaxCategory",3,"customFields","customFieldsFormGroup"]],template:function(t,a){if(1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",1),e.DNE(5,Da,3,4,"button",2),e.nI1(6,"async"),e.DNE(7,$a,1,1,"ng-template",null,0,e.C5r),e.nrm(9,"vdr-action-bar-dropdown-menu",1),e.k0s()()(),e.j41(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar"),e.DNE(13,Ra,2,1,"vdr-card",4),e.nI1(14,"async"),e.k0s(),e.j41(15,"vdr-page-block")(16,"vdr-card")(17,"div",5)(18,"vdr-form-field",6),e.nI1(19,"translate"),e.nrm(20,"input",7),e.nI1(21,"hasPermission"),e.k0s(),e.j41(22,"vdr-form-field",8),e.nI1(23,"translate"),e.j41(24,"clr-toggle-wrapper"),e.nrm(25,"input",9),e.nI1(26,"hasPermission"),e.k0s()()()(),e.DNE(27,Ga,3,5,"vdr-card",10),e.nrm(28,"vdr-custom-detail-component-host",11),e.k0s()()()),2&t){const i=e.sdS(8);e.R7$(5),e.Y8G("ngIf",e.bMT(6,11,a.isNew$))("ngIfElse",i),e.R7$(5),e.Y8G("formGroup",a.detailForm),e.R7$(3),e.Y8G("ngIf",e.bMT(14,13,a.entity$)),e.R7$(5),e.Y8G("label",e.bMT(19,15,"common.name")),e.R7$(2),e.Y8G("readonly",!e.bMT(21,17,a.updatePermission)),e.R7$(2),e.Y8G("label",e.bMT(23,19,"common.default-tax-category")),e.R7$(3),e.Y8G("vdrDisabled",!e.bMT(26,21,a.updatePermission)),e.R7$(2),e.Y8G("ngIf",a.customFields.length),e.R7$(),e.Y8G("entity$",a.entity$)("detailForm",a.detailForm)}},dependencies:[g.Jej,g.eAx,c.bT,l.qT,l.me,l.Zm,l.BC,l.cb,l.j4,l.JD,l.$R,o.nGW,o.wL$,o.TXc,o.lST,o.KSf,o.Vr5,o.pFL,o.TcB,o.y5i,o.W4C,o.Loz,o.eH4,o.ERS,o.c5c,o.eCv,o.iby,c.Jj,h.D9,o.Ex],changeDetection:0})}}const Be=(0,o.AfA)({location:"tax-category-list",requiresPermission:r=>r.includes(o.aXG.DeleteSettings)||r.includes(o.aXG.DeleteTaxCategory),getItemName:r=>r.name,bulkDelete:(r,n)=>r.settings.deleteTaxCategories(n).pipe((0,b.T)(t=>t.deleteTaxCategories))}),qo=p.J1`
    query GetTaxCategoryList($options: TaxCategoryListOptions) {
        taxCategories(options: $options) {
            items {
                ...TaxCategory
            }
            totalItems
        }
    }
    ${o.M5i}
`;class oe extends o.B8I{constructor(){super(),this.dataTableListId="tax-category-list",this.customFields=this.serverConfigService.getCustomFieldsFor("TaxCategory"),this.filters=this.createFilterCollection().addIdFilter().addFilter({name:"name",type:{kind:"text"},label:(0,d.x)("common.name"),filterField:"name"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:o.FY9,getItems:n=>n.taxCategories,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static{this.\u0275fac=function(t){return new(t||oe)}}static{this.\u0275cmp=e.VBU({type:oe,selectors:[["vdr-tax-list"]],features:[e.Vt3],decls:31,vars:45,consts:[["locationId","tax-category-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","tax-category-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","default-tax-category",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],[4,"ngIf"],[3,"customField","sorts"]],template:function(t,a){1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",0),e.DNE(5,Sa,4,5,"a",1),e.nrm(6,"vdr-action-bar-dropdown-menu",0),e.k0s()()(),e.j41(7,"vdr-data-table-2",2),e.nI1(8,"async"),e.nI1(9,"async"),e.nI1(10,"async"),e.nI1(11,"async"),e.bIt("pageChange",function(s){return a.setPageNumber(s)})("itemsPerPageChange",function(s){return a.setItemsPerPage(s)})("visibleColumnsChange",function(s){return a.setVisibleColumns(s)}),e.nrm(12,"vdr-bulk-action-menu",3)(13,"vdr-dt2-search",4),e.nI1(14,"translate"),e.j41(15,"vdr-dt2-column",5),e.nI1(16,"translate"),e.DNE(17,La,1,1,"ng-template"),e.k0s(),e.j41(18,"vdr-dt2-column",6),e.nI1(19,"translate"),e.DNE(20,Na,2,4,"ng-template"),e.k0s(),e.j41(21,"vdr-dt2-column",7),e.nI1(22,"translate"),e.DNE(23,Ea,2,4,"ng-template"),e.k0s(),e.j41(24,"vdr-dt2-column",8),e.nI1(25,"translate"),e.DNE(26,Aa,4,4,"ng-template"),e.k0s(),e.j41(27,"vdr-dt2-column",9),e.nI1(28,"translate"),e.DNE(29,xa,1,1,"ng-template"),e.k0s(),e.DNE(30,Ya,1,2,"vdr-dt2-custom-field-column",10),e.k0s()),2&t&&(e.R7$(5),e.Y8G("vdrIfPermissions",e.lJ4(44,Ma)),e.R7$(2),e.Y8G("id",a.dataTableListId)("items",e.bMT(8,24,a.items$))("itemsPerPage",e.bMT(9,26,a.itemsPerPage$))("totalItems",e.bMT(10,28,a.totalItems$))("currentPage",e.bMT(11,30,a.currentPage$))("filters",a.filters),e.R7$(5),e.Y8G("hostComponent",a)("selectionManager",a.selectionManager),e.R7$(),e.Y8G("searchTermControl",a.searchTermControl)("searchTermPlaceholder",e.bMT(14,32,"catalog.filter-by-name")),e.R7$(2),e.Y8G("heading",e.bMT(16,34,"common.id"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("heading",e.bMT(19,36,"common.created-at"))("hiddenByDefault",!0)("sort",a.sorts.get("createdAt")),e.R7$(3),e.Y8G("heading",e.bMT(22,38,"common.updated-at"))("hiddenByDefault",!0)("sort",a.sorts.get("updatedAt")),e.R7$(3),e.Y8G("heading",e.bMT(25,40,"common.name"))("optional",!1)("sort",a.sorts.get("name")),e.R7$(3),e.Y8G("heading",e.bMT(28,42,"common.default-tax-category")),e.R7$(3),e.Y8G("ngForOf",a.customFields))},dependencies:[g.U4n,c.Sq,c.bT,C.Wk,o.nGW,o.wL$,o.TXc,o.lST,o.wux,o.pFL,o.TcB,o.T0b,o.IMU,o.Y9G,o.E8Q,o.TnO,o.eH4,c.Jj,h.D9,o.PU$],changeDetection:0})}}const Zo=p.J1`
    query GetTaxRateDetail($id: ID!) {
        taxRate(id: $id) {
            ...TaxRate
        }
    }
    ${o.QaU}
`;class ie extends o.wi7{constructor(n,t,a,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=a,this.notificationService=i,this.customFields=this.getCustomFieldConfig("TaxRate"),this.detailForm=this.formBuilder.group({name:["",l.k0.required],enabled:[!0],value:[0,l.k0.required],taxCategoryId:["",l.k0.required],zoneId:["",l.k0.required],customerGroupId:[""],customFields:this.formBuilder.group((0,o.HCD)(this.customFields))}),this.updatePermission=[o.aXG.UpdateSettings,o.aXG.UpdateTaxRate]}ngOnInit(){this.init(),this.taxCategories$=this.dataService.settings.getTaxCategories({take:100}).mapSingle(n=>n.taxCategories.items)}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;const{name:n,enabled:t,value:a,taxCategoryId:i,zoneId:s,customerGroupId:m,customFields:v}=this.detailForm.value;if(!n||null==t||null==a||!i||!s)return;const f=this.detailForm.value,F={name:n,enabled:t,value:a,categoryId:i,zoneId:s,customerGroupId:f.customerGroupId,customFields:f.customFields};this.dataService.settings.createTaxRate(F).subscribe(he=>{this.notificationService.success((0,d.x)("common.notify-create-success"),{entity:"TaxRate"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",he.createTaxRate.id],{relativeTo:this.route})},he=>{this.notificationService.error((0,d.x)("common.notify-create-error"),{entity:"TaxRate"})})}save(){if(!this.detailForm.dirty)return;const n=this.detailForm.value;this.entity$.pipe((0,y.s)(1),(0,_.Z)(t=>{const a={id:t.id,name:n.name,enabled:n.enabled,value:n.value,categoryId:n.taxCategoryId,zoneId:n.zoneId,customerGroupId:n.customerGroupId,customFields:n.customFields};return this.dataService.settings.updateTaxRate(a)})).subscribe(t=>{this.notificationService.success((0,d.x)("common.notify-update-success"),{entity:"TaxRate"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},t=>{this.notificationService.error((0,d.x)("common.notify-update-error"),{entity:"TaxRate"})})}setFormValues(n,t){this.detailForm.patchValue({name:n.name,enabled:n.enabled,value:n.value,taxCategoryId:n.category?n.category.id:"",zoneId:n.zone?n.zone.id:"",customerGroupId:n.customerGroup?n.customerGroup.id:""}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),n)}static{this.\u0275fac=function(t){return new(t||ie)(e.rXU(e.gRc),e.rXU(o.uSP),e.rXU(l.ok),e.rXU(o.JEu))}}static{this.\u0275cmp=e.VBU({type:ie,selectors:[["vdr-tax-rate-detail"]],features:[e.Vt3],decls:45,vars:44,consts:[["updateButton",""],["locationId","tax-rate-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],["for","enabled",3,"label"],["type","checkbox","clrToggle","","id","enabled","formControlName","enabled",3,"vdrDisabled"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["for","value",3,"label"],["suffix","%"],["id","value","type","number","step","0.1","formControlName","value",3,"readonly"],["for","taxCategoryId",3,"label"],["name","taxCategoryId","formControlName","taxCategoryId",3,"vdrDisabled"],[3,"value",4,"ngFor","ngForOf"],["for","zoneId",3,"label"],["name","zoneId","formControlName","zoneId",3,"vdrDisabled"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","tax-rate-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],[3,"value"],["formGroupName","customFields",3,"title"],["entityName","TaxRate",3,"customFields","customFieldsFormGroup"]],template:function(t,a){if(1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",1),e.DNE(5,Ba,3,4,"button",2),e.nI1(6,"async"),e.DNE(7,Oa,1,1,"ng-template",null,0,e.C5r),e.nrm(9,"vdr-action-bar-dropdown-menu",1),e.k0s()()(),e.j41(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar")(13,"vdr-card")(14,"vdr-form-field",4),e.nI1(15,"translate"),e.j41(16,"clr-toggle-wrapper"),e.nrm(17,"input",5),e.nI1(18,"hasPermission"),e.k0s()()(),e.DNE(19,Va,2,1,"vdr-card",6),e.nI1(20,"async"),e.k0s(),e.j41(21,"vdr-page-block")(22,"vdr-card")(23,"div",7)(24,"vdr-form-field",8),e.nI1(25,"translate"),e.nrm(26,"input",9),e.nI1(27,"hasPermission"),e.k0s(),e.j41(28,"vdr-form-field",10),e.nI1(29,"translate"),e.j41(30,"vdr-affixed-input",11),e.nrm(31,"input",12),e.nI1(32,"hasPermission"),e.k0s()(),e.j41(33,"vdr-form-field",13),e.nI1(34,"translate"),e.j41(35,"select",14),e.nI1(36,"hasPermission"),e.DNE(37,Ua,2,2,"option",15),e.nI1(38,"async"),e.k0s()(),e.j41(39,"vdr-form-field",16),e.nI1(40,"translate"),e.nrm(41,"vdr-zone-selector",17),e.nI1(42,"hasPermission"),e.k0s()()(),e.DNE(43,Xa,3,5,"vdr-card",18),e.nrm(44,"vdr-custom-detail-component-host",19),e.k0s()()()),2&t){const i=e.sdS(8);e.R7$(5),e.Y8G("ngIf",e.bMT(6,18,a.isNew$))("ngIfElse",i),e.R7$(5),e.Y8G("formGroup",a.detailForm),e.R7$(4),e.Y8G("label",e.bMT(15,20,"common.enabled")),e.R7$(3),e.Y8G("vdrDisabled",!e.bMT(18,22,a.updatePermission)),e.R7$(2),e.Y8G("ngIf",e.bMT(20,24,a.entity$)),e.R7$(5),e.Y8G("label",e.bMT(25,26,"common.name")),e.R7$(2),e.Y8G("readonly",!e.bMT(27,28,a.updatePermission)),e.R7$(2),e.Y8G("label",e.bMT(29,30,"settings.rate")),e.R7$(3),e.Y8G("readonly",!e.bMT(32,32,a.updatePermission)),e.R7$(2),e.Y8G("label",e.bMT(34,34,"settings.tax-category")),e.R7$(2),e.Y8G("vdrDisabled",!e.bMT(36,36,a.updatePermission)),e.R7$(2),e.Y8G("ngForOf",e.bMT(38,38,a.taxCategories$)),e.R7$(2),e.Y8G("label",e.bMT(40,40,"settings.zone")),e.R7$(2),e.Y8G("vdrDisabled",!e.bMT(42,42,a.updatePermission)),e.R7$(2),e.Y8G("ngIf",a.customFields.length),e.R7$(),e.Y8G("entity$",a.entity$)("detailForm",a.detailForm)}},dependencies:[g.Jej,g.eAx,c.Sq,c.bT,l.qT,l.xH,l.y7,l.me,l.Q0,l.Zm,l.wz,l.BC,l.cb,l.j4,l.JD,l.$R,o.nGW,o.wL$,o.TXc,o.lST,o.Rj_,o.KSf,o.Vr5,o.pFL,o.TcB,o.y5i,o.W4C,o.Loz,o.eH4,o.ERS,o.c5c,o.eCv,o.iby,o.to9,c.Jj,h.D9,o.Ex],changeDetection:0})}}const we=(0,o.AfA)({location:"tax-rate-list",requiresPermission:r=>r.includes(o.aXG.DeleteSettings)||r.includes(o.aXG.DeleteTaxRate),getItemName:r=>r.name,bulkDelete:(r,n)=>r.settings.deleteTaxRates(n).pipe((0,b.T)(t=>t.deleteTaxRates))}),Jo=p.J1`
    query GetTaxRateList($options: TaxRateListOptions) {
        taxRates(options: $options) {
            items {
                ...TaxRate
            }
            totalItems
        }
    }
    ${o.QaU}
`;class se extends o.B8I{constructor(){super(),this.dataTableListId="tax-rate-list",this.customFields=this.getCustomFieldConfig("TaxRate"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:(0,d.x)("common.name"),filterField:"name"}).addFilter({name:"enabled",type:{kind:"boolean"},label:(0,d.x)("common.enabled"),filterField:"enabled"}).addFilter({name:"value",type:{kind:"number"},label:(0,d.x)("common.value"),filterField:"value"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addSort({name:"value"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:o.LU$,getItems:n=>n.taxRates,setVariables:(n,t)=>({options:{skip:n,take:t,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}static{this.\u0275fac=function(t){return new(t||se)}}static{this.\u0275cmp=e.VBU({type:se,selectors:[["vdr-tax-rate-list"]],features:[e.Vt3],decls:43,vars:59,consts:[["locationId","tax-rate-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters"],["locationId","tax-rate-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","tax-category",3,"heading"],["id","zone",3,"heading"],["id","customer-group",3,"heading","hiddenByDefault"],["id","tax-rate",3,"heading","sort"],["id","enabled",3,"heading"],[3,"customField","sorts",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["colorType","success",4,"ngIf"],["colorType","warning",4,"ngIf"],["colorType","success"],["colorType","warning"],[3,"customField","sorts"]],template:function(t,a){1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",0),e.DNE(5,Za,4,5,"a",1),e.nrm(6,"vdr-action-bar-dropdown-menu",0),e.k0s()()(),e.j41(7,"vdr-data-table-2",2),e.nI1(8,"async"),e.nI1(9,"async"),e.nI1(10,"async"),e.nI1(11,"async"),e.bIt("pageChange",function(s){return a.setPageNumber(s)})("itemsPerPageChange",function(s){return a.setItemsPerPage(s)})("visibleColumnsChange",function(s){return a.setVisibleColumns(s)}),e.nrm(12,"vdr-bulk-action-menu",3)(13,"vdr-dt2-search",4),e.nI1(14,"translate"),e.j41(15,"vdr-dt2-column",5),e.nI1(16,"translate"),e.DNE(17,Ja,1,1,"ng-template"),e.k0s(),e.j41(18,"vdr-dt2-column",6),e.nI1(19,"translate"),e.DNE(20,Ha,2,4,"ng-template"),e.k0s(),e.j41(21,"vdr-dt2-column",7),e.nI1(22,"translate"),e.DNE(23,za,2,4,"ng-template"),e.k0s(),e.j41(24,"vdr-dt2-column",8),e.nI1(25,"translate"),e.DNE(26,Wa,4,4,"ng-template"),e.k0s(),e.j41(27,"vdr-dt2-column",9),e.nI1(28,"translate"),e.DNE(29,Qa,1,1,"ng-template"),e.k0s(),e.j41(30,"vdr-dt2-column",10),e.nI1(31,"translate"),e.DNE(32,Ka,1,1,"ng-template"),e.k0s(),e.j41(33,"vdr-dt2-column",11),e.nI1(34,"translate"),e.DNE(35,eo,1,1,"ng-template"),e.k0s(),e.j41(36,"vdr-dt2-column",12),e.nI1(37,"translate"),e.DNE(38,to,1,1,"ng-template"),e.k0s(),e.j41(39,"vdr-dt2-column",13),e.nI1(40,"translate"),e.DNE(41,ao,2,2,"ng-template"),e.k0s(),e.DNE(42,oo,1,2,"vdr-dt2-custom-field-column",14),e.k0s()),2&t&&(e.R7$(5),e.Y8G("vdrIfPermissions",e.lJ4(58,qa)),e.R7$(2),e.Y8G("id",a.dataTableListId)("items",e.bMT(8,30,a.items$))("itemsPerPage",e.bMT(9,32,a.itemsPerPage$))("totalItems",e.bMT(10,34,a.totalItems$))("currentPage",e.bMT(11,36,a.currentPage$))("filters",a.filters),e.R7$(5),e.Y8G("hostComponent",a)("selectionManager",a.selectionManager),e.R7$(),e.Y8G("searchTermControl",a.searchTermControl)("searchTermPlaceholder",e.bMT(14,38,"catalog.filter-by-name")),e.R7$(2),e.Y8G("heading",e.bMT(16,40,"common.id"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("heading",e.bMT(19,42,"common.created-at"))("hiddenByDefault",!0)("sort",a.sorts.get("createdAt")),e.R7$(3),e.Y8G("heading",e.bMT(22,44,"common.updated-at"))("hiddenByDefault",!0)("sort",a.sorts.get("updatedAt")),e.R7$(3),e.Y8G("heading",e.bMT(25,46,"common.name"))("optional",!1)("sort",a.sorts.get("name")),e.R7$(3),e.Y8G("heading",e.bMT(28,48,"settings.tax-category")),e.R7$(3),e.Y8G("heading",e.bMT(31,50,"settings.zone")),e.R7$(3),e.Y8G("heading",e.bMT(34,52,"customer.customer-group"))("hiddenByDefault",!0),e.R7$(3),e.Y8G("heading",e.bMT(37,54,"settings.tax-rate"))("sort",a.sorts.get("value")),e.R7$(3),e.Y8G("heading",e.bMT(40,56,"common.enabled")),e.R7$(3),e.Y8G("ngForOf",a.customFields))},dependencies:[g.U4n,c.Sq,c.bT,C.Wk,o.nGW,o.wL$,o.TXc,o.lST,o.wux,o.pFL,o.TcB,o.T0b,o.IMU,o.Y9G,o.E8Q,o.TnO,o.eH4,c.Jj,h.D9,o.PU$],changeDetection:0})}}class le{constructor(n){this.dataService=n,this.testDataUpdated=!1,this.fetchTestResult$=new N.B}ngOnInit(){this.activeChannel$=this.dataService.settings.getActiveChannel().mapStream(n=>n.activeChannel),this.testResult$=this.fetchTestResult$.pipe((0,L.n)(([n,t])=>{const a={shippingAddress:{...n,streetLine1:"test"},lines:t.map(i=>({productVariantId:i.id,quantity:i.quantity}))};return this.dataService.shippingMethod.testEligibleShippingMethods(a).mapSingle(i=>i.testEligibleShippingMethods)}))}setTestOrderLines(n){this.testOrderLines=n,this.testDataUpdated=!0}setTestAddress(n){this.testAddress=n,this.testDataUpdated=!0}allTestDataPresent(){return!!(this.testAddress&&this.testOrderLines&&this.testOrderLines.length)}runTest(){this.fetchTestResult$.next([this.testAddress,this.testOrderLines]),this.testDataUpdated=!1}static{this.\u0275fac=function(t){return new(t||le)(e.rXU(o.uSP))}}static{this.\u0275cmp=e.VBU({type:le,selectors:[["vdr-test-shipping-methods"]],decls:9,vars:8,consts:[[1,"test-wrapper"],[1,""],[3,"orderLinesChange"],[3,"addressChange"],[1,"mt-1",3,"runTest","currencyCode","okToRun","testDataUpdated","testResult"]],template:function(t,a){if(1&t&&(e.j41(0,"vdr-page-block")(1,"div",0)(2,"div",1)(3,"vdr-test-order-builder",2),e.bIt("orderLinesChange",function(s){return a.setTestOrderLines(s)}),e.k0s()(),e.j41(4,"div",1)(5,"vdr-test-address-form",3),e.bIt("addressChange",function(s){return a.setTestAddress(s)}),e.k0s(),e.j41(6,"vdr-shipping-eligibility-test-result",4),e.nI1(7,"async"),e.nI1(8,"async"),e.bIt("runTest",function(){return a.runTest()}),e.k0s()()()()),2&t){let i;e.R7$(6),e.Y8G("currencyCode",null==(i=e.bMT(7,4,a.activeChannel$))?null:i.currencyCode)("okToRun",a.allTestDataPresent())("testDataUpdated",a.testDataUpdated)("testResult",e.bMT(8,6,a.testResult$))}},dependencies:[o.eH4,G,M,Q,c.Jj],styles:[".test-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;gap:var(--space-unit)}.test-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1}@media screen and (max-width: 992px){.test-wrapper[_ngcontent-%COMP%]{flex-direction:column}}"],changeDetection:0})}}const Ho=p.J1`
    query GetZoneDetail($id: ID!) {
        zone(id: $id) {
            ...ZoneDetail
        }
    }
    fragment ZoneDetail on Zone {
        id
        createdAt
        updatedAt
        name
    }
`;class de extends o.wi7{constructor(n,t,a,i){super(),this.changeDetector=n,this.dataService=t,this.formBuilder=a,this.notificationService=i,this.customFields=this.getCustomFieldConfig("Zone"),this.detailForm=this.formBuilder.group({name:["",l.k0.required],customFields:this.formBuilder.group((0,o.HCD)(this.customFields))}),this.updatePermission=[o.aXG.UpdateSettings,o.aXG.UpdateZone]}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}saveButtonEnabled(){return this.detailForm.dirty&&this.detailForm.valid}create(){if(!this.detailForm.dirty)return;const{name:n,customFields:t}=this.detailForm.value;if(!n)return;const a={name:n,customFields:t};this.dataService.settings.createZone(a).subscribe(i=>{this.notificationService.success((0,d.x)("common.notify-create-success"),{entity:"Zone"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck(),this.router.navigate(["../",i.createZone.id],{relativeTo:this.route})},i=>{this.notificationService.error((0,d.x)("common.notify-create-error"),{entity:"Zone"})})}save(){if(!this.detailForm.dirty)return;const n=this.detailForm.value;this.entity$.pipe((0,y.s)(1),(0,_.Z)(t=>{const a={id:t.id,name:n.name,customFields:n.customFields};return this.dataService.settings.updateZone(a)})).subscribe(t=>{this.notificationService.success((0,d.x)("common.notify-update-success"),{entity:"Zone"}),this.detailForm.markAsPristine(),this.changeDetector.markForCheck()},t=>{this.notificationService.error((0,d.x)("common.notify-update-error"),{entity:"Zone"})})}setFormValues(n,t){this.detailForm.patchValue({name:n.name}),this.customFields.length&&this.setCustomFieldFormValues(this.customFields,this.detailForm.get("customFields"),n)}static{this.\u0275fac=function(t){return new(t||de)(e.rXU(e.gRc),e.rXU(o.uSP),e.rXU(l.ok),e.rXU(o.JEu))}}static{this.\u0275cmp=e.VBU({type:de,selectors:[["vdr-zone-detail"]],features:[e.Vt3],decls:24,vars:17,consts:[["updateButton",""],["locationId","zone-detail"],["class","btn btn-primary",3,"disabled","click",4,"ngIf","ngIfElse"],[1,"form",3,"formGroup"],[4,"ngIf"],[1,"form-grid"],["for","name",3,"label"],["id","name","type","text","formControlName","name",3,"readonly"],["formGroupName","customFields",3,"title",4,"ngIf"],["locationId","zone-detail",3,"entity$","detailForm"],[1,"btn","btn-primary",3,"click","disabled"],["class","btn btn-primary",3,"disabled","click",4,"vdrIfPermissions"],[3,"entity"],["formGroupName","customFields",3,"title"],["entityName","Zone",3,"customFields","customFieldsFormGroup"]],template:function(t,a){if(1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar"),e.nrm(2,"vdr-ab-left"),e.j41(3,"vdr-ab-right"),e.nrm(4,"vdr-action-bar-items",1),e.DNE(5,io,3,4,"button",2),e.nI1(6,"async"),e.DNE(7,lo,1,1,"ng-template",null,0,e.C5r),e.nrm(9,"vdr-action-bar-dropdown-menu",1),e.k0s()()(),e.j41(10,"form",3)(11,"vdr-page-detail-layout")(12,"vdr-page-detail-sidebar"),e.DNE(13,co,2,1,"vdr-card",4),e.nI1(14,"async"),e.k0s(),e.j41(15,"vdr-page-block")(16,"vdr-card")(17,"div",5)(18,"vdr-form-field",6),e.nI1(19,"translate"),e.nrm(20,"input",7),e.nI1(21,"hasPermission"),e.k0s()()(),e.DNE(22,mo,3,5,"vdr-card",8),e.nrm(23,"vdr-custom-detail-component-host",9),e.k0s()()()),2&t){const i=e.sdS(8);e.R7$(5),e.Y8G("ngIf",e.bMT(6,9,a.isNew$))("ngIfElse",i),e.R7$(5),e.Y8G("formGroup",a.detailForm),e.R7$(3),e.Y8G("ngIf",e.bMT(14,11,a.entity$)),e.R7$(5),e.Y8G("label",e.bMT(19,13,"common.name")),e.R7$(2),e.Y8G("readonly",!e.bMT(21,15,a.updatePermission)),e.R7$(2),e.Y8G("ngIf",a.customFields.length),e.R7$(),e.Y8G("entity$",a.entity$)("detailForm",a.detailForm)}},dependencies:[c.bT,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,l.$R,o.nGW,o.wL$,o.TXc,o.lST,o.KSf,o.Vr5,o.pFL,o.TcB,o.W4C,o.Loz,o.eH4,o.ERS,o.c5c,o.eCv,o.iby,c.Jj,h.D9,o.Ex],changeDetection:0})}}const Oe=(0,o.AfA)({location:"zone-list",requiresPermission:r=>r.includes(o.aXG.DeleteSettings)||r.includes(o.aXG.DeleteZone),getItemName:r=>r.name,bulkDelete:(r,n)=>r.settings.deleteZones(n).pipe((0,b.T)(t=>t.deleteZones))}),zo=p.J1`
    query GetZoneList($options: ZoneListOptions) {
        zones(options: $options) {
            items {
                ...ZoneListItem
            }
            totalItems
        }
    }
    fragment ZoneListItem on Zone {
        id
        createdAt
        updatedAt
        name
    }
`;class ce extends o.B8I{constructor(n,t,a){super(),this.dataService=n,this.notificationService=t,this.modalService=a,this.dataTableListId="zone-list",this.selectedMemberIds=[],this.customFields=this.serverConfigService.getCustomFieldsFor("Zone"),this.filters=this.createFilterCollection().addIdFilter().addDateFilters().addFilter({name:"name",type:{kind:"text"},label:(0,d.x)("common.name"),filterField:"name"}).addCustomFieldFilters(this.customFields).connectToRoute(this.route),this.sorts=this.createSortCollection().defaultSort("createdAt","DESC").addSort({name:"createdAt"}).addSort({name:"updatedAt"}).addSort({name:"name"}).addCustomFieldSorts(this.customFields).connectToRoute(this.route),super.configure({document:o.mkH,getItems:i=>i.zones,setVariables:(i,s)=>({options:{skip:i,take:s,filter:{name:{contains:this.searchTermControl.value},...this.filters.createFilterInput()},filterOperator:this.searchTermControl.value?o.umn.OR:o.umn.AND,sort:this.sorts.createSortInput()}}),refreshListOnChanges:[this.filters.valueChanges,this.sorts.valueChanges]})}ngOnInit(){super.ngOnInit();const n=this.route.paramMap.pipe((0,b.T)(t=>t.get("contents")),(0,We.F)(),(0,Fe.M)(()=>this.selectedMemberIds=[]));this.activeZone$=(0,$.z)(this.items$,n).pipe((0,b.T)(([t,a])=>{if(a)return t.find(i=>i.id===a)})),this.activeIndex$=(0,$.z)(this.items$,n).pipe((0,b.T)(([t,a])=>a?t.findIndex(i=>i.id===a):-1))}setLanguage(n){this.dataService.client.setContentLanguage(n).subscribe()}closeMembers(){const n={...this.route.snapshot.params};delete n.contents,this.router.navigate(["./",n],{relativeTo:this.route,queryParamsHandling:"preserve"})}addToZone(n){this.modalService.fromComponent(j,{locals:{zoneName:n.name,zoneId:n.id},size:"md"}).pipe((0,L.n)(t=>t?this.dataService.settings.addMembersToZone(n.id,t).pipe((0,Qe.u)(t)):et.w)).subscribe({next:t=>{this.notificationService.success((0,d.x)("settings.add-countries-to-zone-success"),{countryCount:t.length,zoneName:n.name}),this.refreshMemberList()},error:t=>{this.notificationService.error(t)}})}refreshMemberList(){this.zoneMemberList?.refresh()}static{this.\u0275fac=function(t){return new(t||ce)(e.rXU(o.uSP),e.rXU(o.JEu),e.rXU(o.Bg8))}}static{this.\u0275cmp=e.VBU({type:ce,selectors:[["vdr-zone-list"]],viewQuery:function(t,a){if(1&t&&e.GBs(D,5),2&t){let i;e.mGM(i=e.lsd())&&(a.zoneMemberList=i.first)}},features:[e.Vt3],decls:15,vars:14,consts:[[3,"languageCodeChange","availableLanguageCodes","currentLanguageCode"],["locationId","zone-list"],["class","btn btn-primary",3,"routerLink",4,"vdrIfPermissions"],[3,"closeClicked","rightPanelOpen"],["vdrSplitViewLeft",""],["vdrSplitViewRight","",3,"splitViewTitle"],[1,"btn","btn-primary",3,"routerLink"],["shape","plus"],[3,"pageChange","itemsPerPageChange","visibleColumnsChange","id","items","itemsPerPage","totalItems","currentPage","filters","activeIndex"],["locationId","zone-list",3,"hostComponent","selectionManager"],[3,"searchTermControl","searchTermPlaceholder"],["id","id",3,"heading","hiddenByDefault"],["id","created-at",3,"heading","hiddenByDefault","sort"],["id","updated-at",3,"heading","hiddenByDefault","sort"],["id","name",3,"heading","optional","sort"],["id","view-contents",3,"heading","optional"],[3,"customField","sort",4,"ngFor","ngForOf"],[1,"button-ghost",3,"routerLink"],["shape","arrow right"],["queryParamsHandling","preserve",1,"button-small","bg-weight-150",3,"routerLink"],["shape","file-group"],[3,"customField","sort"],[4,"ngIf"],[1,"button-ghost","ml-4",3,"click"],["locationId","zone-members-list",3,"selectedMemberIds","activeZone","selectionChange",4,"ngIf"],["locationId","zone-members-list",3,"selectionChange","selectedMemberIds","activeZone"]],template:function(t,a){if(1&t&&(e.j41(0,"vdr-page-block")(1,"vdr-action-bar")(2,"vdr-ab-left")(3,"vdr-language-selector",0),e.nI1(4,"async"),e.nI1(5,"async"),e.bIt("languageCodeChange",function(s){return a.setLanguage(s)}),e.k0s()(),e.j41(6,"vdr-ab-right"),e.nrm(7,"vdr-action-bar-items",1),e.DNE(8,go,4,5,"a",2),e.nrm(9,"vdr-action-bar-dropdown-menu",1),e.k0s()()(),e.j41(10,"vdr-split-view",3),e.nI1(11,"async"),e.bIt("closeClicked",function(){return a.closeMembers()}),e.DNE(12,yo,25,47,"ng-template",4)(13,Fo,2,3,"ng-template",5),e.nI1(14,"async"),e.k0s()),2&t){let i;e.R7$(3),e.Y8G("availableLanguageCodes",e.bMT(4,5,a.availableLanguages$))("currentLanguageCode",e.bMT(5,7,a.contentLanguage$)),e.R7$(5),e.Y8G("vdrIfPermissions",e.lJ4(13,uo)),e.R7$(2),e.Y8G("rightPanelOpen",e.bMT(11,9,a.activeZone$)),e.R7$(3),e.Y8G("splitViewTitle",null==(i=e.bMT(14,11,a.activeZone$))?null:i.name)}},dependencies:[g.U4n,c.Sq,c.bT,C.Wk,o.nGW,o.wL$,o.TXc,o.lST,o.t89,o.pFL,o.TcB,o.T0b,o.IMU,o.Y9G,o.E8Q,o.TnO,o.lEN,o.w$F,o.PJR,o.eH4,D,c.Jj,h.D9,o.PU$],styles:[".zone-wrapper[_ngcontent-%COMP%]{display:flex;height:calc(100% - 50px)}.zone-wrapper[_ngcontent-%COMP%]   .zone-list[_ngcontent-%COMP%]{flex:1;overflow:auto;margin-top:0}.zone-wrapper[_ngcontent-%COMP%]   .zone-list[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]{background-color:var(--color-component-bg-200)}.zone-members[_ngcontent-%COMP%]{height:100%;width:0;opacity:0;visibility:hidden;overflow:auto;transition:width .3s,opacity .2s .3s,visibility 0s .3s}.zone-members.expanded[_ngcontent-%COMP%]{width:40vw;visibility:visible;opacity:1;padding-inline-start:12px}.zone-members[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{margin:0;background:none;border:none;cursor:pointer}.zone-members[_ngcontent-%COMP%]     table.table{margin-top:0}.zone-members[_ngcontent-%COMP%]     table.table th{top:0}.zone-members[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"],changeDetection:0})}}const Ve={location:"zone-members-list",label:(0,d.x)("settings.remove-from-zone"),icon:"trash",iconClass:"is-danger",requiresPermission:o.aXG.UpdateCustomerGroup,onClick:({injector:r,selection:n,hostComponent:t,clearSelection:a})=>{const i=r.get(o.uSP),s=r.get(o.JEu),m=t.activeZone,v=n.map(f=>f.id);i.settings.removeMembersFromZone(m.id,v).subscribe({complete:()=>{s.success((0,d.x)("settings.remove-countries-from-zone-success"),{countryCount:v.length,zoneName:m.name}),t.refresh(),a()}})}};class me extends o.fJp{constructor(n,t){super(n,{__typename:"Administrator",id:"",createdAt:"",updatedAt:"",emailAddress:"",firstName:"",lastName:"",user:{roles:[]}},a=>t.administrator.getActiveAdministrator().mapStream(i=>i.activeAdministrator))}static{this.\u0275fac=function(t){return new(t||me)(e.KVO(C.Ix),e.KVO(o.uSP))}}static{this.\u0275prov=e.jDH({token:me,factory:me.\u0275fac,providedIn:"root"})}}const Ue=r=>[{path:"profile",component:o.H1b,data:{breadcrumb:(0,d.x)("breadcrumb.profile")},resolve:{detail:()=>(0,e.WQX)(o.uSP).query(o.e6W).mapSingle(n=>({entity:(0,pe.of)(n.activeAdministrator)}))},children:r.getPageTabRoutes("profile")},{path:"administrators",component:o.H1b,data:{locationId:"administrator-list",breadcrumb:(0,d.x)("breadcrumb.administrators")},children:r.getPageTabRoutes("administrator-list")},{path:"administrators/:id",component:o.H1b,data:{locationId:"administrator-detail",breadcrumb:{label:(0,d.x)("breadcrumb.administrators"),link:["../","administrators"]}},children:r.getPageTabRoutes("administrator-detail")},{path:"channels",component:o.H1b,data:{locationId:"channel-list",breadcrumb:(0,d.x)("breadcrumb.channels")},children:r.getPageTabRoutes("channel-list")},{path:"channels/:id",component:o.H1b,data:{locationId:"channel-detail",breadcrumb:{label:(0,d.x)("breadcrumb.channels"),link:["../","channels"]}},children:r.getPageTabRoutes("channel-detail")},{path:"stock-locations",component:o.H1b,data:{locationId:"stock-location-list",breadcrumb:(0,d.x)("breadcrumb.stock-locations")},children:r.getPageTabRoutes("stock-location-list")},{path:"stock-locations/:id",component:o.H1b,data:{locationId:"stock-location-detail",breadcrumb:{label:(0,d.x)("breadcrumb.stock-locations"),link:["../","stock-locations"]}},children:r.getPageTabRoutes("stock-location-detail")},{path:"sellers",component:o.H1b,data:{locationId:"seller-list",breadcrumb:(0,d.x)("breadcrumb.sellers")},children:r.getPageTabRoutes("seller-list")},{path:"sellers/:id",component:o.H1b,data:{locationId:"seller-detail",breadcrumb:{label:(0,d.x)("breadcrumb.sellers"),link:["../","sellers"]}},children:r.getPageTabRoutes("seller-detail")},{path:"roles",component:o.H1b,data:{locationId:"role-list",breadcrumb:(0,d.x)("breadcrumb.roles")},children:r.getPageTabRoutes("role-list")},{path:"roles/:id",component:o.H1b,data:{locationId:"role-detail",breadcrumb:{label:(0,d.x)("breadcrumb.roles"),link:["../","roles"]}},children:r.getPageTabRoutes("role-detail")},{path:"tax-categories",component:o.H1b,data:{locationId:"tax-category-list",breadcrumb:(0,d.x)("breadcrumb.tax-categories")},children:r.getPageTabRoutes("tax-category-list")},{path:"tax-categories/:id",component:o.H1b,data:{locationId:"tax-category-detail",breadcrumb:{label:(0,d.x)("breadcrumb.tax-categories"),link:["../","tax-categories"]}},children:r.getPageTabRoutes("tax-category-detail")},{path:"tax-rates",component:o.H1b,data:{locationId:"tax-rate-list",breadcrumb:(0,d.x)("breadcrumb.tax-rates")},children:r.getPageTabRoutes("tax-rate-list")},{path:"tax-rates/:id",component:o.H1b,data:{locationId:"tax-rate-detail",breadcrumb:{label:(0,d.x)("breadcrumb.tax-rates"),link:["../","tax-rates"]}},children:r.getPageTabRoutes("tax-rate-detail")},{path:"countries",component:o.H1b,data:{locationId:"country-list",breadcrumb:(0,d.x)("breadcrumb.countries")},children:r.getPageTabRoutes("country-list")},{path:"countries/:id",component:o.H1b,data:{locationId:"country-detail",breadcrumb:{label:(0,d.x)("breadcrumb.countries"),link:["../","countries"]}},children:r.getPageTabRoutes("country-detail")},{path:"zones",component:o.H1b,data:{locationId:"zone-list",breadcrumb:(0,d.x)("breadcrumb.zones")},children:r.getPageTabRoutes("zone-list")},{path:"zones/:id",component:o.H1b,data:{locationId:"zone-detail",breadcrumb:{label:(0,d.x)("breadcrumb.zones"),link:["../","zones"]}},children:r.getPageTabRoutes("zone-detail")},{path:"shipping-methods",component:o.H1b,data:{locationId:"shipping-method-list",breadcrumb:(0,d.x)("breadcrumb.shipping-methods")},children:r.getPageTabRoutes("shipping-method-list")},{path:"shipping-methods/:id",component:o.H1b,data:{locationId:"shipping-method-detail",breadcrumb:{label:(0,d.x)("breadcrumb.shipping-methods"),link:["../","shipping-methods"]}},children:r.getPageTabRoutes("shipping-method-detail")},{path:"payment-methods",component:o.H1b,data:{locationId:"payment-method-list",breadcrumb:(0,d.x)("breadcrumb.payment-methods")},children:r.getPageTabRoutes("payment-method-list")},{path:"payment-methods/:id",component:o.H1b,data:{locationId:"payment-method-detail",breadcrumb:{label:(0,d.x)("breadcrumb.payment-methods"),link:["../","payment-methods"]}},children:r.getPageTabRoutes("payment-method-detail")},{path:"global-settings",component:o.H1b,data:{breadcrumb:(0,d.x)("breadcrumb.global-settings"),locationId:"global-setting-detail"},resolve:{detail:()=>(0,e.WQX)(o.uSP).query(o.pcO).mapSingle(n=>({entity:(0,pe.of)(n.globalSettings)}))},children:r.getPageTabRoutes("global-setting-detail")}];class S{static{this.hasRegisteredTabsAndBulkActions=!1}constructor(n,t){S.hasRegisteredTabsAndBulkActions||(n.registerBulkAction(Le),n.registerBulkAction(Pe),n.registerBulkAction(De),n.registerBulkAction(Se),n.registerBulkAction(Ee),n.registerBulkAction(Ae),n.registerBulkAction(Ne),n.registerBulkAction(Ge),n.registerBulkAction(Me),n.registerBulkAction(Re),n.registerBulkAction(Be),n.registerBulkAction(we),n.registerBulkAction($e),n.registerBulkAction(Oe),n.registerBulkAction(Ve),n.registerBulkAction(xe),n.registerBulkAction(Ye),n.registerBulkAction(je),t.registerPageTab({priority:0,location:"seller-list",tab:(0,d.x)("breadcrumb.sellers"),route:"",component:W}),t.registerPageTab({priority:0,location:"seller-detail",tab:(0,d.x)("settings.seller"),route:"",component:(0,o.HL6)({component:z,query:o.aqc,entityKey:"seller",getBreadcrumbs:a=>[{label:a?a.name:(0,d.x)("settings.create-new-seller"),link:[a?.id]}]})}),t.registerPageTab({priority:0,location:"channel-list",tab:(0,d.x)("breadcrumb.channels"),route:"",component:w}),t.registerPageTab({priority:0,location:"channel-detail",tab:(0,d.x)("settings.channel"),route:"",component:(0,o.HL6)({component:B,query:o.YwZ,entityKey:"channel",getBreadcrumbs:a=>[{label:a?a.code===k.ky?"common.default-channel":a.code:(0,d.x)("settings.create-new-channel"),link:[a?.id]}]})}),t.registerPageTab({priority:0,location:"administrator-list",tab:(0,d.x)("breadcrumb.administrators"),route:"",component:Y}),t.registerPageTab({priority:0,location:"administrator-detail",tab:(0,d.x)("settings.administrator"),route:"",component:(0,o.HL6)({component:x,query:o._yn,entityKey:"administrator",getBreadcrumbs:a=>[{label:a?`${a.firstName} ${a.lastName}`:(0,d.x)("admin.create-new-administrator"),link:[a?.id]}]})}),t.registerPageTab({priority:0,location:"role-list",tab:(0,d.x)("breadcrumb.roles"),route:"",component:H}),t.registerPageTab({priority:0,location:"role-detail",tab:(0,d.x)("settings.role"),route:"",component:(0,o.HL6)({component:J,query:o.bci,entityKey:"role",getBreadcrumbs:a=>[{label:a?a.description:(0,d.x)("settings.create-new-role"),link:[a?.id]}]})}),t.registerPageTab({priority:0,location:"shipping-method-list",tab:(0,d.x)("breadcrumb.shipping-methods"),route:"",component:te}),t.registerPageTab({priority:0,location:"shipping-method-detail",tab:(0,d.x)("settings.shipping-method"),route:"",component:(0,o.HL6)({component:ee,query:o.iEl,entityKey:"shippingMethod",getBreadcrumbs:a=>[{label:a?a.name:(0,d.x)("settings.create-new-shipping-method"),link:[a?.id]}]})}),t.registerPageTab({priority:0,location:"shipping-method-list",tab:(0,d.x)("settings.test-shipping-methods"),route:"test",component:le}),t.registerPageTab({priority:0,location:"payment-method-list",tab:(0,d.x)("breadcrumb.payment-methods"),route:"",component:q}),t.registerPageTab({priority:0,location:"payment-method-detail",tab:(0,d.x)("settings.payment-method"),route:"",component:(0,o.HL6)({component:X,query:o.y$X,entityKey:"paymentMethod",getBreadcrumbs:a=>[{label:a?a.name:(0,d.x)("settings.create-new-payment-method"),link:[a?.id]}]})}),t.registerPageTab({priority:0,location:"tax-category-list",tab:(0,d.x)("breadcrumb.tax-categories"),route:"",component:oe}),t.registerPageTab({priority:0,location:"tax-category-detail",tab:(0,d.x)("settings.tax-category"),route:"",component:(0,o.HL6)({component:ae,query:o.mEt,entityKey:"taxCategory",getBreadcrumbs:a=>[{label:a?a.name:(0,d.x)("settings.create-new-tax-category"),link:[a?.id]}]})}),t.registerPageTab({priority:0,location:"tax-rate-list",tab:(0,d.x)("breadcrumb.tax-rates"),route:"",component:se}),t.registerPageTab({priority:0,location:"tax-rate-detail",tab:(0,d.x)("settings.tax-rate"),route:"",component:(0,o.HL6)({component:ie,query:o.AK$,entityKey:"taxRate",getBreadcrumbs:a=>[{label:a?a.name:(0,d.x)("settings.create-new-tax-rate"),link:[a?.id]}]})}),t.registerPageTab({priority:0,location:"country-list",tab:(0,d.x)("breadcrumb.countries"),route:"",component:V}),t.registerPageTab({priority:0,location:"country-detail",tab:(0,d.x)("settings.country"),route:"",component:(0,o.HL6)({component:O,query:o.VRr,entityKey:"country",getBreadcrumbs:a=>[{label:a?a.name:(0,d.x)("settings.create-new-country"),link:[a?.id]}]})}),t.registerPageTab({priority:0,location:"zone-list",tab:(0,d.x)("breadcrumb.zones"),route:"",component:ce}),t.registerPageTab({priority:0,location:"zone-detail",tab:(0,d.x)("settings.zone"),route:"",component:(0,o.HL6)({component:de,query:o.FOq,entityKey:"zone",getBreadcrumbs:a=>[{label:a?a.name:(0,d.x)("settings.create-new-zone"),link:[a?.id]}]})}),t.registerPageTab({priority:0,location:"global-setting-detail",tab:(0,d.x)("breadcrumb.global-settings"),route:"",component:U}),t.registerPageTab({priority:0,location:"profile",tab:(0,d.x)("breadcrumb.profile"),route:"",component:Z}),t.registerPageTab({priority:0,location:"stock-location-list",tab:(0,d.x)("catalog.stock-locations"),route:"",component:re}),t.registerPageTab({priority:0,location:"stock-location-detail",tab:(0,d.x)("catalog.stock-location"),route:"",component:(0,o.HL6)({component:ne,query:o.Yd9,entityKey:"stockLocation",getBreadcrumbs:a=>[{label:a?a.name:(0,d.x)("catalog.create-new-stock-location"),link:[a?.id]}]})}),S.hasRegisteredTabsAndBulkActions=!0)}static{this.\u0275fac=function(t){return new(t||S)(e.KVO(o.HCh),e.KVO(o.bPm))}}static{this.\u0275mod=e.$C({type:S})}static{this.\u0275inj=e.G2t({providers:[{provide:C.bw,useFactory:n=>Ue(n),multi:!0,deps:[o.bPm]}],imports:[o.GgS,C.iI.forChild([])]})}}}}]);
//# sourceMappingURL=644.122316916fca91e5.js.map